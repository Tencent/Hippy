{"version":3,"file":"MediaQueryInspector.js","sourceRoot":"","sources":["../../../../../../front_end/panels/emulation/MediaQueryInspector.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2014 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/* eslint-disable rulesdir/no_underscored_properties */\n\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Bindings from '../../models/bindings/bindings.js';\nimport type * as Workspace from '../../models/workspace/workspace.js'; // eslint-disable-line no-unused-vars\nimport * as UI from '../../ui/legacy/legacy.js';\n\nconst UIStrings = {\n  /**\n  * @description A context menu item/command in the Media Query Inspector of the Device Toolbar.\n  * Takes the user to the source code where this media query actually came from.\n  */\n  revealInSourceCode: 'Reveal in source code',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/emulation/MediaQueryInspector.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class MediaQueryInspector extends UI.Widget.Widget implements\n    SDK.TargetManager.SDKModelObserver<SDK.CSSModel.CSSModel> {\n  _mediaThrottler: Common.Throttler.Throttler;\n  _getWidthCallback: () => number;\n  _setWidthCallback: (arg0: number) => void;\n  _scale: number;\n  elementsToMediaQueryModel: WeakMap<Element, MediaQueryUIModel>;\n  elementsToCSSLocations: WeakMap<Element, SDK.CSSModel.CSSLocation[]>;\n  _cssModel?: SDK.CSSModel.CSSModel;\n  _cachedQueryModels?: MediaQueryUIModel[];\n\n  constructor(getWidthCallback: () => number, setWidthCallback: (arg0: number) => void) {\n    super(true);\n    this.registerRequiredCSS('panels/emulation/mediaQueryInspector.css', {enableLegacyPatching: false});\n    this.contentElement.classList.add('media-inspector-view');\n    this.contentElement.addEventListener('click', this._onMediaQueryClicked.bind(this), false);\n    this.contentElement.addEventListener('contextmenu', this._onContextMenu.bind(this), false);\n    this._mediaThrottler = new Common.Throttler.Throttler(0);\n\n    this._getWidthCallback = getWidthCallback;\n    this._setWidthCallback = setWidthCallback;\n    this._scale = 1;\n\n    this.elementsToMediaQueryModel = new WeakMap();\n    this.elementsToCSSLocations = new WeakMap();\n\n    SDK.TargetManager.TargetManager.instance().observeModels(SDK.CSSModel.CSSModel, this);\n    UI.ZoomManager.ZoomManager.instance().addEventListener(\n        UI.ZoomManager.Events.ZoomChanged, this._renderMediaQueries.bind(this), this);\n  }\n\n  modelAdded(cssModel: SDK.CSSModel.CSSModel): void {\n    // FIXME: adapt this to multiple targets.\n    if (this._cssModel) {\n      return;\n    }\n    this._cssModel = cssModel;\n    this._cssModel.addEventListener(SDK.CSSModel.Events.StyleSheetAdded, this._scheduleMediaQueriesUpdate, this);\n    this._cssModel.addEventListener(SDK.CSSModel.Events.StyleSheetRemoved, this._scheduleMediaQueriesUpdate, this);\n    this._cssModel.addEventListener(SDK.CSSModel.Events.StyleSheetChanged, this._scheduleMediaQueriesUpdate, this);\n    this._cssModel.addEventListener(\n        SDK.CSSModel.Events.MediaQueryResultChanged, this._scheduleMediaQueriesUpdate, this);\n  }\n\n  modelRemoved(cssModel: SDK.CSSModel.CSSModel): void {\n    if (cssModel !== this._cssModel) {\n      return;\n    }\n    this._cssModel.removeEventListener(SDK.CSSModel.Events.StyleSheetAdded, this._scheduleMediaQueriesUpdate, this);\n    this._cssModel.removeEventListener(SDK.CSSModel.Events.StyleSheetRemoved, this._scheduleMediaQueriesUpdate, this);\n    this._cssModel.removeEventListener(SDK.CSSModel.Events.StyleSheetChanged, this._scheduleMediaQueriesUpdate, this);\n    this._cssModel.removeEventListener(\n        SDK.CSSModel.Events.MediaQueryResultChanged, this._scheduleMediaQueriesUpdate, this);\n    delete this._cssModel;\n  }\n\n  setAxisTransform(scale: number): void {\n    if (Math.abs(this._scale - scale) < 1e-8) {\n      return;\n    }\n    this._scale = scale;\n    this._renderMediaQueries();\n  }\n\n  _onMediaQueryClicked(event: Event): void {\n    const mediaQueryMarker = (event.target as Node).enclosingNodeOrSelfWithClass('media-inspector-bar');\n    if (!mediaQueryMarker) {\n      return;\n    }\n\n    const model = this.elementsToMediaQueryModel.get(mediaQueryMarker);\n    if (!model) {\n      return;\n    }\n    const modelMaxWidth = model.maxWidthExpression();\n    const modelMinWidth = model.minWidthExpression();\n\n    if (model.section() === Section.Max) {\n      this._setWidthCallback(modelMaxWidth ? modelMaxWidth.computedLength() || 0 : 0);\n      return;\n    }\n    if (model.section() === Section.Min) {\n      this._setWidthCallback(modelMinWidth ? modelMinWidth.computedLength() || 0 : 0);\n      return;\n    }\n    const currentWidth = this._getWidthCallback();\n    if (modelMinWidth && currentWidth !== modelMinWidth.computedLength()) {\n      this._setWidthCallback(modelMinWidth.computedLength() || 0);\n    } else {\n      this._setWidthCallback(modelMaxWidth ? modelMaxWidth.computedLength() || 0 : 0);\n    }\n  }\n\n  _onContextMenu(event: Event): void {\n    if (!this._cssModel || !this._cssModel.isEnabled()) {\n      return;\n    }\n\n    const mediaQueryMarker = (event.target as Node).enclosingNodeOrSelfWithClass('media-inspector-bar');\n    if (!mediaQueryMarker) {\n      return;\n    }\n\n    const locations = this.elementsToCSSLocations.get(mediaQueryMarker) || [];\n    const uiLocations = new Map<string, Workspace.UISourceCode.UILocation>();\n    for (let i = 0; i < locations.length; ++i) {\n      const uiLocation =\n          Bindings.CSSWorkspaceBinding.CSSWorkspaceBinding.instance().rawLocationToUILocation(locations[i]);\n      if (!uiLocation) {\n        continue;\n      }\n      const descriptor = typeof uiLocation.columnNumber === 'number' ?\n          Platform.StringUtilities.sprintf(\n              '%s:%d:%d', uiLocation.uiSourceCode.url(), uiLocation.lineNumber + 1, uiLocation.columnNumber + 1) :\n          Platform.StringUtilities.sprintf('%s:%d', uiLocation.uiSourceCode.url(), uiLocation.lineNumber + 1);\n      uiLocations.set(descriptor, uiLocation);\n    }\n\n    const contextMenuItems = [...uiLocations.keys()].sort();\n    const contextMenu = new UI.ContextMenu.ContextMenu(event);\n    const subMenuItem = contextMenu.defaultSection().appendSubMenuItem(i18nString(UIStrings.revealInSourceCode));\n    for (let i = 0; i < contextMenuItems.length; ++i) {\n      const title = contextMenuItems[i];\n      subMenuItem.defaultSection().appendItem(\n          title, this._revealSourceLocation.bind(this, (uiLocations.get(title) as Workspace.UISourceCode.UILocation)));\n    }\n    contextMenu.show();\n  }\n\n  _revealSourceLocation(location: Workspace.UISourceCode.UILocation): void {\n    Common.Revealer.reveal(location);\n  }\n\n  _scheduleMediaQueriesUpdate(): void {\n    if (!this.isShowing()) {\n      return;\n    }\n    this._mediaThrottler.schedule(this._refetchMediaQueries.bind(this));\n  }\n\n  _refetchMediaQueries(): Promise<void> {\n    if (!this.isShowing() || !this._cssModel) {\n      return Promise.resolve();\n    }\n\n    return this._cssModel.mediaQueriesPromise().then(this._rebuildMediaQueries.bind(this));\n  }\n\n  _squashAdjacentEqual(models: MediaQueryUIModel[]): MediaQueryUIModel[] {\n    const filtered = [];\n    for (let i = 0; i < models.length; ++i) {\n      const last = filtered[filtered.length - 1];\n      if (!last || !last.equals(models[i])) {\n        filtered.push(models[i]);\n      }\n    }\n    return filtered;\n  }\n\n  _rebuildMediaQueries(cssMedias: SDK.CSSMedia.CSSMedia[]): void {\n    let queryModels: MediaQueryUIModel[] = [];\n    for (let i = 0; i < cssMedias.length; ++i) {\n      const cssMedia = cssMedias[i];\n      if (!cssMedia.mediaList) {\n        continue;\n      }\n      for (let j = 0; j < cssMedia.mediaList.length; ++j) {\n        const mediaQuery = cssMedia.mediaList[j];\n        const queryModel = MediaQueryUIModel.createFromMediaQuery(cssMedia, mediaQuery);\n        if (queryModel) {\n          queryModels.push(queryModel);\n        }\n      }\n    }\n    queryModels.sort(compareModels);\n    queryModels = this._squashAdjacentEqual(queryModels);\n\n    let allEqual: (boolean|undefined) =\n        this._cachedQueryModels && this._cachedQueryModels.length === queryModels.length;\n    for (let i = 0; allEqual && i < queryModels.length; ++i) {\n      allEqual = allEqual && this._cachedQueryModels && this._cachedQueryModels[i].equals(queryModels[i]);\n    }\n    if (allEqual) {\n      return;\n    }\n    this._cachedQueryModels = queryModels;\n    this._renderMediaQueries();\n\n    function compareModels(model1: MediaQueryUIModel, model2: MediaQueryUIModel): number {\n      return model1.compareTo(model2);\n    }\n  }\n\n  _renderMediaQueries(): void {\n    if (!this._cachedQueryModels || !this.isShowing()) {\n      return;\n    }\n\n    const markers = [];\n    let lastMarker: {\n      active: boolean,\n      model: MediaQueryUIModel,\n      locations: SDK.CSSModel.CSSLocation[],\n    }|null = null;\n    for (let i = 0; i < this._cachedQueryModels.length; ++i) {\n      const model = this._cachedQueryModels[i];\n      if (lastMarker && lastMarker.model.dimensionsEqual(model)) {\n        lastMarker.active = lastMarker.active || model.active();\n      } else {\n        lastMarker = {\n          active: model.active(),\n          model,\n          locations: ([] as SDK.CSSModel.CSSLocation[]),\n        };\n        markers.push(lastMarker);\n      }\n      const rawLocation = model.rawLocation();\n      if (rawLocation) {\n        lastMarker.locations.push(rawLocation);\n      }\n    }\n\n    this.contentElement.removeChildren();\n\n    let container: HTMLElement|null = null;\n    for (let i = 0; i < markers.length; ++i) {\n      if (!i || markers[i].model.section() !== markers[i - 1].model.section()) {\n        container = this.contentElement.createChild('div', 'media-inspector-marker-container');\n      }\n      const marker = markers[i];\n      const bar = this._createElementFromMediaQueryModel(marker.model);\n      this.elementsToMediaQueryModel.set(bar, marker.model);\n      this.elementsToCSSLocations.set(bar, marker.locations);\n      bar.classList.toggle('media-inspector-marker-inactive', !marker.active);\n      if (!container) {\n        throw new Error('Could not find container to render media queries into.');\n      }\n      container.appendChild(bar);\n    }\n  }\n\n  _zoomFactor(): number {\n    return UI.ZoomManager.ZoomManager.instance().zoomFactor() / this._scale;\n  }\n\n  wasShown(): void {\n    this._scheduleMediaQueriesUpdate();\n  }\n\n  _createElementFromMediaQueryModel(model: MediaQueryUIModel): Element {\n    const zoomFactor = this._zoomFactor();\n    const minWidthExpression = model.minWidthExpression();\n    const maxWidthExpression = model.maxWidthExpression();\n    const minWidthValue = minWidthExpression ? (minWidthExpression.computedLength() || 0) / zoomFactor : 0;\n    const maxWidthValue = maxWidthExpression ? (maxWidthExpression.computedLength() || 0) / zoomFactor : 0;\n    const result = document.createElement('div');\n    result.classList.add('media-inspector-bar');\n\n    if (model.section() === Section.Max) {\n      result.createChild('div', 'media-inspector-marker-spacer');\n      const markerElement = result.createChild('div', 'media-inspector-marker media-inspector-marker-max-width');\n      markerElement.style.width = maxWidthValue + 'px';\n      UI.Tooltip.Tooltip.install(markerElement, model.mediaText());\n      appendLabel(markerElement, model.maxWidthExpression(), false, false);\n      appendLabel(markerElement, model.maxWidthExpression(), true, true);\n      result.createChild('div', 'media-inspector-marker-spacer');\n    }\n\n    if (model.section() === Section.MinMax) {\n      result.createChild('div', 'media-inspector-marker-spacer');\n      const leftElement = result.createChild('div', 'media-inspector-marker media-inspector-marker-min-max-width');\n      leftElement.style.width = (maxWidthValue - minWidthValue) * 0.5 + 'px';\n      UI.Tooltip.Tooltip.install(leftElement, model.mediaText());\n      appendLabel(leftElement, model.maxWidthExpression(), true, false);\n      appendLabel(leftElement, model.minWidthExpression(), false, true);\n      result.createChild('div', 'media-inspector-marker-spacer').style.flex = '0 0 ' + minWidthValue + 'px';\n      const rightElement = result.createChild('div', 'media-inspector-marker media-inspector-marker-min-max-width');\n      rightElement.style.width = (maxWidthValue - minWidthValue) * 0.5 + 'px';\n      UI.Tooltip.Tooltip.install(rightElement, model.mediaText());\n      appendLabel(rightElement, model.minWidthExpression(), true, false);\n      appendLabel(rightElement, model.maxWidthExpression(), false, true);\n      result.createChild('div', 'media-inspector-marker-spacer');\n    }\n\n    if (model.section() === Section.Min) {\n      const leftElement = result.createChild(\n          'div', 'media-inspector-marker media-inspector-marker-min-width media-inspector-marker-min-width-left');\n      UI.Tooltip.Tooltip.install(leftElement, model.mediaText());\n      appendLabel(leftElement, model.minWidthExpression(), false, false);\n      result.createChild('div', 'media-inspector-marker-spacer').style.flex = '0 0 ' + minWidthValue + 'px';\n      const rightElement = result.createChild(\n          'div', 'media-inspector-marker media-inspector-marker-min-width media-inspector-marker-min-width-right');\n      UI.Tooltip.Tooltip.install(rightElement, model.mediaText());\n      appendLabel(rightElement, model.minWidthExpression(), true, true);\n    }\n\n    function appendLabel(\n        marker: Element, expression: SDK.CSSMedia.CSSMediaQueryExpression|null, atLeft: boolean,\n        leftAlign: boolean): void {\n      if (!expression) {\n        return;\n      }\n      marker\n          .createChild(\n              'div',\n              'media-inspector-marker-label-container ' +\n                  (atLeft ? 'media-inspector-marker-label-container-left' :\n                            'media-inspector-marker-label-container-right'))\n          .createChild(\n              'span',\n              'media-inspector-marker-label ' +\n                  (leftAlign ? 'media-inspector-label-left' : 'media-inspector-label-right'))\n          .textContent = expression.value() + expression.unit();\n    }\n\n    return result;\n  }\n}\n\nexport const enum Section {\n  Max = 0,\n  MinMax = 1,\n  Min = 2,\n}\n\n\nexport class MediaQueryUIModel {\n  _cssMedia: SDK.CSSMedia.CSSMedia;\n  _minWidthExpression: SDK.CSSMedia.CSSMediaQueryExpression|null;\n  _maxWidthExpression: SDK.CSSMedia.CSSMediaQueryExpression|null;\n  _active: boolean;\n  _section: Section;\n  _rawLocation?: SDK.CSSModel.CSSLocation|null;\n  constructor(\n      cssMedia: SDK.CSSMedia.CSSMedia, minWidthExpression: SDK.CSSMedia.CSSMediaQueryExpression|null,\n      maxWidthExpression: SDK.CSSMedia.CSSMediaQueryExpression|null, active: boolean) {\n    this._cssMedia = cssMedia;\n    this._minWidthExpression = minWidthExpression;\n    this._maxWidthExpression = maxWidthExpression;\n    this._active = active;\n    if (maxWidthExpression && !minWidthExpression) {\n      this._section = Section.Max;\n    } else if (minWidthExpression && maxWidthExpression) {\n      this._section = Section.MinMax;\n    } else {\n      this._section = Section.Min;\n    }\n  }\n\n  static createFromMediaQuery(cssMedia: SDK.CSSMedia.CSSMedia, mediaQuery: SDK.CSSMedia.CSSMediaQuery):\n      MediaQueryUIModel|null {\n    let maxWidthExpression: SDK.CSSMedia.CSSMediaQueryExpression|null = null;\n    let maxWidthPixels: number = Number.MAX_VALUE;\n    let minWidthExpression: SDK.CSSMedia.CSSMediaQueryExpression|null = null;\n    let minWidthPixels: number = Number.MIN_VALUE;\n    const expressions = mediaQuery.expressions();\n    if (!expressions) {\n      return null;\n    }\n\n    for (let i = 0; i < expressions.length; ++i) {\n      const expression = expressions[i];\n      const feature = expression.feature();\n      if (feature.indexOf('width') === -1) {\n        continue;\n      }\n      const pixels = expression.computedLength();\n      if (feature.startsWith('max-') && pixels && pixels < maxWidthPixels) {\n        maxWidthExpression = expression;\n        maxWidthPixels = pixels;\n      } else if (feature.startsWith('min-') && pixels && pixels > minWidthPixels) {\n        minWidthExpression = expression;\n        minWidthPixels = pixels;\n      }\n    }\n    if (minWidthPixels > maxWidthPixels || (!maxWidthExpression && !minWidthExpression)) {\n      return null;\n    }\n\n    return new MediaQueryUIModel(cssMedia, minWidthExpression, maxWidthExpression, mediaQuery.active());\n  }\n\n  equals(other: MediaQueryUIModel): boolean {\n    return this.compareTo(other) === 0;\n  }\n\n  dimensionsEqual(other: MediaQueryUIModel): boolean {\n    const thisMinWidthExpression = this.minWidthExpression();\n    const otherMinWidthExpression = other.minWidthExpression();\n    const thisMaxWidthExpression = this.maxWidthExpression();\n    const otherMaxWidthExpression = other.maxWidthExpression();\n\n    const sectionsEqual = this.section() === other.section();\n    // If there isn't an other min width expression, they aren't equal, so the optional chaining operator is safe to use here.\n    const minWidthEqual = !thisMinWidthExpression ||\n        thisMinWidthExpression.computedLength() === otherMinWidthExpression?.computedLength();\n    const maxWidthEqual = !thisMaxWidthExpression ||\n        thisMaxWidthExpression.computedLength() === otherMaxWidthExpression?.computedLength();\n\n    return sectionsEqual && minWidthEqual && maxWidthEqual;\n  }\n\n  compareTo(other: MediaQueryUIModel): number {\n    if (this.section() !== other.section()) {\n      return this.section() - other.section();\n    }\n    if (this.dimensionsEqual(other)) {\n      const myLocation = this.rawLocation();\n      const otherLocation = other.rawLocation();\n      if (!myLocation && !otherLocation) {\n        return Platform.StringUtilities.compare(this.mediaText(), other.mediaText());\n      }\n      if (myLocation && !otherLocation) {\n        return 1;\n      }\n      if (!myLocation && otherLocation) {\n        return -1;\n      }\n      if (this.active() !== other.active()) {\n        return this.active() ? -1 : 1;\n      }\n\n      if (!myLocation || !otherLocation) {\n        // This conditional never runs, because it's dealt with above, but\n        // TypeScript can't follow that by this point both myLocation and\n        // otherLocation must exist.\n        return 0;\n      }\n\n      return Platform.StringUtilities.compare(myLocation.url, otherLocation.url) ||\n          myLocation.lineNumber - otherLocation.lineNumber || myLocation.columnNumber - otherLocation.columnNumber;\n    }\n\n    const thisMaxWidthExpression = this.maxWidthExpression();\n    const otherMaxWidthExpression = other.maxWidthExpression();\n    const thisMaxLength = thisMaxWidthExpression ? thisMaxWidthExpression.computedLength() || 0 : 0;\n    const otherMaxLength = otherMaxWidthExpression ? otherMaxWidthExpression.computedLength() || 0 : 0;\n\n    const thisMinWidthExpression = this.minWidthExpression();\n    const otherMinWidthExpression = other.minWidthExpression();\n    const thisMinLength = thisMinWidthExpression ? thisMinWidthExpression.computedLength() || 0 : 0;\n    const otherMinLength = otherMinWidthExpression ? otherMinWidthExpression.computedLength() || 0 : 0;\n\n    if (this.section() === Section.Max) {\n      return otherMaxLength - thisMaxLength;\n    }\n    if (this.section() === Section.Min) {\n      return thisMinLength - otherMinLength;\n    }\n    return thisMinLength - otherMinLength || otherMaxLength - thisMaxLength;\n  }\n\n  section(): Section {\n    return this._section;\n  }\n\n  mediaText(): string {\n    return this._cssMedia.text || '';\n  }\n\n  rawLocation(): SDK.CSSModel.CSSLocation|null {\n    if (!this._rawLocation) {\n      this._rawLocation = this._cssMedia.rawLocation();\n    }\n    return this._rawLocation;\n  }\n\n  minWidthExpression(): SDK.CSSMedia.CSSMediaQueryExpression|null {\n    return this._minWidthExpression;\n  }\n\n  maxWidthExpression(): SDK.CSSMedia.CSSMediaQueryExpression|null {\n    return this._maxWidthExpression;\n  }\n\n  active(): boolean {\n    return this._active;\n  }\n}\n"]}