{"version":3,"file":"BlockedURLsPane.js","sourceRoot":"","sources":["../../../../../../front_end/panels/network/BlockedURLsPane.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright (c) 2015 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/* eslint-disable rulesdir/no_underscored_properties */\n\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as UI from '../../ui/legacy/legacy.js';\n\nconst UIStrings = {\n  /**\n  *@description Text to enable blocking of network requests\n  */\n  enableNetworkRequestBlocking: 'Enable network request blocking',\n  /**\n  *@description Tooltip text that appears when hovering over the largeicon add button in the Blocked URLs Pane of the Network panel\n  */\n  addPattern: 'Add pattern',\n  /**\n  *@description Tooltip text that appears when hovering over the largeicon clear button in the Blocked URLs Pane of the Network panel\n  */\n  removeAllPatterns: 'Remove all patterns',\n  /**\n  *@description Accessible label for the button to add request blocking patterns in the network request blocking tool\n  */\n  addNetworkRequestBlockingPattern: 'Add network request blocking pattern',\n  /**\n  *@description Button to add a pattern to block netwrok requests in the Network request blocking tool\n  *@example {Add pattern} PH1\n  */\n  networkRequestsAreNotBlockedS: 'Network requests are not blocked. {PH1}',\n  /**\n  *@description Text in Blocked URLs Pane of the Network panel\n  *@example {4} PH1\n  */\n  dBlocked: '{PH1} blocked',\n  /**\n  *@description Text in Blocked URLs Pane of the Network panel\n  */\n  textPatternToBlockMatching: 'Text pattern to block matching requests; use * for wildcard',\n  /**\n  *@description Error text for empty list widget input in Request Blocking tool\n  */\n  patternInputCannotBeEmpty: 'Pattern input cannot be empty.',\n  /**\n  *@description Error text for duplicate list widget input in Request Blocking tool\n  */\n  patternAlreadyExists: 'Pattern already exists.',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/network/BlockedURLsPane.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport let blockedURLsPaneInstance: BlockedURLsPane|null = null;\n\nexport class BlockedURLsPane extends UI.Widget.VBox implements\n    UI.ListWidget.Delegate<SDK.NetworkManager.BlockedPattern> {\n  _manager: SDK.NetworkManager.MultitargetNetworkManager;\n  _toolbar: UI.Toolbar.Toolbar;\n  _enabledCheckbox: UI.Toolbar.ToolbarCheckbox;\n  _list: UI.ListWidget.ListWidget<SDK.NetworkManager.BlockedPattern>;\n  _editor: UI.ListWidget.Editor<SDK.NetworkManager.BlockedPattern>|null;\n  _blockedCountForUrl: Map<string, number>;\n  _updateThrottler: Common.Throttler.Throttler;\n\n  constructor() {\n    super(true);\n    this.registerRequiredCSS('panels/network/blockedURLsPane.css', {enableLegacyPatching: false});\n\n    this._manager = SDK.NetworkManager.MultitargetNetworkManager.instance();\n    this._manager.addEventListener(SDK.NetworkManager.MultitargetNetworkManager.Events.BlockedPatternsChanged, () => {\n      this._update();\n    }, this);\n\n    this._toolbar = new UI.Toolbar.Toolbar('', this.contentElement);\n    this._enabledCheckbox = new UI.Toolbar.ToolbarCheckbox(\n        i18nString(UIStrings.enableNetworkRequestBlocking), undefined, this._toggleEnabled.bind(this));\n    this._toolbar.appendToolbarItem(this._enabledCheckbox);\n    this._toolbar.appendSeparator();\n    const addButton = new UI.Toolbar.ToolbarButton(i18nString(UIStrings.addPattern), 'largeicon-add');\n    addButton.addEventListener(UI.Toolbar.ToolbarButton.Events.Click, this._addButtonClicked, this);\n    this._toolbar.appendToolbarItem(addButton);\n    const clearButton = new UI.Toolbar.ToolbarButton(i18nString(UIStrings.removeAllPatterns), 'largeicon-clear');\n    clearButton.addEventListener(UI.Toolbar.ToolbarButton.Events.Click, this._removeAll, this);\n    this._toolbar.appendToolbarItem(clearButton);\n\n    this._list = new UI.ListWidget.ListWidget(this);\n    this._list.element.classList.add('blocked-urls');\n    this._list.registerRequiredCSS('panels/network/blockedURLsPane.css', {enableLegacyPatching: false});\n    this._list.setEmptyPlaceholder(this._createEmptyPlaceholder());\n    this._list.show(this.contentElement);\n\n    this._editor = null;\n\n    this._blockedCountForUrl = new Map();\n    SDK.TargetManager.TargetManager.instance().addModelListener(\n        SDK.NetworkManager.NetworkManager, SDK.NetworkManager.Events.RequestFinished, this._onRequestFinished, this);\n\n    this._updateThrottler = new Common.Throttler.Throttler(200);\n\n    this._update();\n  }\n\n  static instance(opts: {\n    forceNew: boolean|null,\n  } = {forceNew: null}): BlockedURLsPane {\n    const {forceNew} = opts;\n    if (!blockedURLsPaneInstance || forceNew) {\n      blockedURLsPaneInstance = new BlockedURLsPane();\n    }\n    return blockedURLsPaneInstance;\n  }\n\n  _createEmptyPlaceholder(): Element {\n    const element = this.contentElement.createChild('div', 'no-blocked-urls');\n    const addButton =\n        UI.UIUtils.createTextButton(i18nString(UIStrings.addPattern), this._addButtonClicked.bind(this), 'add-button');\n    UI.ARIAUtils.setAccessibleName(addButton, i18nString(UIStrings.addNetworkRequestBlockingPattern));\n    element.appendChild(\n        i18n.i18n.getFormatLocalizedString(str_, UIStrings.networkRequestsAreNotBlockedS, {PH1: addButton}));\n    return element;\n  }\n\n  static reset(): void {\n    if (blockedURLsPaneInstance) {\n      blockedURLsPaneInstance.reset();\n    }\n  }\n\n  _addButtonClicked(): void {\n    this._manager.setBlockingEnabled(true);\n    this._list.addNewItem(0, {url: '', enabled: true});\n  }\n\n  renderItem(pattern: SDK.NetworkManager.BlockedPattern, _editable: boolean): Element {\n    const count = this._blockedRequestsCount(pattern.url);\n    const element = document.createElement('div');\n    element.classList.add('blocked-url');\n    const checkbox = (element.createChild('input', 'blocked-url-checkbox') as HTMLInputElement);\n    checkbox.type = 'checkbox';\n    checkbox.checked = pattern.enabled;\n    checkbox.disabled = !this._manager.blockingEnabled();\n    element.createChild('div', 'blocked-url-label').textContent = pattern.url;\n    element.createChild('div', 'blocked-url-count').textContent = i18nString(UIStrings.dBlocked, {PH1: count});\n    element.addEventListener('click', event => this._togglePattern(pattern, event));\n    checkbox.addEventListener('click', event => this._togglePattern(pattern, event));\n    return element;\n  }\n\n  _togglePattern(pattern: SDK.NetworkManager.BlockedPattern, event: Event): void {\n    event.consume(true);\n    const patterns = this._manager.blockedPatterns();\n    patterns.splice(patterns.indexOf(pattern), 1, {enabled: !pattern.enabled, url: pattern.url});\n    this._manager.setBlockedPatterns(patterns);\n  }\n\n  _toggleEnabled(): void {\n    this._manager.setBlockingEnabled(!this._manager.blockingEnabled());\n    this._update();\n  }\n\n  removeItemRequested(pattern: SDK.NetworkManager.BlockedPattern, index: number): void {\n    const patterns = this._manager.blockedPatterns();\n    patterns.splice(index, 1);\n    this._manager.setBlockedPatterns(patterns);\n  }\n\n  beginEdit(pattern: SDK.NetworkManager.BlockedPattern): UI.ListWidget.Editor<SDK.NetworkManager.BlockedPattern> {\n    this._editor = this._createEditor();\n    this._editor.control('url').value = pattern.url;\n    return this._editor;\n  }\n\n  commitEdit(\n      item: SDK.NetworkManager.BlockedPattern, editor: UI.ListWidget.Editor<SDK.NetworkManager.BlockedPattern>,\n      isNew: boolean): void {\n    const url = editor.control('url').value;\n    const patterns = this._manager.blockedPatterns();\n    if (isNew) {\n      patterns.push({enabled: true, url: url});\n    } else {\n      patterns.splice(patterns.indexOf(item), 1, {enabled: true, url: url});\n    }\n\n    this._manager.setBlockedPatterns(patterns);\n  }\n\n  _createEditor(): UI.ListWidget.Editor<SDK.NetworkManager.BlockedPattern> {\n    if (this._editor) {\n      return this._editor;\n    }\n\n    const editor = new UI.ListWidget.Editor<SDK.NetworkManager.BlockedPattern>();\n    const content = editor.contentElement();\n    const titles = content.createChild('div', 'blocked-url-edit-row');\n    titles.createChild('div').textContent = i18nString(UIStrings.textPatternToBlockMatching);\n    const fields = content.createChild('div', 'blocked-url-edit-row');\n    const validator =\n        (_item: SDK.NetworkManager.BlockedPattern, _index: number, input: HTMLInputElement|HTMLSelectElement): {\n          valid: boolean,\n          errorMessage: Common.UIString.LocalizedString|undefined,\n        } => {\n          let valid = true;\n          let errorMessage;\n          if (!input.value) {\n            errorMessage = i18nString(UIStrings.patternInputCannotBeEmpty);\n            valid = false;\n          } else if (this._manager.blockedPatterns().find(pattern => pattern.url === input.value)) {\n            errorMessage = i18nString(UIStrings.patternAlreadyExists);\n            valid = false;\n          }\n          return {valid, errorMessage};\n        };\n    const urlInput = editor.createInput('url', 'text', '', validator);\n    fields.createChild('div', 'blocked-url-edit-value').appendChild(urlInput);\n    return editor;\n  }\n\n  _removeAll(): void {\n    this._manager.setBlockedPatterns([]);\n  }\n\n  _update(): Promise<void> {\n    const enabled = this._manager.blockingEnabled();\n    this._list.element.classList.toggle(\n        'blocking-disabled', !enabled && Boolean(this._manager.blockedPatterns().length));\n    this._enabledCheckbox.setChecked(enabled);\n    this._list.clear();\n    for (const pattern of this._manager.blockedPatterns()) {\n      this._list.appendItem(pattern, true);\n    }\n    return Promise.resolve();\n  }\n\n  _blockedRequestsCount(url: string): number {\n    if (!url) {\n      return 0;\n    }\n\n    let result = 0;\n    for (const blockedUrl of this._blockedCountForUrl.keys()) {\n      if (this._matches(url, blockedUrl)) {\n        result += (this._blockedCountForUrl.get(blockedUrl) as number);\n      }\n    }\n    return result;\n  }\n\n  _matches(pattern: string, url: string): boolean {\n    let pos = 0;\n    const parts = pattern.split('*');\n    for (let index = 0; index < parts.length; index++) {\n      const part = parts[index];\n      if (!part.length) {\n        continue;\n      }\n      pos = url.indexOf(part, pos);\n      if (pos === -1) {\n        return false;\n      }\n      pos += part.length;\n    }\n    return true;\n  }\n\n  reset(): void {\n    this._blockedCountForUrl.clear();\n    this._updateThrottler.schedule(this._update.bind(this));\n  }\n\n  _onRequestFinished(event: Common.EventTarget.EventTargetEvent): void {\n    const request = (event.data as SDK.NetworkRequest.NetworkRequest);\n    if (request.wasBlocked()) {\n      const count = this._blockedCountForUrl.get(request.url()) || 0;\n      this._blockedCountForUrl.set(request.url(), count + 1);\n      this._updateThrottler.schedule(this._update.bind(this));\n    }\n  }\n}\n"]}