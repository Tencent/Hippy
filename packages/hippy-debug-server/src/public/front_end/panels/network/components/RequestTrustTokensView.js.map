{"version":3,"file":"RequestTrustTokensView.js","sourceRoot":"","sources":["../../../../../../../front_end/panels/network/components/RequestTrustTokensView.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as i18n from '../../../core/i18n/i18n.js';\nimport * as SDK from '../../../core/sdk/sdk.js';\nimport * as Protocol from '../../../generated/protocol.js';\nimport * as ComponentHelpers from '../../../ui/components/helpers/helpers.js';\nimport * as IconButton from '../../../ui/components/icon_button/icon_button.js';\nimport * as ReportView from '../../../ui/components/report_view/report_view.js';\nimport * as UI from '../../../ui/legacy/legacy.js';\nimport * as LitHtml from '../../../ui/lit-html/lit-html.js';\n\nconst UIStrings = {\n  /**\n  *@description Section heading in the Trust Token tab\n  */\n  parameters: 'Parameters',\n  /**\n  *@description Text that refers to some types\n  */\n  type: 'Type',\n  /**\n  *@description Label for a Trust Token parameter\n  */\n  refreshPolicy: 'Refresh policy',\n  /**\n  *@description Label for a list if origins in the Trust Token tab\n  */\n  issuers: 'Issuers',\n  /**\n  *@description Label for a report field in the Network panel\n  */\n  topLevelOrigin: 'Top level origin',\n  /**\n  *@description Text for the issuer of an item\n  */\n  issuer: 'Issuer',\n  /**\n  *@description Heading of a report section in the Network panel\n  */\n  result: 'Result',\n  /**\n  *@description Text for the status of something\n  */\n  status: 'Status',\n  /**\n  *@description Label for a field in the Network panel\n  */\n  numberOfIssuedTokens: 'Number of issued tokens',\n  /**\n  * @description Text for the success status in the Network panel. Refers to the outcome of a network\n  * request which will either be 'Success' or 'Failure'.\n  */\n  success: 'Success',\n  /**\n  *@description Text in the network panel for an error status\n  */\n  failure: 'Failure',\n  /**\n  *@description Detailed text for a success status in the Network panel\n  */\n  theOperationsResultWasServedFrom: 'The operations result was served from cache.',\n  /**\n  *@description Detailed text for a success status in the Network panel\n  */\n  theOperationWasFulfilledLocally: 'The operation was fulfilled locally, no request was sent.',\n  /**\n  *@description Text for an error status in the Network panel\n  */\n  aClientprovidedArgumentWas: 'A client-provided argument was malformed or otherwise invalid.',\n  /**\n  *@description Text for an error status in the Network panel\n  */\n  eitherNoInputsForThisOperation:\n      'Either no inputs for this operation are available or the output exceeds the operations quota.',\n  /**\n  *@description Text for an error status in the Network panel\n  */\n  theServersResponseWasMalformedOr: 'The servers response was malformed or otherwise invalid.',\n  /**\n  *@description Text for an error status in the Network panel\n  */\n  theOperationFailedForAnUnknown: 'The operation failed for an unknown reason.',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/network/components/RequestTrustTokensView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport class RequestTrustTokensView extends UI.Widget.VBox {\n  private readonly reportView = new RequestTrustTokensReport();\n  private readonly request: SDK.NetworkRequest.NetworkRequest;\n\n  constructor(request: SDK.NetworkRequest.NetworkRequest) {\n    super();\n    this.request = request;\n\n    this.contentElement.appendChild(this.reportView);\n  }\n\n  wasShown(): void {\n    this.request.addEventListener(SDK.NetworkRequest.Events.TrustTokenResultAdded, this.refreshReportView, this);\n\n    this.refreshReportView();\n  }\n\n  willHide(): void {\n    this.request.removeEventListener(SDK.NetworkRequest.Events.TrustTokenResultAdded, this.refreshReportView, this);\n  }\n\n  private refreshReportView(): void {\n    this.reportView.data = {\n      params: this.request.trustTokenParams(),\n      result: this.request.trustTokenOperationDoneEvent(),\n    };\n  }\n}\n\nexport interface RequestTrustTokensReportData {\n  params?: Readonly<Protocol.Network.TrustTokenParams>;\n  result?: Readonly<Protocol.Network.TrustTokenOperationDoneEvent>;\n}\n\nexport class RequestTrustTokensReport extends HTMLElement {\n  private readonly shadow = this.attachShadow({mode: 'open'});\n  private trustTokenData?: Readonly<RequestTrustTokensReportData>;\n\n  set data(data: RequestTrustTokensReportData) {\n    this.trustTokenData = data;\n    this.render();\n  }\n\n  private render(): void {\n    if (!this.trustTokenData) {\n      throw new Error('Trying to render a Trust Token report without providing data');\n    }\n\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    LitHtml.render(LitHtml.html`\n      <style>\n        .code {\n          font-family: var(--monospace-font-family);\n          font-size: var(--monospace-font-size);\n        }\n\n        .issuers-list {\n          display: flex;\n          flex-direction: column;\n          list-style-type: none;\n          padding: 0;\n          margin: 0;\n        }\n\n        .status-icon {\n          margin: 0 0.3em 2px 0;\n          vertical-align: middle;\n        }\n      </style>\n      <${ReportView.ReportView.Report.litTagName}>\n        ${this.renderParameterSection()}\n        ${this.renderResultSection()}\n      </${ReportView.ReportView.Report.litTagName}>\n    `, this.shadow);\n    // clang-format on\n  }\n\n  private renderParameterSection(): LitHtml.TemplateResult|{} {\n    if (!this.trustTokenData || !this.trustTokenData.params) {\n      return LitHtml.nothing;\n    }\n\n    return LitHtml.html`\n      <${ReportView.ReportView.ReportSectionHeader.litTagName}>${i18nString(UIStrings.parameters)}</${\n        ReportView.ReportView.ReportSectionHeader.litTagName}>\n      ${renderRowWithCodeValue(i18nString(UIStrings.type), this.trustTokenData.params.type.toString())}\n      ${this.renderRefreshPolicy(this.trustTokenData.params)}\n      ${this.renderIssuers(this.trustTokenData.params)}\n      ${this.renderIssuerAndTopLevelOriginFromResult()}\n      <${ReportView.ReportView.ReportSectionDivider.litTagName}></${\n        ReportView.ReportView.ReportSectionDivider.litTagName}>\n    `;\n  }\n\n  private renderRefreshPolicy(params: Protocol.Network.TrustTokenParams): LitHtml.TemplateResult|{} {\n    if (params.type !== Protocol.Network.TrustTokenOperationType.Redemption) {\n      return LitHtml.nothing;\n    }\n    return renderRowWithCodeValue(i18nString(UIStrings.refreshPolicy), params.refreshPolicy.toString());\n  }\n\n  private renderIssuers(params: Protocol.Network.TrustTokenParams): LitHtml.TemplateResult|{} {\n    if (!params.issuers || params.issuers.length === 0) {\n      return LitHtml.nothing;\n    }\n\n    return LitHtml.html`\n      <${ReportView.ReportView.ReportKey.litTagName}>${i18nString(UIStrings.issuers)}</${\n        ReportView.ReportView.ReportKey.litTagName}>\n      <${ReportView.ReportView.ReportValue.litTagName}>\n        <ul class=\"issuers-list\">\n          ${params.issuers.map(issuer => LitHtml.html`<li>${issuer}</li>`)}\n        </ul>\n      </${ReportView.ReportView.ReportValue.litTagName}>\n    `;\n  }\n\n  // The issuer and top level origin are technically parameters but reported in the\n  // result structure due to the timing when they are calculated in the backend.\n  // Nonetheless, we show them as part of the parameter section.\n  private renderIssuerAndTopLevelOriginFromResult(): LitHtml.TemplateResult|{} {\n    if (!this.trustTokenData || !this.trustTokenData.result) {\n      return LitHtml.nothing;\n    }\n\n    return LitHtml.html`\n      ${renderSimpleRowIfValuePresent(i18nString(UIStrings.topLevelOrigin), this.trustTokenData.result.topLevelOrigin)}\n      ${renderSimpleRowIfValuePresent(i18nString(UIStrings.issuer), this.trustTokenData.result.issuerOrigin)}`;\n  }\n\n  private renderResultSection(): LitHtml.TemplateResult|{} {\n    if (!this.trustTokenData || !this.trustTokenData.result) {\n      return LitHtml.nothing;\n    }\n    return LitHtml.html`\n      <${ReportView.ReportView.ReportSectionHeader.litTagName}>${i18nString(UIStrings.result)}</${\n        ReportView.ReportView.ReportSectionHeader.litTagName}>\n      <${ReportView.ReportView.ReportKey.litTagName}>${i18nString(UIStrings.status)}</${\n        ReportView.ReportView.ReportKey.litTagName}>\n      <${ReportView.ReportView.ReportValue.litTagName}>\n        <span>\n          <${IconButton.Icon.Icon.litTagName} class=\"status-icon\"\n            .data=${getIconForStatusCode(this.trustTokenData.result.status) as IconButton.Icon.IconData}>\n          </${IconButton.Icon.Icon.litTagName}>\n          <strong>${getSimplifiedStatusTextForStatusCode(this.trustTokenData.result.status)}</strong>\n          ${getDetailedTextForStatusCode(this.trustTokenData.result.status)}\n        </span>\n      </${ReportView.ReportView.ReportValue.litTagName}>\n      ${this.renderIssuedTokenCount(this.trustTokenData.result)}\n      <${ReportView.ReportView.ReportSectionDivider.litTagName}></${\n        ReportView.ReportView.ReportSectionDivider.litTagName}>\n      `;\n  }\n\n  private renderIssuedTokenCount(result: Protocol.Network.TrustTokenOperationDoneEvent): LitHtml.TemplateResult|{} {\n    if (result.type !== Protocol.Network.TrustTokenOperationType.Issuance) {\n      return LitHtml.nothing;\n    }\n    return renderSimpleRowIfValuePresent(i18nString(UIStrings.numberOfIssuedTokens), result.issuedTokenCount);\n  }\n}\n\nconst SUCCESS_ICON_DATA: IconButton.Icon.IconWithName = {\n  color: 'rgb(12, 164, 12)',\n  iconName: 'ic_checkmark_16x16',\n  width: '12px',\n};\n\nconst FAILURE_ICON_DATA: IconButton.Icon.IconWithName = {\n  color: '',\n  iconName: 'error_icon',\n  width: '12px',\n};\n\nexport function statusConsideredSuccess(status: Protocol.Network.TrustTokenOperationDoneEventStatus): boolean {\n  return status === Protocol.Network.TrustTokenOperationDoneEventStatus.Ok ||\n      status === Protocol.Network.TrustTokenOperationDoneEventStatus.AlreadyExists ||\n      status === Protocol.Network.TrustTokenOperationDoneEventStatus.FulfilledLocally;\n}\n\nfunction getIconForStatusCode(status: Protocol.Network.TrustTokenOperationDoneEventStatus):\n    IconButton.Icon.IconWithName {\n  return statusConsideredSuccess(status) ? SUCCESS_ICON_DATA : FAILURE_ICON_DATA;\n}\n\nfunction getSimplifiedStatusTextForStatusCode(status: Protocol.Network.TrustTokenOperationDoneEventStatus): string {\n  return statusConsideredSuccess(status) ? i18nString(UIStrings.success) : i18nString(UIStrings.failure);\n}\n\nfunction getDetailedTextForStatusCode(status: Protocol.Network.TrustTokenOperationDoneEventStatus): string|null {\n  switch (status) {\n    case Protocol.Network.TrustTokenOperationDoneEventStatus.Ok:\n      return null;\n    case Protocol.Network.TrustTokenOperationDoneEventStatus.AlreadyExists:\n      return i18nString(UIStrings.theOperationsResultWasServedFrom);\n    case Protocol.Network.TrustTokenOperationDoneEventStatus.FulfilledLocally:\n      return i18nString(UIStrings.theOperationWasFulfilledLocally);\n    case Protocol.Network.TrustTokenOperationDoneEventStatus.InvalidArgument:\n      return i18nString(UIStrings.aClientprovidedArgumentWas);\n    case Protocol.Network.TrustTokenOperationDoneEventStatus.ResourceExhausted:\n      return i18nString(UIStrings.eitherNoInputsForThisOperation);\n    case Protocol.Network.TrustTokenOperationDoneEventStatus.BadResponse:\n      return i18nString(UIStrings.theServersResponseWasMalformedOr);\n    case Protocol.Network.TrustTokenOperationDoneEventStatus.FailedPrecondition:\n    case Protocol.Network.TrustTokenOperationDoneEventStatus.Unavailable:\n    case Protocol.Network.TrustTokenOperationDoneEventStatus.InternalError:\n    case Protocol.Network.TrustTokenOperationDoneEventStatus.UnknownError:\n      return i18nString(UIStrings.theOperationFailedForAnUnknown);\n  }\n}\n\nfunction renderSimpleRowIfValuePresent<T>(key: string, value: T|undefined): LitHtml.TemplateResult|{} {\n  if (value === undefined) {\n    return LitHtml.nothing;\n  }\n\n  return LitHtml.html`\n    <${ReportView.ReportView.ReportKey.litTagName}>${key}</${ReportView.ReportView.ReportKey.litTagName}>\n    <${ReportView.ReportView.ReportValue.litTagName}>${value}</${ReportView.ReportView.ReportValue.litTagName}>\n  `;\n}\n\nfunction renderRowWithCodeValue(key: string, value: string): LitHtml.TemplateResult {\n  return LitHtml.html`\n    <${ReportView.ReportView.ReportKey.litTagName}>${key}</${ReportView.ReportView.ReportKey.litTagName}>\n    <${ReportView.ReportView.ReportValue.litTagName} class=\"code\">${value}</${\n      ReportView.ReportView.ReportValue.litTagName}>\n  `;\n}\n\nComponentHelpers.CustomElements.defineComponent('devtools-trust-token-report', RequestTrustTokensReport);\n\ndeclare global {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  interface HTMLElementTagNameMap {\n    'devtools-trust-token-report': RequestTrustTokensReport;\n  }\n}\n"]}