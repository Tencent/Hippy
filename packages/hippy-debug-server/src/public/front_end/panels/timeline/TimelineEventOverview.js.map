{"version":3,"file":"TimelineEventOverview.js","sourceRoot":"","sources":["../../../../../../front_end/panels/timeline/TimelineEventOverview.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright (C) 2013 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/* eslint-disable rulesdir/no_underscored_properties */\n\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport type * as SDK from '../../core/sdk/sdk.js'; // eslint-disable-line no-unused-vars\nimport * as TimelineModel from '../../models/timeline_model/timeline_model.js';\nimport * as PerfUI from '../../ui/legacy/components/perf_ui/perf_ui.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as Coverage from '../coverage/coverage.js';\nimport * as Protocol from '../../generated/protocol.js';\n\nimport type {PerformanceModel} from './PerformanceModel.js'; // eslint-disable-line no-unused-vars\nimport type {EventDispatchTypeDescriptor, TimelineCategory} from './TimelineUIUtils.js';\nimport {TimelineUIUtils} from './TimelineUIUtils.js';  // eslint-disable-line no-unused-vars\n\nconst UIStrings = {\n  /**\n  *@description Short for Network. Label for the network requests section of the Performance panel.\n  */\n  net: 'NET',\n  /**\n  *@description Text in Timeline Event Overview of the Performance panel\n  */\n  cpu: 'CPU',\n  /**\n  *@description Text in Timeline Event Overview of the Performance panel\n  */\n  fps: 'FPS',\n  /**\n  *@description Text in Timeline Event Overview of the Performance panel\n  */\n  heap: 'HEAP',\n  /**\n  *@description Heap size label text content in Timeline Event Overview of the Performance panel\n  *@example {10 MB} PH1\n  *@example {30 MB} PH2\n  */\n  sSDash: '{PH1} â€“ {PH2}',\n  /**\n  *@description Text in Timeline Event Overview of the Performance panel\n  */\n  coverage: 'COVERAGE',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/timeline/TimelineEventOverview.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class TimelineEventOverview extends PerfUI.TimelineOverviewPane.TimelineOverviewBase {\n  _model: PerformanceModel|null;\n  constructor(id: string, title: string|null) {\n    super();\n    this.element.id = 'timeline-overview-' + id;\n    this.element.classList.add('overview-strip');\n    this._model = null;\n    if (title) {\n      this.element.createChild('div', 'timeline-overview-strip-title').textContent = title;\n    }\n  }\n\n  setModel(model: PerformanceModel|null): void {\n    this._model = model;\n  }\n\n  _renderBar(begin: number, end: number, position: number, height: number, color: string): void {\n    const x = begin;\n    const width = end - begin;\n    const ctx = this.context();\n    ctx.fillStyle = color;\n    ctx.fillRect(x, position, width, height);\n  }\n}\n\nexport class TimelineEventOverviewInput extends TimelineEventOverview {\n  constructor() {\n    super('input', null);\n  }\n\n  update(): void {\n    super.update();\n    if (!this._model) {\n      return;\n    }\n    const height = this.height();\n    const descriptors = TimelineUIUtils.eventDispatchDesciptors();\n    const descriptorsByType = new Map<string, EventDispatchTypeDescriptor>();\n    let maxPriority = -1;\n    for (const descriptor of descriptors) {\n      for (const type of descriptor.eventTypes) {\n        descriptorsByType.set(type, descriptor);\n      }\n      maxPriority = Math.max(maxPriority, descriptor.priority);\n    }\n\n    const minWidth = 2 * window.devicePixelRatio;\n    const timeOffset = this._model.timelineModel().minimumRecordTime();\n    const timeSpan = this._model.timelineModel().maximumRecordTime() - timeOffset;\n    const canvasWidth = this.width();\n    const scale = canvasWidth / timeSpan;\n\n    for (let priority = 0; priority <= maxPriority; ++priority) {\n      for (const track of this._model.timelineModel().tracks()) {\n        for (let i = 0; i < track.events.length; ++i) {\n          const event = track.events[i];\n          if (event.name !== TimelineModel.TimelineModel.RecordType.EventDispatch) {\n            continue;\n          }\n          const descriptor = descriptorsByType.get(event.args['data']['type']);\n          if (!descriptor || descriptor.priority !== priority) {\n            continue;\n          }\n          if (event.endTime === undefined) {\n            continue;\n          }\n          const start =\n              Platform.NumberUtilities.clamp(Math.floor((event.startTime - timeOffset) * scale), 0, canvasWidth);\n          const end = Platform.NumberUtilities.clamp(Math.ceil((event.endTime - timeOffset) * scale), 0, canvasWidth);\n          const width = Math.max(end - start, minWidth);\n          this._renderBar(start, start + width, 0, height, descriptor.color);\n        }\n      }\n    }\n  }\n}\n\nexport class TimelineEventOverviewNetwork extends TimelineEventOverview {\n  constructor() {\n    super('network', i18nString(UIStrings.net));\n  }\n\n  update(): void {\n    super.update();\n    if (!this._model) {\n      return;\n    }\n    const timelineModel = this._model.timelineModel();\n    const bandHeight = this.height() / 2;\n    const timeOffset = timelineModel.minimumRecordTime();\n    const timeSpan = timelineModel.maximumRecordTime() - timeOffset;\n    const canvasWidth = this.width();\n    const scale = canvasWidth / timeSpan;\n    const highPath = new Path2D();\n    const lowPath = new Path2D();\n    const highPrioritySet = new Set([\n      Protocol.Network.ResourcePriority.VeryHigh,\n      Protocol.Network.ResourcePriority.High,\n      Protocol.Network.ResourcePriority.Medium,\n    ]);\n    for (const request of timelineModel.networkRequests()) {\n      const path = highPrioritySet.has(request.priority) ? highPath : lowPath;\n      const s = Math.max(Math.floor((request.startTime - timeOffset) * scale), 0);\n      const e = Math.min(Math.ceil((request.endTime - timeOffset) * scale + 1), canvasWidth);\n      path.rect(s, 0, e - s, bandHeight - 1);\n    }\n    const ctx = this.context();\n    ctx.save();\n    ctx.fillStyle = 'hsl(214, 60%, 60%)';\n    // TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ctx.fill((highPath as any));\n    ctx.translate(0, bandHeight);\n    ctx.fillStyle = 'hsl(214, 80%, 80%)';\n    // TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ctx.fill((lowPath as any));\n    ctx.restore();\n  }\n}\n\nconst categoryToIndex = new WeakMap<TimelineCategory, number>();\n\nexport class TimelineEventOverviewCPUActivity extends TimelineEventOverview {\n  _backgroundCanvas: HTMLCanvasElement;\n  constructor() {\n    super('cpu-activity', i18nString(UIStrings.cpu));\n    this._backgroundCanvas = (this.element.createChild('canvas', 'fill background') as HTMLCanvasElement);\n  }\n\n  resetCanvas(): void {\n    super.resetCanvas();\n    this._backgroundCanvas.width = this.element.clientWidth * window.devicePixelRatio;\n    this._backgroundCanvas.height = this.element.clientHeight * window.devicePixelRatio;\n  }\n\n  update(): void {\n    super.update();\n    if (!this._model) {\n      return;\n    }\n    const timelineModel = this._model.timelineModel();\n    const /** @const */ quantSizePx = 4 * window.devicePixelRatio;\n    const width = this.width();\n    const height = this.height();\n    const baseLine = height;\n    const timeOffset = timelineModel.minimumRecordTime();\n    const timeSpan = timelineModel.maximumRecordTime() - timeOffset;\n    const scale = width / timeSpan;\n    const quantTime = quantSizePx / scale;\n    const categories = TimelineUIUtils.categories();\n    const categoryOrder = TimelineUIUtils.getTimelineMainEventCategories();\n    const otherIndex = categoryOrder.indexOf('other');\n    const idleIndex = 0;\n    console.assert(idleIndex === categoryOrder.indexOf('idle'));\n    for (let i = idleIndex + 1; i < categoryOrder.length; ++i) {\n      categoryToIndex.set(categories[categoryOrder[i]], i);\n    }\n\n    const backgroundContext = (this._backgroundCanvas.getContext('2d') as CanvasRenderingContext2D | null);\n    if (!backgroundContext) {\n      throw new Error('Could not find 2d canvas');\n    }\n    for (const track of timelineModel.tracks()) {\n      if (track.type === TimelineModel.TimelineModel.TrackType.MainThread && track.forMainFrame) {\n        drawThreadEvents(this.context(), track.events);\n      } else {\n        drawThreadEvents(backgroundContext, track.events);\n      }\n    }\n    applyPattern(backgroundContext);\n\n    function drawThreadEvents(ctx: CanvasRenderingContext2D, events: SDK.TracingModel.Event[]): void {\n      const quantizer = new Quantizer(timeOffset, quantTime, drawSample);\n      let x = 0;\n      const categoryIndexStack: number[] = [];\n      const paths: Path2D[] = [];\n      const lastY: number[] = [];\n      for (let i = 0; i < categoryOrder.length; ++i) {\n        paths[i] = new Path2D();\n        paths[i].moveTo(0, height);\n        lastY[i] = height;\n      }\n\n      function drawSample(counters: number[]): void {\n        let y = baseLine;\n        for (let i = idleIndex + 1; i < categoryOrder.length; ++i) {\n          const h = (counters[i] || 0) / quantTime * height;\n          y -= h;\n          paths[i].bezierCurveTo(x, lastY[i], x, y, x + quantSizePx / 2, y);\n          lastY[i] = y;\n        }\n        x += quantSizePx;\n      }\n\n      function onEventStart(e: SDK.TracingModel.Event): void {\n        const index = categoryIndexStack.length ? categoryIndexStack[categoryIndexStack.length - 1] : idleIndex;\n        quantizer.appendInterval(e.startTime, (index as number));\n        categoryIndexStack.push(categoryToIndex.get(TimelineUIUtils.eventStyle(e).category) || otherIndex);\n      }\n\n      function onEventEnd(e: SDK.TracingModel.Event): void {\n        const lastCategoryIndex = categoryIndexStack.pop();\n        if (e.endTime !== undefined && lastCategoryIndex) {\n          quantizer.appendInterval(e.endTime, lastCategoryIndex);\n        }\n      }\n\n      TimelineModel.TimelineModel.TimelineModelImpl.forEachEvent(events, onEventStart, onEventEnd);\n      quantizer.appendInterval(timeOffset + timeSpan + quantTime, idleIndex);  // Kick drawing the last bucket.\n      for (let i = categoryOrder.length - 1; i > 0; --i) {\n        paths[i].lineTo(width, height);\n        ctx.fillStyle = categories[categoryOrder[i]].color;\n        ctx.fill(paths[i]);\n      }\n    }\n\n    function applyPattern(ctx: CanvasRenderingContext2D): void {\n      const step = 4 * window.devicePixelRatio;\n      ctx.save();\n      ctx.lineWidth = step / Math.sqrt(8);\n      for (let x = 0.5; x < width + height; x += step) {\n        ctx.moveTo(x, 0);\n        ctx.lineTo(x - height, height);\n      }\n      ctx.globalCompositeOperation = 'destination-out';\n      ctx.stroke();\n      ctx.restore();\n    }\n  }\n}\n\nexport class TimelineEventOverviewResponsiveness extends TimelineEventOverview {\n  constructor() {\n    super('responsiveness', null);\n  }\n\n  update(): void {\n    super.update();\n    if (!this._model) {\n      return;\n    }\n    const height = this.height();\n\n    const timeOffset = this._model.timelineModel().minimumRecordTime();\n    const timeSpan = this._model.timelineModel().maximumRecordTime() - timeOffset;\n    const scale = this.width() / timeSpan;\n    const frames = this._model.frames();\n    const ctx = this.context();\n    const fillPath = new Path2D();\n    const markersPath = new Path2D();\n    for (let i = 0; i < frames.length; ++i) {\n      const frame = frames[i];\n      if (!frame.hasWarnings()) {\n        continue;\n      }\n      paintWarningDecoration(frame.startTime, frame.duration);\n    }\n\n    for (const track of this._model.timelineModel().tracks()) {\n      const events = track.events;\n      for (let i = 0; i < events.length; ++i) {\n        if (!TimelineModel.TimelineModel.TimelineData.forEvent(events[i]).warning) {\n          continue;\n        }\n        const duration = events[i].duration;\n        if (duration !== undefined) {\n          paintWarningDecoration(events[i].startTime, duration);\n        }\n      }\n    }\n\n    ctx.fillStyle = 'hsl(0, 80%, 90%)';\n    ctx.strokeStyle = 'red';\n    ctx.lineWidth = 2 * window.devicePixelRatio;\n    ctx.fill(fillPath);\n    ctx.stroke(markersPath);\n\n    function paintWarningDecoration(time: number, duration: number): void {\n      const x = Math.round(scale * (time - timeOffset));\n      const w = Math.round(scale * duration);\n      fillPath.rect(x, 0, w, height);\n      markersPath.moveTo(x + w, 0);\n      markersPath.lineTo(x + w, height);\n    }\n  }\n}\n\nexport class TimelineFilmStripOverview extends TimelineEventOverview {\n  _frameToImagePromise: Map<SDK.FilmStripModel.Frame, Promise<HTMLImageElement>>;\n  _lastFrame: SDK.FilmStripModel.Frame|null;\n  _lastElement: Element|null;\n  _drawGeneration?: symbol;\n  _emptyImage?: HTMLImageElement;\n  _imageWidth?: number;\n\n  constructor() {\n    super('filmstrip', null);\n    this._frameToImagePromise = new Map();\n    this._lastFrame = null;\n    this._lastElement = null;\n    this.reset();\n  }\n\n  update(): void {\n    super.update();\n    const frames = this._model ? this._model.filmStripModel().frames() : [];\n    if (!frames.length) {\n      return;\n    }\n\n    const drawGeneration = Symbol('drawGeneration');\n    this._drawGeneration = drawGeneration;\n    this._imageByFrame(frames[0]).then(image => {\n      if (this._drawGeneration !== drawGeneration) {\n        return;\n      }\n      if (!image || !image.naturalWidth || !image.naturalHeight) {\n        return;\n      }\n      const imageHeight = this.height() - 2 * TimelineFilmStripOverview.Padding;\n      const imageWidth = Math.ceil(imageHeight * image.naturalWidth / image.naturalHeight);\n      const popoverScale = Math.min(200 / image.naturalWidth, 1);\n      this._emptyImage = new Image(image.naturalWidth * popoverScale, image.naturalHeight * popoverScale);\n      this._drawFrames(imageWidth, imageHeight);\n    });\n  }\n\n  async _imageByFrame(frame: SDK.FilmStripModel.Frame): Promise<HTMLImageElement|null> {\n    let imagePromise: Promise<HTMLImageElement|null>|undefined = this._frameToImagePromise.get(frame);\n    if (!imagePromise) {\n      const data = await frame.imageDataPromise();\n      imagePromise = UI.UIUtils.loadImageFromData(data);\n      this._frameToImagePromise.set(frame, (imagePromise as Promise<HTMLImageElement>));\n    }\n    return imagePromise;\n  }\n\n  _drawFrames(imageWidth: number, imageHeight: number): void {\n    if (!imageWidth || !this._model) {\n      return;\n    }\n    const filmStripModel = this._model.filmStripModel();\n    if (!filmStripModel.frames().length) {\n      return;\n    }\n    const padding = TimelineFilmStripOverview.Padding;\n    const width = this.width();\n    const zeroTime = filmStripModel.zeroTime();\n    const spanTime = filmStripModel.spanTime();\n    const scale = spanTime / width;\n    const context = this.context();\n    const drawGeneration = this._drawGeneration;\n\n    context.beginPath();\n    for (let x = padding; x < width; x += imageWidth + 2 * padding) {\n      const time = zeroTime + (x + imageWidth / 2) * scale;\n      const frame = filmStripModel.frameByTimestamp(time);\n      if (!frame) {\n        continue;\n      }\n      context.rect(x - 0.5, 0.5, imageWidth + 1, imageHeight + 1);\n      this._imageByFrame(frame).then(drawFrameImage.bind(this, x));\n    }\n    context.strokeStyle = '#ddd';\n    context.stroke();\n\n    function drawFrameImage(this: TimelineFilmStripOverview, x: number, image: HTMLImageElement|null): void {\n      // Ignore draws deferred from a previous update call.\n      if (this._drawGeneration !== drawGeneration || !image) {\n        return;\n      }\n      context.drawImage(image, x, 1, imageWidth, imageHeight);\n    }\n  }\n\n  async overviewInfoPromise(x: number): Promise<Element|null> {\n    if (!this._model || !this._model.filmStripModel().frames().length) {\n      return null;\n    }\n\n    const calculator = this.calculator();\n    if (!calculator) {\n      return null;\n    }\n    const time = calculator.positionToTime(x);\n    const frame = this._model.filmStripModel().frameByTimestamp(time);\n    if (frame === this._lastFrame) {\n      return this._lastElement;\n    }\n    const imagePromise = frame ? this._imageByFrame(frame) : Promise.resolve(this._emptyImage);\n    const image = await imagePromise;\n    const element = document.createElement('div');\n    element.classList.add('frame');\n    if (image) {\n      element.createChild('div', 'thumbnail').appendChild(image);\n    }\n    this._lastFrame = frame;\n    this._lastElement = element;\n    return element;\n  }\n\n  reset(): void {\n    this._lastFrame = null;\n    this._lastElement = null;\n    this._frameToImagePromise = new Map();\n    this._imageWidth = 0;\n  }\n\n  // TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  static readonly Padding = 2;\n}\n\n\nexport class TimelineEventOverviewFrames extends TimelineEventOverview {\n  constructor() {\n    super('framerate', i18nString(UIStrings.fps));\n  }\n\n  update(): void {\n    super.update();\n    if (!this._model) {\n      return;\n    }\n    const frames = this._model.frames();\n    if (!frames.length) {\n      return;\n    }\n    const height = this.height();\n    const padding = Number(window.devicePixelRatio);\n    const baseFrameDurationMs = 1e3 / 60;\n    const visualHeight = height - 2 * padding;\n    const timeOffset = this._model.timelineModel().minimumRecordTime();\n    const timeSpan = this._model.timelineModel().maximumRecordTime() - timeOffset;\n    const scale = this.width() / timeSpan;\n    const baseY = height - padding;\n    const ctx = this.context();\n    const bottomY = baseY + 10 * window.devicePixelRatio;\n    let x = 0;\n    let y: number = bottomY;\n\n    const lineWidth = window.devicePixelRatio;\n    const offset = lineWidth & 1 ? 0.5 : 0;\n    const tickDepth = 1.5 * window.devicePixelRatio;\n    ctx.beginPath();\n    ctx.moveTo(0, y);\n    for (let i = 0; i < frames.length; ++i) {\n      const frame = frames[i];\n      x = Math.round((frame.startTime - timeOffset) * scale) + offset;\n      ctx.lineTo(x, y);\n      ctx.lineTo(x, y + tickDepth);\n      y = frame.idle ? bottomY :\n                       Math.round(baseY - visualHeight * Math.min(baseFrameDurationMs / frame.duration, 1)) - offset;\n      ctx.lineTo(x, y + tickDepth);\n      ctx.lineTo(x, y);\n    }\n    const lastFrame = frames[frames.length - 1];\n    if (lastFrame) {\n      x = Math.round((lastFrame.startTime + lastFrame.duration - timeOffset) * scale) + offset;\n    }\n    ctx.lineTo(x, y);\n    ctx.lineTo(x, bottomY);\n    ctx.fillStyle = 'hsl(110, 50%, 88%)';\n    ctx.strokeStyle = 'hsl(110, 50%, 60%)';\n    ctx.lineWidth = lineWidth;\n    ctx.fill();\n    ctx.stroke();\n  }\n}\n\nexport class TimelineEventOverviewMemory extends TimelineEventOverview {\n  _heapSizeLabel: HTMLElement;\n  constructor() {\n    super('memory', i18nString(UIStrings.heap));\n    this._heapSizeLabel = this.element.createChild('div', 'memory-graph-label');\n  }\n\n  resetHeapSizeLabels(): void {\n    this._heapSizeLabel.textContent = '';\n  }\n\n  update(): void {\n    super.update();\n    const ratio = window.devicePixelRatio;\n\n    if (!this._model) {\n      this.resetHeapSizeLabels();\n      return;\n    }\n\n    const tracks = this._model.timelineModel().tracks().filter(\n        track => track.type === TimelineModel.TimelineModel.TrackType.MainThread && track.forMainFrame);\n    const trackEvents = tracks.map(track => track.events);\n\n    const lowerOffset = 3 * ratio;\n    let maxUsedHeapSize = 0;\n    let minUsedHeapSize = 100000000000;\n    const minTime = this._model.timelineModel().minimumRecordTime();\n    const maxTime = this._model.timelineModel().maximumRecordTime();\n\n    function isUpdateCountersEvent(event: SDK.TracingModel.Event): boolean {\n      return event.name === TimelineModel.TimelineModel.RecordType.UpdateCounters;\n    }\n    for (let i = 0; i < trackEvents.length; i++) {\n      trackEvents[i] = trackEvents[i].filter(isUpdateCountersEvent);\n    }\n\n    function calculateMinMaxSizes(event: SDK.TracingModel.Event): void {\n      const counters = event.args.data;\n      if (!counters || !counters.jsHeapSizeUsed) {\n        return;\n      }\n      maxUsedHeapSize = Math.max(maxUsedHeapSize, counters.jsHeapSizeUsed);\n      minUsedHeapSize = Math.min(minUsedHeapSize, counters.jsHeapSizeUsed);\n    }\n    for (let i = 0; i < trackEvents.length; i++) {\n      trackEvents[i].forEach(calculateMinMaxSizes);\n    }\n    minUsedHeapSize = Math.min(minUsedHeapSize, maxUsedHeapSize);\n\n    const lineWidth = 1;\n    const width = this.width();\n    const height = this.height() - lowerOffset;\n    const xFactor = width / (maxTime - minTime);\n    const yFactor = (height - lineWidth) / Math.max(maxUsedHeapSize - minUsedHeapSize, 1);\n\n    const histogram = new Array(width);\n\n    function buildHistogram(event: SDK.TracingModel.Event): void {\n      const counters = event.args.data;\n      if (!counters || !counters.jsHeapSizeUsed) {\n        return;\n      }\n      const x = Math.round((event.startTime - minTime) * xFactor);\n      const y = Math.round((counters.jsHeapSizeUsed - minUsedHeapSize) * yFactor);\n      // TODO(alph): use sum instead of max.\n      histogram[x] = Math.max(histogram[x] || 0, y);\n    }\n    for (let i = 0; i < trackEvents.length; i++) {\n      trackEvents[i].forEach(buildHistogram);\n    }\n\n    const ctx = this.context();\n    const heightBeyondView = height + lowerOffset + lineWidth;\n\n    ctx.translate(0.5, 0.5);\n    ctx.beginPath();\n    ctx.moveTo(-lineWidth, heightBeyondView);\n    let y = 0;\n    let isFirstPoint = true;\n    let lastX = 0;\n    for (let x = 0; x < histogram.length; x++) {\n      if (typeof histogram[x] === 'undefined') {\n        continue;\n      }\n      if (isFirstPoint) {\n        isFirstPoint = false;\n        y = histogram[x];\n        ctx.lineTo(-lineWidth, height - y);\n      }\n      const nextY = histogram[x];\n      if (Math.abs(nextY - y) > 2 && Math.abs(x - lastX) > 1) {\n        ctx.lineTo(x, height - y);\n      }\n      y = nextY;\n      ctx.lineTo(x, height - y);\n      lastX = x;\n    }\n    ctx.lineTo(width + lineWidth, height - y);\n    ctx.lineTo(width + lineWidth, heightBeyondView);\n    ctx.closePath();\n\n    ctx.fillStyle = 'hsla(220, 90%, 70%, 0.2)';\n    ctx.fill();\n    ctx.lineWidth = lineWidth;\n    ctx.strokeStyle = 'hsl(220, 90%, 70%)';\n    ctx.stroke();\n\n    this._heapSizeLabel.textContent = i18nString(UIStrings.sSDash, {\n      PH1: Platform.NumberUtilities.bytesToString(minUsedHeapSize),\n      PH2: Platform.NumberUtilities.bytesToString(maxUsedHeapSize),\n    });\n  }\n}\n\nexport class Quantizer {\n  _lastTime: number;\n  _quantDuration: number;\n  _callback: (arg0: Array<number>) => void;\n  _counters: number[];\n  _remainder: number;\n  constructor(startTime: number, quantDuration: number, callback: (arg0: Array<number>) => void) {\n    this._lastTime = startTime;\n    this._quantDuration = quantDuration;\n    this._callback = callback;\n    this._counters = [];\n    this._remainder = quantDuration;\n  }\n\n  appendInterval(time: number, group: number): void {\n    let interval = time - this._lastTime;\n    if (interval <= this._remainder) {\n      this._counters[group] = (this._counters[group] || 0) + interval;\n      this._remainder -= interval;\n      this._lastTime = time;\n      return;\n    }\n    this._counters[group] = (this._counters[group] || 0) + this._remainder;\n    this._callback(this._counters);\n    interval -= this._remainder;\n    while (interval >= this._quantDuration) {\n      const counters = [];\n      counters[group] = this._quantDuration;\n      this._callback(counters);\n      interval -= this._quantDuration;\n    }\n    this._counters = [];\n    this._counters[group] = interval;\n    this._lastTime = time;\n    this._remainder = this._quantDuration - interval;\n  }\n}\n\nexport class TimelineEventOverviewCoverage extends TimelineEventOverview {\n  _heapSizeLabel: HTMLElement;\n  _coverageModel?: Coverage.CoverageModel.CoverageModel|null;\n  constructor() {\n    super('coverage', i18nString(UIStrings.coverage));\n    this._heapSizeLabel = this.element.createChild('div', 'timeline-overview-coverage-label');\n  }\n\n  resetHeapSizeLabels(): void {\n    this._heapSizeLabel.textContent = '';\n  }\n\n  setModel(model: PerformanceModel|null): void {\n    super.setModel(model);\n    if (model) {\n      const mainTarget = model.mainTarget();\n      if (mainTarget) {\n        this._coverageModel = mainTarget.model(Coverage.CoverageModel.CoverageModel);\n      }\n    }\n  }\n\n  update(): void {\n    super.update();\n    const ratio = window.devicePixelRatio;\n\n    if (!this._coverageModel) {\n      return;\n    }\n\n    let total = 0;\n    // TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    let total_used = 0;\n    const usedByTimestamp = new Map<number, number>();\n    const totalByTimestamp = new Map<number, Set<Coverage.CoverageModel.CoverageInfo>>();\n    for (const urlInfo of this._coverageModel.entries()) {\n      for (const info of urlInfo.entries()) {\n        total += info.size();\n        for (const [stamp, used] of info.usedByTimestamp()) {\n          total_used += used;\n\n          let uniqueTimestamps = totalByTimestamp.get(stamp);\n\n          if (uniqueTimestamps === undefined) {\n            uniqueTimestamps = new Set();\n            totalByTimestamp.set(stamp, uniqueTimestamps);\n          }\n          uniqueTimestamps.add(info);\n\n          const previousCount = usedByTimestamp.get(stamp);\n\n          if (previousCount === undefined) {\n            usedByTimestamp.set(stamp, used);\n          } else {\n            usedByTimestamp.set(stamp, previousCount + used);\n          }\n        }\n      }\n    }\n\n    const seen = new Set<Coverage.CoverageModel.CoverageInfo>();\n    const coverageByTimestamp = new Map<number, number>();\n    let sumTotal = 0, sumUsed = 0;\n\n    const sortedByTimestamp = Array.from(totalByTimestamp.entries()).sort((a, b) => a[0] - b[0]);\n    for (const [stamp, infos] of sortedByTimestamp) {\n      for (const info of infos.values()) {\n        if (seen.has(info)) {\n          continue;\n        }\n\n        seen.add(info);\n        sumTotal += info.size();\n      }\n      sumUsed += usedByTimestamp.get(stamp) || 0;\n      coverageByTimestamp.set(stamp, sumUsed / sumTotal);\n    }\n\n    const percentUsed = total ? Math.round(100 * total_used / total) : 0;\n    const lowerOffset = 3 * ratio;\n\n    const millisecondsPerSecond = 1000;\n    if (!this._model) {\n      return;\n    }\n    const minTime = this._model.timelineModel().minimumRecordTime() / millisecondsPerSecond;\n    const maxTime = this._model.timelineModel().maximumRecordTime() / millisecondsPerSecond;\n\n    const lineWidth = 1;\n    const width = this.width();\n    const height = this.height() - lowerOffset;\n    const xFactor = width / (maxTime - minTime);\n    const yFactor = height - lineWidth;\n\n    let yOffset = 0;\n    const ctx = this.context();\n    const heightBeyondView = height + lowerOffset + lineWidth;\n    ctx.translate(0.5, 0.5);\n    ctx.beginPath();\n    ctx.moveTo(-lineWidth, heightBeyondView);\n\n    ctx.lineTo(-lineWidth, height - yOffset);\n\n    let previous: (number|null)|null = null;\n    for (const stamp of this._coverageModel.coverageUpdateTimes()) {\n      const coverage: number|null = coverageByTimestamp.get(stamp) || previous;\n      previous = coverage;\n      if (!coverage) {\n        continue;\n      }\n      if (stamp > maxTime) {\n        break;\n      }\n      const x = (stamp - minTime) * xFactor;\n      yOffset = coverage * yFactor;\n      ctx.lineTo(x, height - yOffset);\n    }\n\n    const white = 'hsl(0, 100%, 100%)';\n    const blue = 'hsl(220, 90%, 70%)';\n    const transparentBlue = 'hsla(220, 90%, 70%, 0.2)';\n\n    ctx.lineTo(width + lineWidth, height - yOffset);\n    ctx.lineTo(width + lineWidth, heightBeyondView);\n    ctx.closePath();\n    ctx.fillStyle = transparentBlue;\n    ctx.fill();\n    ctx.lineWidth = lineWidth;\n    ctx.strokeStyle = blue;\n    ctx.stroke();\n\n    previous = null;\n    for (const stamp of this._coverageModel.coverageUpdateTimes()) {\n      const coverage: number|null = coverageByTimestamp.get(stamp) || previous;\n      previous = coverage;\n      if (!coverage) {\n        continue;\n      }\n      ctx.beginPath();\n      const x = (stamp - minTime) * xFactor;\n      const y = height - coverage * yFactor;\n      ctx.arc(x, y, 2 * lineWidth, 0, 2 * Math.PI, false);\n      ctx.closePath();\n      ctx.stroke();\n      ctx.fillStyle = coverageByTimestamp.has(stamp) ? blue : white;\n      ctx.fill();\n    }\n\n    this._heapSizeLabel.textContent = `${percentUsed}% used`;\n  }\n}\n"]}