{"version":3,"file":"TimelineFlameChartView.js","sourceRoot":"","sources":["../../../../../../front_end/panels/timeline/TimelineFlameChartView.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2016 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/* eslint-disable rulesdir/no_underscored_properties */\n\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as Root from '../../core/root/root.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Bindings from '../../models/bindings/bindings.js';\nimport * as TimelineModel from '../../models/timeline_model/timeline_model.js';\nimport * as PerfUI from '../../ui/legacy/components/perf_ui/perf_ui.js';\nimport * as UI from '../../ui/legacy/legacy.js';\n\nimport {CountersGraph} from './CountersGraph.js';\nimport type {PerformanceModel, Window} from './PerformanceModel.js';\nimport {Events as PerformanceModelEvents} from './PerformanceModel.js';  // eslint-disable-line no-unused-vars\nimport {TimelineDetailsView} from './TimelineDetailsView.js';\nimport {TimelineRegExp} from './TimelineFilters.js';\nimport {Events as TimelineFlameChartDataProviderEvents, TimelineFlameChartDataProvider} from './TimelineFlameChartDataProvider.js';\nimport {TimelineFlameChartNetworkDataProvider} from './TimelineFlameChartNetworkDataProvider.js';\nimport type {TimelineModeViewDelegate} from './TimelinePanel.js';\nimport {TimelineSelection} from './TimelinePanel.js';  // eslint-disable-line no-unused-vars\nimport {AggregatedTimelineTreeView} from './TimelineTreeView.js';\nimport type {TimelineMarkerStyle} from './TimelineUIUtils.js';\nimport {TimelineUIUtils} from './TimelineUIUtils.js';  // eslint-disable-line no-unused-vars\nimport {WebVitalsIntegrator} from './WebVitalsTimelineUtils.js';\n\nconst UIStrings = {\n  /**\n  *@description Text in Timeline Flame Chart View of the Performance panel\n  *@example {Frame} PH1\n  *@example {10ms} PH2\n  */\n  sAtS: '{PH1} at {PH2}',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/timeline/TimelineFlameChartView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nclass MainSplitWidget extends UI.SplitWidget.SplitWidget {\n  _webVitals!: WebVitalsIntegrator;\n  _model!: PerformanceModel|null;\n  constructor(\n      isVertical: boolean, secondIsSidebar: boolean, settingName?: string, defaultSidebarWidth?: number,\n      defaultSidebarHeight?: number, constraintsInDip?: boolean) {\n    super(isVertical, secondIsSidebar, settingName, defaultSidebarWidth, defaultSidebarHeight, constraintsInDip);\n  }\n\n  setWebVitals(webVitals: WebVitalsIntegrator): void {\n    /** @type {!WebVitalsIntegrator} */\n    this._webVitals = webVitals;\n    this._webVitals.setMinimumSize(0, 120);\n  }\n\n  setWindowTimes(left: number, right: number, animate: boolean): void {\n    if (!this._webVitals) {\n      return;\n    }\n\n    const startTime = left - (this._model ? this._model.timelineModel().minimumRecordTime() : 0);\n    this._webVitals.chartViewport.setWindowTimes(left, right, animate);\n    this._webVitals.webVitalsTimeline.data = {\n      startTime: startTime,\n      duration: right - left,\n      fcps: undefined,\n      lcps: undefined,\n      layoutShifts: undefined,\n      longTasks: undefined,\n      mainFrameNavigations: undefined,\n      maxDuration: undefined,\n    };\n  }\n\n  setModelAndUpdateBoundaries(model: PerformanceModel|null): void {\n    this._model = model;\n    if (!this._webVitals || !model) {\n      return;\n    }\n\n    const left = model.window().left;\n    const right = model.window().right;\n    const timelineModel = model.timelineModel();\n\n    const events: SDK.TracingModel.Event[] =\n        timelineModel.tracks().reduce((prev, curr) => prev.concat(curr.events), ([] as SDK.TracingModel.Event[]));\n    const minimumBoundary = model.timelineModel().minimumRecordTime();\n\n    const prepareEvents = (filterFunction: (arg0: SDK.TracingModel.Event) => boolean): number[] =>\n        events.filter(filterFunction).map(e => e.startTime - minimumBoundary);\n\n    const lcpEvents = events.filter(e => timelineModel.isLCPCandidateEvent(e) || timelineModel.isLCPInvalidateEvent(e));\n    const lcpEventsByNavigationId = new Map<string, SDK.TracingModel.Event>();\n    for (const e of lcpEvents) {\n      const navigationId = e.args['data']['navigationId'];\n      const previousLastEvent = lcpEventsByNavigationId.get(navigationId);\n      if (!previousLastEvent || previousLastEvent.args['data']['candidateIndex'] < e.args['data']['candidateIndex']) {\n        lcpEventsByNavigationId.set(navigationId, e);\n      }\n    }\n\n    const latestLcpCandidatesByNavigationId = Array.from(lcpEventsByNavigationId.values());\n    const latestLcpEvents = latestLcpCandidatesByNavigationId.filter(e => timelineModel.isLCPCandidateEvent(e));\n\n    const longTasks =\n        events.filter(e => SDK.TracingModel.TracingModel.isCompletePhase(e.phase) && timelineModel.isLongRunningTask(e))\n            .map(e => ({start: e.startTime - minimumBoundary, duration: e.duration || 0}));\n\n    this._webVitals.chartViewport.setBoundaries(left, right - left);\n\n    this._webVitals.chartViewport.setWindowTimes(left, right);\n\n    const startTime = left - (this._model ? this._model.timelineModel().minimumRecordTime() : 0);\n    this._webVitals.webVitalsTimeline.data = {\n      startTime: startTime,\n      duration: right - left,\n      maxDuration: timelineModel.maximumRecordTime(),\n      fcps: events.filter(e => timelineModel.isFCPEvent(e)).map(e => ({timestamp: e.startTime - minimumBoundary, e})),\n      lcps: latestLcpEvents.map(e => e.startTime).map(t => ({timestamp: t - minimumBoundary})),\n      layoutShifts: prepareEvents(e => timelineModel.isLayoutShiftEvent(e)).map(t => ({timestamp: t})),\n      longTasks,\n      mainFrameNavigations: prepareEvents(e => timelineModel.isMainFrameNavigationStartEvent(e)),\n    };\n  }\n}\n\nexport class TimelineFlameChartView extends UI.Widget.VBox implements PerfUI.FlameChart.FlameChartDelegate,\n                                                                      UI.SearchableView.Searchable {\n  _delegate: TimelineModeViewDelegate;\n  _model: PerformanceModel|null;\n  _searchResults!: number[]|undefined;\n  _eventListeners: Common.EventTarget.EventDescriptor[];\n  // TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  _showMemoryGraphSetting: Common.Settings.Setting<any>;\n  // TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  _showWebVitalsSetting: Common.Settings.Setting<any>;\n  _networkSplitWidget: UI.SplitWidget.SplitWidget;\n  _mainDataProvider: TimelineFlameChartDataProvider;\n  _mainFlameChart: PerfUI.FlameChart.FlameChart;\n  // TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  _networkFlameChartGroupExpansionSetting: Common.Settings.Setting<any>;\n  _networkDataProvider: TimelineFlameChartNetworkDataProvider;\n  _networkFlameChart: PerfUI.FlameChart.FlameChart;\n  _networkPane: UI.Widget.VBox;\n  _splitResizer: HTMLElement;\n  _webVitals: WebVitalsIntegrator;\n  _mainSplitWidget: MainSplitWidget;\n  _chartSplitWidget: UI.SplitWidget.SplitWidget;\n  _countersView: CountersGraph;\n  _detailsSplitWidget: UI.SplitWidget.SplitWidget;\n  _detailsView: TimelineDetailsView;\n  _onMainEntrySelected: (event?: Common.EventTarget.EventTargetEvent) => void;\n  _onNetworkEntrySelected: (event?: Common.EventTarget.EventTargetEvent) => void;\n  _nextExtensionIndex: number;\n  _boundRefresh: () => void;\n  _selectedTrack: TimelineModel.TimelineModel.Track|null;\n  // TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  _groupBySetting: Common.Settings.Setting<any>;\n  _searchableView!: UI.SearchableView.SearchableView;\n  _urlToColorCache?: Map<string, string>;\n  _needsResizeToPreferredHeights?: boolean;\n  _selectedSearchResult?: number;\n  _searchRegex?: RegExp;\n  constructor(delegate: TimelineModeViewDelegate) {\n    super();\n    this.element.classList.add('timeline-flamechart');\n    this._delegate = delegate;\n    this._model = null;\n    this._eventListeners = [];\n\n    this._showMemoryGraphSetting = Common.Settings.Settings.instance().createSetting('timelineShowMemory', false);\n    this._showWebVitalsSetting = Common.Settings.Settings.instance().createSetting('timelineWebVitals', false);\n\n    // Create main and network flamecharts.\n    this._networkSplitWidget = new UI.SplitWidget.SplitWidget(false, false, 'timelineFlamechartMainView', 150);\n\n    // Ensure that the network panel & resizer appears above the web vitals / main thread.\n    this._networkSplitWidget.sidebarElement().style.zIndex = '120';\n\n    const mainViewGroupExpansionSetting =\n        Common.Settings.Settings.instance().createSetting('timelineFlamechartMainViewGroupExpansion', {});\n    this._mainDataProvider = new TimelineFlameChartDataProvider();\n    this._mainDataProvider.addEventListener(\n        TimelineFlameChartDataProviderEvents.DataChanged, () => this._mainFlameChart.scheduleUpdate());\n    this._mainFlameChart =\n        new PerfUI.FlameChart.FlameChart(this._mainDataProvider, this, mainViewGroupExpansionSetting);\n    this._mainFlameChart.alwaysShowVerticalScroll();\n    this._mainFlameChart.enableRuler(false);\n\n    this._networkFlameChartGroupExpansionSetting =\n        Common.Settings.Settings.instance().createSetting('timelineFlamechartNetworkViewGroupExpansion', {});\n    this._networkDataProvider = new TimelineFlameChartNetworkDataProvider();\n    this._networkFlameChart =\n        new PerfUI.FlameChart.FlameChart(this._networkDataProvider, this, this._networkFlameChartGroupExpansionSetting);\n    this._networkFlameChart.alwaysShowVerticalScroll();\n    this._networkFlameChart.disableRangeSelection();\n\n    this._networkPane = new UI.Widget.VBox();\n    this._networkPane.setMinimumSize(23, 23);\n    this._networkFlameChart.show(this._networkPane.element);\n    this._splitResizer = this._networkPane.element.createChild('div', 'timeline-flamechart-resizer');\n    this._networkSplitWidget.hideDefaultResizer(true);\n    this._networkSplitWidget.installResizer(this._splitResizer);\n\n    this._webVitals = new WebVitalsIntegrator(this);\n\n    this._mainSplitWidget = new MainSplitWidget(false, false, 'timelineFlamechartMainAndVitalsView', undefined, 120);\n    this._mainSplitWidget.setWebVitals(this._webVitals);\n    this._mainSplitWidget.setMainWidget(this._mainFlameChart);\n    this._mainSplitWidget.setSidebarWidget(this._webVitals);\n    this.toggleWebVitalsLane();\n\n    this._networkSplitWidget.setMainWidget(this._mainSplitWidget);\n    this._networkSplitWidget.setSidebarWidget(this._networkPane);\n\n    // Create counters chart splitter.\n    this._chartSplitWidget = new UI.SplitWidget.SplitWidget(false, true, 'timelineCountersSplitViewState');\n    this._countersView = new CountersGraph(this._delegate);\n    this._chartSplitWidget.setMainWidget(this._networkSplitWidget);\n    this._chartSplitWidget.setSidebarWidget(this._countersView);\n    this._chartSplitWidget.hideDefaultResizer();\n    this._chartSplitWidget.installResizer((this._countersView.resizerElement() as Element));\n    this._updateCountersGraphToggle();\n\n    // Create top level properties splitter.\n    this._detailsSplitWidget = new UI.SplitWidget.SplitWidget(false, true, 'timelinePanelDetailsSplitViewState');\n    this._detailsSplitWidget.element.classList.add('timeline-details-split');\n    this._detailsView = new TimelineDetailsView(delegate);\n    this._detailsSplitWidget.installResizer(this._detailsView.headerElement());\n    this._detailsSplitWidget.setMainWidget(this._chartSplitWidget);\n    this._detailsSplitWidget.setSidebarWidget(this._detailsView);\n    this._detailsSplitWidget.show(this.element);\n\n    // TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration\n    // @ts-expect-error\n    this._onMainEntrySelected = this._onEntrySelected.bind(this, this._mainDataProvider);\n    // TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration\n    // @ts-expect-error\n    this._onNetworkEntrySelected = this._onEntrySelected.bind(this, this._networkDataProvider);\n    this._mainFlameChart.addEventListener(PerfUI.FlameChart.Events.EntrySelected, this._onMainEntrySelected, this);\n    this._mainFlameChart.addEventListener(PerfUI.FlameChart.Events.EntryInvoked, this._onMainEntrySelected, this);\n    this._networkFlameChart.addEventListener(\n        PerfUI.FlameChart.Events.EntrySelected, this._onNetworkEntrySelected, this);\n    this._networkFlameChart.addEventListener(PerfUI.FlameChart.Events.EntryInvoked, this._onNetworkEntrySelected, this);\n    this._mainFlameChart.addEventListener(PerfUI.FlameChart.Events.EntryHighlighted, this._onEntryHighlighted, this);\n    this._nextExtensionIndex = 0;\n\n    this._boundRefresh = this._refresh.bind(this);\n    this._selectedTrack = null;\n\n    this._mainDataProvider.setEventColorMapping(TimelineUIUtils.eventColor);\n    this._groupBySetting = Common.Settings.Settings.instance().createSetting(\n        'timelineTreeGroupBy', AggregatedTimelineTreeView.GroupBy.None);\n    this._groupBySetting.addChangeListener(this._updateColorMapper, this);\n    this._updateColorMapper();\n  }\n\n  toggleWebVitalsLane(): void {\n    if (this._showWebVitalsSetting.get()) {\n      this._mainSplitWidget.showBoth();\n      this._mainSplitWidget.setSidebarSize(120);\n      this._mainSplitWidget.setResizable(false);\n      this._mainSplitWidget.hideDefaultResizer(true);\n    } else {\n      this._mainSplitWidget.hideSidebar();\n    }\n  }\n\n  _updateColorMapper(): void {\n    this._urlToColorCache = new Map();\n    if (!this._model) {\n      return;\n    }\n    this._mainDataProvider.setEventColorMapping(TimelineUIUtils.eventColor);\n    this._mainFlameChart.update();\n  }\n\n  _onWindowChanged(event: Common.EventTarget.EventTargetEvent): void {\n    const window = (event.data.window as Window);\n    const animate = Boolean(event.data.animate);\n    this._mainFlameChart.setWindowTimes(window.left, window.right, animate);\n    this._networkFlameChart.setWindowTimes(window.left, window.right, animate);\n    this._networkDataProvider.setWindowTimes(window.left, window.right);\n    this._mainSplitWidget.setWindowTimes(window.left, window.right, animate);\n    this._updateSearchResults(false, false);\n  }\n\n  windowChanged(windowStartTime: number, windowEndTime: number, animate: boolean): void {\n    if (this._model) {\n      this._model.setWindow({left: windowStartTime, right: windowEndTime}, animate);\n    }\n  }\n\n  updateRangeSelection(startTime: number, endTime: number): void {\n    this._delegate.select(TimelineSelection.fromRange(startTime, endTime));\n  }\n\n  updateSelectedGroup(flameChart: PerfUI.FlameChart.FlameChart, group: PerfUI.FlameChart.Group|null): void {\n    if (flameChart !== this._mainFlameChart) {\n      return;\n    }\n    const track = group ? this._mainDataProvider.groupTrack(group) : null;\n    this._selectedTrack = track;\n    this._updateTrack();\n  }\n\n  setModel(model: PerformanceModel|null): void {\n    if (model === this._model) {\n      return;\n    }\n    Common.EventTarget.EventTarget.removeEventListeners(this._eventListeners);\n    this._model = model;\n    this._selectedTrack = null;\n    this._mainDataProvider.setModel(this._model);\n    this._networkDataProvider.setModel(this._model);\n    if (this._model) {\n      this._eventListeners = [\n        this._model.addEventListener(PerformanceModelEvents.WindowChanged, this._onWindowChanged, this),\n        this._model.addEventListener(PerformanceModelEvents.ExtensionDataAdded, this._appendExtensionData, this),\n      ];\n      const window = this._model.window();\n      this._mainFlameChart.setWindowTimes(window.left, window.right);\n      this._networkFlameChart.setWindowTimes(window.left, window.right);\n      this._networkDataProvider.setWindowTimes(window.left, window.right);\n      this._mainSplitWidget.setModelAndUpdateBoundaries(model);\n      this._updateSearchResults(false, false);\n    }\n    this._updateColorMapper();\n    this._updateTrack();\n    this._nextExtensionIndex = 0;\n    this._appendExtensionData();\n    this._refresh();\n  }\n\n  _updateTrack(): void {\n    this._countersView.setModel(this._model, this._selectedTrack);\n    this._detailsView.setModel(this._model, this._selectedTrack);\n  }\n\n  _refresh(): void {\n    if (this._networkDataProvider.isEmpty()) {\n      this._mainFlameChart.enableRuler(true);\n      this._networkSplitWidget.hideSidebar();\n    } else {\n      this._mainFlameChart.enableRuler(false);\n      this._networkSplitWidget.showBoth();\n      this.resizeToPreferredHeights();\n    }\n    this._mainFlameChart.reset();\n    this._networkFlameChart.reset();\n    this._updateSearchResults(false, false);\n  }\n\n  _appendExtensionData(): void {\n    if (!this._model) {\n      return;\n    }\n    const extensions = this._model.extensionInfo();\n    while (this._nextExtensionIndex < extensions.length) {\n      this._mainDataProvider.appendExtensionEvents(extensions[this._nextExtensionIndex++]);\n    }\n    this._mainFlameChart.scheduleUpdate();\n  }\n\n  _onEntryHighlighted(commonEvent: Common.EventTarget.EventTargetEvent): void {\n    SDK.OverlayModel.OverlayModel.hideDOMNodeHighlight();\n    const entryIndex = (commonEvent.data as number);\n    const event = this._mainDataProvider.eventByIndex(entryIndex);\n    if (!event) {\n      return;\n    }\n    const target = this._model && this._model.timelineModel().targetByEvent(event);\n    if (!target) {\n      return;\n    }\n    const timelineData = TimelineModel.TimelineModel.TimelineData.forEvent(event);\n    const backendNodeIds = timelineData.backendNodeIds;\n    if (!backendNodeIds) {\n      return;\n    }\n    for (let i = 0; i < backendNodeIds.length; ++i) {\n      new SDK.DOMModel.DeferredDOMNode(target, backendNodeIds[i]).highlight();\n    }\n  }\n\n  highlightEvent(event: SDK.TracingModel.Event|null): void {\n    const entryIndex =\n        event ? this._mainDataProvider.entryIndexForSelection(TimelineSelection.fromTraceEvent(event)) : -1;\n    if (entryIndex >= 0) {\n      this._mainFlameChart.highlightEntry(entryIndex);\n    } else {\n      this._mainFlameChart.hideHighlight();\n    }\n  }\n\n  willHide(): void {\n    this._networkFlameChartGroupExpansionSetting.removeChangeListener(this.resizeToPreferredHeights, this);\n    this._showMemoryGraphSetting.removeChangeListener(this._updateCountersGraphToggle, this);\n    Bindings.IgnoreListManager.IgnoreListManager.instance().removeChangeListener(this._boundRefresh);\n  }\n\n  wasShown(): void {\n    this._networkFlameChartGroupExpansionSetting.addChangeListener(this.resizeToPreferredHeights, this);\n    this._showMemoryGraphSetting.addChangeListener(this._updateCountersGraphToggle, this);\n    Bindings.IgnoreListManager.IgnoreListManager.instance().addChangeListener(this._boundRefresh);\n    if (this._needsResizeToPreferredHeights) {\n      this.resizeToPreferredHeights();\n    }\n    this._mainFlameChart.scheduleUpdate();\n    this._networkFlameChart.scheduleUpdate();\n  }\n\n  _updateCountersGraphToggle(): void {\n    if (this._showMemoryGraphSetting.get()) {\n      this._chartSplitWidget.showBoth();\n    } else {\n      this._chartSplitWidget.hideSidebar();\n    }\n  }\n\n  setSelection(selection: TimelineSelection|null): void {\n    let index = this._mainDataProvider.entryIndexForSelection(selection);\n    this._mainFlameChart.setSelectedEntry(index);\n    index = this._networkDataProvider.entryIndexForSelection(selection);\n    this._networkFlameChart.setSelectedEntry(index);\n    if (this._detailsView) {\n      this._detailsView.setSelection(selection);\n    }\n  }\n\n  _onEntrySelected(dataProvider: PerfUI.FlameChart.FlameChartDataProvider, event: Common.EventTarget.EventTargetEvent):\n      void {\n    const entryIndex = (event.data as number);\n    if (Root.Runtime.experiments.isEnabled('timelineEventInitiators') && dataProvider === this._mainDataProvider) {\n      if (this._mainDataProvider.buildFlowForInitiator(entryIndex)) {\n        this._mainFlameChart.scheduleUpdate();\n      }\n    }\n    this._delegate.select((dataProvider as TimelineFlameChartNetworkDataProvider).createSelection(entryIndex));\n  }\n\n  resizeToPreferredHeights(): void {\n    if (!this.isShowing()) {\n      this._needsResizeToPreferredHeights = true;\n      return;\n    }\n    this._needsResizeToPreferredHeights = false;\n    this._networkPane.element.classList.toggle(\n        'timeline-network-resizer-disabled', !this._networkDataProvider.isExpanded());\n    this._networkSplitWidget.setSidebarSize(\n        this._networkDataProvider.preferredHeight() + this._splitResizer.clientHeight + PerfUI.FlameChart.HeaderHeight +\n        2);\n  }\n\n  setSearchableView(searchableView: UI.SearchableView.SearchableView): void {\n    this._searchableView = searchableView;\n  }\n\n  // UI.SearchableView.Searchable implementation\n\n  jumpToNextSearchResult(): void {\n    if (!this._searchResults || !this._searchResults.length) {\n      return;\n    }\n    const index = typeof this._selectedSearchResult !== 'undefined' ?\n        this._searchResults.indexOf(this._selectedSearchResult) :\n        -1;\n    this._selectSearchResult(Platform.NumberUtilities.mod(index + 1, this._searchResults.length));\n  }\n\n  jumpToPreviousSearchResult(): void {\n    if (!this._searchResults || !this._searchResults.length) {\n      return;\n    }\n    const index =\n        typeof this._selectedSearchResult !== 'undefined' ? this._searchResults.indexOf(this._selectedSearchResult) : 0;\n    this._selectSearchResult(Platform.NumberUtilities.mod(index - 1, this._searchResults.length));\n  }\n\n  supportsCaseSensitiveSearch(): boolean {\n    return true;\n  }\n\n  supportsRegexSearch(): boolean {\n    return true;\n  }\n\n  _selectSearchResult(index: number): void {\n    this._searchableView.updateCurrentMatchIndex(index);\n    if (this._searchResults) {\n      this._selectedSearchResult = this._searchResults[index];\n      this._delegate.select(this._mainDataProvider.createSelection(this._selectedSearchResult));\n    }\n  }\n\n  _updateSearchResults(shouldJump: boolean, jumpBackwards?: boolean): void {\n    const oldSelectedSearchResult = (this._selectedSearchResult as number);\n    delete this._selectedSearchResult;\n    this._searchResults = [];\n    if (!this._searchRegex || !this._model) {\n      return;\n    }\n    const regExpFilter = new TimelineRegExp(this._searchRegex);\n    const window = this._model.window();\n    this._searchResults = this._mainDataProvider.search(window.left, window.right, regExpFilter);\n    this._searchableView.updateSearchMatchesCount(this._searchResults.length);\n    if (!shouldJump || !this._searchResults.length) {\n      return;\n    }\n    let selectedIndex = this._searchResults.indexOf(oldSelectedSearchResult);\n    if (selectedIndex === -1) {\n      selectedIndex = jumpBackwards ? this._searchResults.length - 1 : 0;\n    }\n    this._selectSearchResult(selectedIndex);\n  }\n\n  searchCanceled(): void {\n    if (typeof this._selectedSearchResult !== 'undefined') {\n      this._delegate.select(null);\n    }\n    delete this._searchResults;\n    delete this._selectedSearchResult;\n    delete this._searchRegex;\n  }\n\n  performSearch(searchConfig: UI.SearchableView.SearchConfig, shouldJump: boolean, jumpBackwards?: boolean): void {\n    this._searchRegex = searchConfig.toSearchRegex();\n    this._updateSearchResults(shouldJump, jumpBackwards);\n  }\n}\n\nexport class Selection {\n  timelineSelection: TimelineSelection;\n  entryIndex: number;\n  constructor(selection: TimelineSelection, entryIndex: number) {\n    this.timelineSelection = selection;\n    this.entryIndex = entryIndex;\n  }\n}\n\nexport const FlameChartStyle = {\n  textColor: '#333',\n};\n\nexport class TimelineFlameChartMarker implements PerfUI.FlameChart.FlameChartMarker {\n  _startTime: number;\n  _startOffset: number;\n  _style: TimelineMarkerStyle;\n  constructor(startTime: number, startOffset: number, style: TimelineMarkerStyle) {\n    this._startTime = startTime;\n    this._startOffset = startOffset;\n    this._style = style;\n  }\n\n  startTime(): number {\n    return this._startTime;\n  }\n\n  color(): string {\n    return this._style.color;\n  }\n\n  title(): string|null {\n    if (this._style.lowPriority) {\n      return null;\n    }\n    const startTime = i18n.i18n.millisToString(this._startOffset);\n    return i18nString(UIStrings.sAtS, {PH1: this._style.title, PH2: startTime});\n  }\n\n  draw(context: CanvasRenderingContext2D, x: number, height: number, pixelsPerMillisecond: number): void {\n    const lowPriorityVisibilityThresholdInPixelsPerMs = 4;\n\n    if (this._style.lowPriority && pixelsPerMillisecond < lowPriorityVisibilityThresholdInPixelsPerMs) {\n      return;\n    }\n\n    context.save();\n    if (this._style.tall) {\n      context.strokeStyle = this._style.color;\n      context.lineWidth = this._style.lineWidth;\n      context.translate(this._style.lineWidth < 1 || (this._style.lineWidth & 1) ? 0.5 : 0, 0.5);\n      context.beginPath();\n      context.moveTo(x, 0);\n      context.setLineDash(this._style.dashStyle);\n      context.lineTo(x, context.canvas.height);\n      context.stroke();\n    }\n    context.restore();\n  }\n}\n\n// TODO(crbug.com/1167717): Make this a const enum again\n// eslint-disable-next-line rulesdir/const_enum\nexport enum ColorBy {\n  URL = 'URL',\n}\n"]}