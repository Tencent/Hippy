{"version":3,"file":"ElementsPanel.js","sourceRoot":"","sources":["../../../../../../front_end/panels/elements/ElementsPanel.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/*\n * Copyright (C) 2007, 2008 Apple Inc.  All rights reserved.\n * Copyright (C) 2008 Matt Lilek <webkit@mattlilek.com>\n * Copyright (C) 2009 Joseph Pecoraro\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *\n * 1.  Redistributions of source code must retain the above copyright\n *     notice, this list of conditions and the following disclaimer.\n * 2.  Redistributions in binary form must reproduce the above copyright\n *     notice, this list of conditions and the following disclaimer in the\n *     documentation and/or other materials provided with the distribution.\n * 3.  Neither the name of Apple Computer, Inc. (\"Apple\") nor the names of\n *     its contributors may be used to endorse or promote products derived\n *     from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY APPLE AND ITS CONTRIBUTORS \"AS IS\" AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL APPLE OR ITS CONTRIBUTORS BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/* eslint-disable rulesdir/no_underscored_properties */\n\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Root from '../../core/root/root.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Extensions from '../../models/extensions/extensions.js';\nimport * as Components from '../../ui/legacy/components/utils/utils.js';\nimport * as UI from '../../ui/legacy/legacy.js';\n\nimport {AccessibilityTreeView} from './AccessibilityTreeView.js';\nimport * as ElementsComponents from './components/components.js';\nimport {ComputedStyleWidget} from './ComputedStyleWidget.js';\nimport type {ElementsTreeElement} from './ElementsTreeElement.js'; // eslint-disable-line no-unused-vars\nimport {ElementsTreeElementHighlighter} from './ElementsTreeElementHighlighter.js';\nimport {ElementsTreeOutline} from './ElementsTreeOutline.js';\nimport type {MarkerDecorator} from './MarkerDecorator.js'; // eslint-disable-line no-unused-vars\nimport {MetricsSidebarPane} from './MetricsSidebarPane.js';\nimport {Events as StylesSidebarPaneEvents, StylesSidebarPane} from './StylesSidebarPane.js';\n\nconst UIStrings = {\n  /**\n  * @description Placeholder text for the search box the Elements Panel. Selector refers to CSS\n  * selectors.\n  */\n  findByStringSelectorOrXpath: 'Find by string, selector, or `XPath`',\n  /**\n  * @description Button text for a button that takes the user to the Accessibility Tree View from the\n  * DOM tree view, in the Elements panel.\n  */\n  switchToAccessibilityTreeView: 'Switch to Accessibility Tree view',\n  /**\n  * @description Button text for a button that takes the user to the DOM tree view from the\n  * Accessibility Tree View, in the Elements panel.\n  */\n  switchToDomTreeView: 'Switch to DOM Tree view',\n  /**\n  * @description Label for a link to a rendering frame.\n  */\n  frame: 'Frame',\n  /**\n  * @description Tooltip for the the Computed Styles sidebar toggle in the Styles pane. Command to\n  * open/show the sidebar.\n  */\n  showComputedStylesSidebar: 'Show Computed Styles sidebar',\n  /**\n  * @description Tooltip for the the Computed Styles sidebar toggle in the Styles pane. Command to\n  * close/hide the sidebar.\n  */\n  hideComputedStylesSidebar: 'Hide Computed Styles sidebar',\n  /**\n  * @description Title of a pane in the Elements panel that shows computed styles for the selected\n  * HTML element. Computed styles are the final, actual styles of the element, including all\n  * implicit and specified styles.\n  */\n  computed: 'Computed',\n  /**\n  * @description Title of a pane in the Elements panel that shows the CSS styles for the selected\n  * HTML element.\n  */\n  styles: 'Styles',\n  /**\n  * @description A context menu item to reveal a node in the DOM tree of the Elements Panel\n  */\n  revealInElementsPanel: 'Reveal in Elements panel',\n  /**\n  * @description Warning/error text displayed when a node cannot be found in the current page.\n  */\n  nodeCannotBeFoundInTheCurrent: 'Node cannot be found in the current page.',\n  /**\n  * @description Console warning when a user tries to reveal a non-node type Remote Object. A remote\n  * object is a JavaScript object that is not stored in DevTools, that DevTools has a connection to.\n  * It should correspond to a local node.\n  */\n  theRemoteObjectCouldNotBe: 'The remote object could not be resolved to a valid node.',\n  /**\n  * @description Console warning when the user tries to reveal a deferred DOM Node that resolves as\n  * null. A deferred DOM node is a node we know about but have not yet fetched from the backend (we\n  * defer the work until later).\n  */\n  theDeferredDomNodeCouldNotBe: 'The deferred `DOM` Node could not be resolved to a valid node.',\n  /**\n  * @description Text in Elements Panel of the Elements panel. Shows the current CSS Pseudo-classes\n  * applicable to the selected HTML element.\n  * @example {::after, ::before} PH1\n  */\n  elementStateS: 'Element state: {PH1}',\n};\n\nconst str_ = i18n.i18n.registerUIStrings('panels/elements/ElementsPanel.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nconst legacyNodeToNewBreadcrumbsNode = (node: SDK.DOMModel.DOMNode): ElementsComponents.ElementsBreadcrumbs.DOMNode => {\n  return {\n    parentNode: node.parentNode ? legacyNodeToNewBreadcrumbsNode(node.parentNode) : null,\n    id: (node.id as number),\n    nodeType: node.nodeType(),\n    pseudoType: node.pseudoType(),\n    shadowRootType: node.shadowRootType(),\n    nodeName: node.nodeName(),\n    nodeNameNicelyCased: node.nodeNameInCorrectCase(),\n    legacyDomNode: node,\n    highlightNode: (): void => node.highlight(),\n    clearHighlight: (): void => SDK.OverlayModel.OverlayModel.hideDOMNodeHighlight(),\n    getAttribute: node.getAttribute.bind(node),\n  };\n};\n\nlet elementsPanelInstance: ElementsPanel;\n\nexport class ElementsPanel extends UI.Panel.Panel implements UI.SearchableView.Searchable,\n                                                             SDK.TargetManager.SDKModelObserver<SDK.DOMModel.DOMModel>,\n                                                             UI.View.ViewLocationResolver {\n  _splitWidget: UI.SplitWidget.SplitWidget;\n  _searchableView: UI.SearchableView.SearchableView;\n  _contentElement: HTMLDivElement;\n  _splitMode: _splitMode|null;\n  _accessibilityTreeView: AccessibilityTreeView|undefined;\n  _breadcrumbs: ElementsComponents.ElementsBreadcrumbs.ElementsBreadcrumbs;\n  _stylesWidget: StylesSidebarPane;\n  _computedStyleWidget: ComputedStyleWidget;\n  _metricsWidget: MetricsSidebarPane;\n  _treeOutlines: Set<ElementsTreeOutline>;\n  _treeOutlineHeaders: Map<ElementsTreeOutline, Element>;\n  _gridStyleTrackerByCSSModel: Map<SDK.CSSModel.CSSModel, SDK.CSSModel.CSSPropertyTracker>;\n  _searchResults!: {\n    domModel: SDK.DOMModel.DOMModel,\n    index: number,\n    node: ((SDK.DOMModel.DOMNode | undefined)|null),\n  }[]|undefined;\n  _currentSearchResultIndex: number;\n  _pendingNodeReveal: boolean;\n  _adornerManager: ElementsComponents.AdornerManager.AdornerManager;\n  _adornerSettingsPane: ElementsComponents.AdornerSettingsPane.AdornerSettingsPane|null;\n  _adornersByName: Map<string, Set<ElementsComponents.Adorner.Adorner>>;\n  _accessibilityTreeButton?: HTMLButtonElement;\n  domTreeButton?: HTMLButtonElement;\n  _selectedNodeOnReset?: SDK.DOMModel.DOMNode;\n  _hasNonDefaultSelectedNode?: boolean;\n  _searchConfig?: UI.SearchableView.SearchConfig;\n  _omitDefaultSelection?: boolean;\n  _notFirstInspectElement?: boolean;\n  sidebarPaneView?: UI.View.TabbedViewLocation;\n  _stylesViewToReveal?: UI.View.SimpleView;\n\n  constructor() {\n    super('elements');\n    this.registerRequiredCSS('panels/elements/elementsPanel.css', {enableLegacyPatching: false});\n    this._splitWidget = new UI.SplitWidget.SplitWidget(true, true, 'elementsPanelSplitViewState', 325, 325);\n    this._splitWidget.addEventListener(\n        UI.SplitWidget.Events.SidebarSizeChanged, this._updateTreeOutlineVisibleWidth.bind(this));\n    this._splitWidget.show(this.element);\n\n    this._searchableView = new UI.SearchableView.SearchableView(this, null);\n    this._searchableView.setMinimumSize(25, 28);\n    this._searchableView.setPlaceholder(i18nString(UIStrings.findByStringSelectorOrXpath));\n    const stackElement = this._searchableView.element;\n\n    this._contentElement = document.createElement('div');\n    const crumbsContainer = document.createElement('div');\n    if (Root.Runtime.experiments.isEnabled('fullAccessibilityTree')) {\n      this._initializeFullAccessibilityTreeView(stackElement);\n    }\n    stackElement.appendChild(this._contentElement);\n    stackElement.appendChild(crumbsContainer);\n\n    this._splitWidget.setMainWidget(this._searchableView);\n    this._splitMode = null;\n\n    this._contentElement.id = 'elements-content';\n    // FIXME: crbug.com/425984\n    if (Common.Settings.Settings.instance().moduleSetting('domWordWrap').get()) {\n      this._contentElement.classList.add('elements-wrap');\n    }\n    Common.Settings.Settings.instance()\n        .moduleSetting('domWordWrap')\n        .addChangeListener(this._domWordWrapSettingChanged.bind(this));\n\n    crumbsContainer.id = 'elements-crumbs';\n    if (this.domTreeButton) {\n      this._accessibilityTreeView = new AccessibilityTreeView(this.domTreeButton);\n    }\n    this._breadcrumbs = new ElementsComponents.ElementsBreadcrumbs.ElementsBreadcrumbs();\n    this._breadcrumbs.addEventListener('breadcrumbsnodeselected', (event: Common.EventTarget.EventTargetEvent) => {\n      this._crumbNodeSelected(event);\n    });\n\n    crumbsContainer.appendChild(this._breadcrumbs);\n\n    this._stylesWidget = StylesSidebarPane.instance();\n    this._computedStyleWidget = new ComputedStyleWidget();\n    this._metricsWidget = new MetricsSidebarPane();\n\n    Common.Settings.Settings.instance()\n        .moduleSetting('sidebarPosition')\n        .addChangeListener(this._updateSidebarPosition.bind(this));\n    this._updateSidebarPosition();\n\n    this._treeOutlines = new Set();\n    this._treeOutlineHeaders = new Map();\n    this._gridStyleTrackerByCSSModel = new Map();\n    SDK.TargetManager.TargetManager.instance().observeModels(SDK.DOMModel.DOMModel, this);\n    SDK.TargetManager.TargetManager.instance().addEventListener(\n        SDK.TargetManager.Events.NameChanged, event => this._targetNameChanged((event.data as SDK.Target.Target)));\n    Common.Settings.Settings.instance()\n        .moduleSetting('showUAShadowDOM')\n        .addChangeListener(this._showUAShadowDOMChanged.bind(this));\n    SDK.TargetManager.TargetManager.instance().addModelListener(\n        SDK.DOMModel.DOMModel, SDK.DOMModel.Events.DocumentUpdated, this._documentUpdatedEvent, this);\n    Extensions.ExtensionServer.ExtensionServer.instance().addEventListener(\n        Extensions.ExtensionServer.Events.SidebarPaneAdded, this._extensionSidebarPaneAdded, this);\n    this._currentSearchResultIndex = -1;  // -1 represents the initial invalid state\n\n    this._pendingNodeReveal = false;\n\n    this._adornerManager = new ElementsComponents.AdornerManager.AdornerManager(\n        Common.Settings.Settings.instance().moduleSetting('adornerSettings'));\n    this._adornerSettingsPane = null;\n    this._adornersByName = new Map();\n  }\n\n  _initializeFullAccessibilityTreeView(stackElement: UI.Widget.WidgetElement): void {\n    this._accessibilityTreeButton = document.createElement('button');\n    this._accessibilityTreeButton.textContent = i18nString(UIStrings.switchToAccessibilityTreeView);\n    this._accessibilityTreeButton.addEventListener('click', this._showAccessibilityTree.bind(this));\n\n    this.domTreeButton = document.createElement('button');\n    this.domTreeButton.textContent = i18nString(UIStrings.switchToDomTreeView);\n    this.domTreeButton.addEventListener('click', this._showDOMTree.bind(this));\n\n    stackElement.appendChild(this._accessibilityTreeButton);\n  }\n\n  _showAccessibilityTree(): void {\n    if (this._accessibilityTreeView) {\n      this._splitWidget.setMainWidget(this._accessibilityTreeView);\n    }\n  }\n\n  _showDOMTree(): void {\n    // TODO(meredithl): Scroll to inspected DOM node.\n    this._splitWidget.setMainWidget(this._searchableView);\n  }\n\n  static instance(opts: {\n    forceNew: boolean|null,\n  }|undefined = {forceNew: null}): ElementsPanel {\n    const {forceNew} = opts;\n    if (!elementsPanelInstance || forceNew) {\n      elementsPanelInstance = new ElementsPanel();\n    }\n\n    return elementsPanelInstance;\n  }\n\n  _revealProperty(cssProperty: SDK.CSSProperty.CSSProperty): Promise<void> {\n    if (!this.sidebarPaneView || !this._stylesViewToReveal) {\n      return Promise.resolve();\n    }\n\n    return this.sidebarPaneView.showView(this._stylesViewToReveal).then(() => {\n      this._stylesWidget.revealProperty((cssProperty as SDK.CSSProperty.CSSProperty));\n    });\n  }\n\n  resolveLocation(_locationName: string): UI.View.ViewLocation|null {\n    return this.sidebarPaneView || null;\n  }\n\n  showToolbarPane(widget: UI.Widget.Widget|null, toggle: UI.Toolbar.ToolbarToggle|null): void {\n    // TODO(luoe): remove this function once its providers have an alternative way to reveal their views.\n    this._stylesWidget.showToolbarPane(widget, toggle);\n  }\n\n  modelAdded(domModel: SDK.DOMModel.DOMModel): void {\n    const parentModel = domModel.parentModel();\n\n    // Different frames will have different DOMModels, we only want to add the accessibility model\n    // for the top level frame, as the accessibility tree does not yet support exploring IFrames.\n    if (!parentModel && this._accessibilityTreeView) {\n      this._accessibilityTreeView.setAccessibilityModel(\n          domModel.target().model(SDK.AccessibilityModel.AccessibilityModel));\n    }\n    let treeOutline: ElementsTreeOutline|(ElementsTreeOutline | null) =\n        parentModel ? ElementsTreeOutline.forDOMModel(parentModel) : null;\n    if (!treeOutline) {\n      treeOutline = new ElementsTreeOutline(true, true);\n      treeOutline.setWordWrap(Common.Settings.Settings.instance().moduleSetting('domWordWrap').get());\n      treeOutline.addEventListener(ElementsTreeOutline.Events.SelectedNodeChanged, this._selectedNodeChanged, this);\n      treeOutline.addEventListener(\n          ElementsTreeOutline.Events.ElementsTreeUpdated, this._updateBreadcrumbIfNeeded, this);\n      new ElementsTreeElementHighlighter(treeOutline);\n      this._treeOutlines.add(treeOutline);\n      if (domModel.target().parentTarget()) {\n        const element = document.createElement('div');\n        element.classList.add('elements-tree-header');\n        this._treeOutlineHeaders.set(treeOutline, element);\n        this._targetNameChanged(domModel.target());\n      }\n    }\n    treeOutline.wireToDOMModel(domModel);\n\n    this._setupStyleTracking(domModel.cssModel());\n\n    // Perform attach if necessary.\n    if (this.isShowing()) {\n      this.wasShown();\n    }\n  }\n\n  modelRemoved(domModel: SDK.DOMModel.DOMModel): void {\n    const treeOutline = ElementsTreeOutline.forDOMModel(domModel);\n    if (!treeOutline) {\n      return;\n    }\n\n    treeOutline.unwireFromDOMModel(domModel);\n    if (domModel.parentModel()) {\n      return;\n    }\n    this._treeOutlines.delete(treeOutline);\n    const header = this._treeOutlineHeaders.get(treeOutline);\n    if (header) {\n      header.remove();\n    }\n    this._treeOutlineHeaders.delete(treeOutline);\n    treeOutline.element.remove();\n\n    this._removeStyleTracking(domModel.cssModel());\n  }\n\n  _targetNameChanged(target: SDK.Target.Target): void {\n    const domModel = target.model(SDK.DOMModel.DOMModel);\n    if (!domModel) {\n      return;\n    }\n    const treeOutline = ElementsTreeOutline.forDOMModel(domModel);\n    if (!treeOutline) {\n      return;\n    }\n    const header = this._treeOutlineHeaders.get(treeOutline);\n    if (!header) {\n      return;\n    }\n    header.removeChildren();\n    header.createChild('div', 'elements-tree-header-frame').textContent = i18nString(UIStrings.frame);\n    header.appendChild(Components.Linkifier.Linkifier.linkifyURL(\n        target.inspectedURL(), ({text: target.name()} as Components.Linkifier.LinkifyURLOptions)));\n  }\n\n  _updateTreeOutlineVisibleWidth(): void {\n    if (!this._treeOutlines.size) {\n      return;\n    }\n\n    let width = this._splitWidget.element.offsetWidth;\n    if (this._splitWidget.isVertical()) {\n      width -= this._splitWidget.sidebarSize();\n    }\n    for (const treeOutline of this._treeOutlines) {\n      treeOutline.setVisibleWidth(width);\n    }\n  }\n\n  focus(): void {\n    if (this._treeOutlines.size) {\n      this._treeOutlines.values().next().value.focus();\n    }\n  }\n\n  searchableView(): UI.SearchableView.SearchableView {\n    return this._searchableView;\n  }\n\n  wasShown(): void {\n    UI.Context.Context.instance().setFlavor(ElementsPanel, this);\n\n    for (const treeOutline of this._treeOutlines) {\n      // Attach heavy component lazily\n      if (treeOutline.element.parentElement !== this._contentElement) {\n        const header = this._treeOutlineHeaders.get(treeOutline);\n        if (header) {\n          this._contentElement.appendChild(header);\n        }\n        this._contentElement.appendChild(treeOutline.element);\n      }\n    }\n    super.wasShown();\n\n    const domModels = SDK.TargetManager.TargetManager.instance().models(SDK.DOMModel.DOMModel);\n    for (const domModel of domModels) {\n      if (domModel.parentModel()) {\n        continue;\n      }\n      const treeOutline = ElementsTreeOutline.forDOMModel(domModel);\n      if (!treeOutline) {\n        continue;\n      }\n      treeOutline.setVisible(true);\n\n      if (!treeOutline.rootDOMNode) {\n        if (domModel.existingDocument()) {\n          treeOutline.rootDOMNode = domModel.existingDocument();\n          this._documentUpdated(domModel);\n        } else {\n          domModel.requestDocument();\n        }\n      }\n    }\n  }\n\n  willHide(): void {\n    SDK.OverlayModel.OverlayModel.hideDOMNodeHighlight();\n    for (const treeOutline of this._treeOutlines) {\n      treeOutline.setVisible(false);\n      // Detach heavy component on hide\n      this._contentElement.removeChild(treeOutline.element);\n      const header = this._treeOutlineHeaders.get(treeOutline);\n      if (header) {\n        this._contentElement.removeChild(header);\n      }\n    }\n    super.willHide();\n    UI.Context.Context.instance().setFlavor(ElementsPanel, null);\n  }\n\n  onResize(): void {\n    this.element.window().requestAnimationFrame(this._updateSidebarPosition.bind(this));  // Do not force layout.\n    this._updateTreeOutlineVisibleWidth();\n  }\n\n  _selectedNodeChanged(event: Common.EventTarget.EventTargetEvent): void {\n    let selectedNode: null|(SDK.DOMModel.DOMNode | null) = (event.data.node as SDK.DOMModel.DOMNode | null);\n\n    // If the selectedNode is a pseudoNode, we want to ensure that it has a valid parentNode\n    if (selectedNode && (selectedNode.pseudoType() && !selectedNode.parentNode)) {\n      selectedNode = null;\n    }\n    const focus = (event.data.focus as boolean);\n    for (const treeOutline of this._treeOutlines) {\n      if (!selectedNode || ElementsTreeOutline.forDOMModel(selectedNode.domModel()) !== treeOutline) {\n        treeOutline.selectDOMNode(null);\n      }\n    }\n\n    if (selectedNode) {\n      const activeNode = legacyNodeToNewBreadcrumbsNode(selectedNode);\n      const crumbs = [activeNode];\n\n      for (let current: (SDK.DOMModel.DOMNode|null) = selectedNode.parentNode; current; current = current.parentNode) {\n        crumbs.push(legacyNodeToNewBreadcrumbsNode(current));\n      }\n\n      this._breadcrumbs.data = {\n        crumbs,\n        selectedNode: legacyNodeToNewBreadcrumbsNode(selectedNode),\n      };\n    } else {\n      this._breadcrumbs.data = {crumbs: [], selectedNode: null};\n    }\n\n    UI.Context.Context.instance().setFlavor(SDK.DOMModel.DOMNode, selectedNode);\n\n    if (!selectedNode) {\n      return;\n    }\n    selectedNode.setAsInspectedNode();\n    if (this._accessibilityTreeView) {\n      this._accessibilityTreeView.selectedNodeChanged(selectedNode);\n    }\n    if (focus) {\n      this._selectedNodeOnReset = selectedNode;\n      this._hasNonDefaultSelectedNode = true;\n    }\n\n    const executionContexts = selectedNode.domModel().runtimeModel().executionContexts();\n    const nodeFrameId = selectedNode.frameId();\n    for (const context of executionContexts) {\n      if (context.frameId === nodeFrameId) {\n        UI.Context.Context.instance().setFlavor(SDK.RuntimeModel.ExecutionContext, context);\n        break;\n      }\n    }\n  }\n\n  _documentUpdatedEvent(event: Common.EventTarget.EventTargetEvent): void {\n    const domModel = (event.data as SDK.DOMModel.DOMModel);\n    this._documentUpdated(domModel);\n    this._removeStyleTracking(domModel.cssModel());\n    this._setupStyleTracking(domModel.cssModel());\n  }\n\n  _documentUpdated(domModel: SDK.DOMModel.DOMModel): void {\n    this._searchableView.resetSearch();\n\n    if (!domModel.existingDocument()) {\n      if (this.isShowing()) {\n        domModel.requestDocument();\n      }\n      return;\n    }\n\n    this._hasNonDefaultSelectedNode = false;\n\n    if (this._omitDefaultSelection) {\n      return;\n    }\n\n    const savedSelectedNodeOnReset = this._selectedNodeOnReset;\n    restoreNode.call(this, domModel, this._selectedNodeOnReset || null);\n\n    async function restoreNode(\n        this: ElementsPanel, domModel: SDK.DOMModel.DOMModel, staleNode: SDK.DOMModel.DOMNode|null): Promise<void> {\n      const nodePath = staleNode ? staleNode.path() : null;\n      const restoredNodeId = nodePath ? await domModel.pushNodeByPathToFrontend(nodePath) : null;\n\n      if (savedSelectedNodeOnReset !== this._selectedNodeOnReset) {\n        return;\n      }\n      let node: (SDK.DOMModel.DOMNode|null) = restoredNodeId ? domModel.nodeForId(restoredNodeId) : null;\n      if (!node) {\n        const inspectedDocument = domModel.existingDocument();\n        node = inspectedDocument ? inspectedDocument.body || inspectedDocument.documentElement : null;\n      }\n      // If `node` is null here, the document hasn't been transmitted from the backend yet\n      // and isn't in a valid state to have a default-selected node. Another document update\n      // should be forthcoming. In the meantime, don't set the default-selected node or notify\n      // the test that it's ready, because it isn't.\n      if (node) {\n        this._setDefaultSelectedNode(node);\n        this._lastSelectedNodeSelectedForTest();\n      }\n    }\n  }\n\n  _lastSelectedNodeSelectedForTest(): void {\n  }\n\n  _setDefaultSelectedNode(node: SDK.DOMModel.DOMNode|null): void {\n    if (!node || this._hasNonDefaultSelectedNode || this._pendingNodeReveal) {\n      return;\n    }\n    const treeOutline = ElementsTreeOutline.forDOMModel(node.domModel());\n    if (!treeOutline) {\n      return;\n    }\n    this.selectDOMNode(node);\n    if (treeOutline.selectedTreeElement) {\n      treeOutline.selectedTreeElement.expand();\n    }\n  }\n\n  searchCanceled(): void {\n    this._searchConfig = undefined;\n    this._hideSearchHighlights();\n\n    this._searchableView.updateSearchMatchesCount(0);\n\n    this._currentSearchResultIndex = -1;\n    delete this._searchResults;\n\n    SDK.DOMModel.DOMModel.cancelSearch();\n  }\n\n  performSearch(searchConfig: UI.SearchableView.SearchConfig, shouldJump: boolean, jumpBackwards?: boolean): void {\n    const query = searchConfig.query;\n\n    const whitespaceTrimmedQuery = query.trim();\n    if (!whitespaceTrimmedQuery.length) {\n      return;\n    }\n\n    if (!this._searchConfig || this._searchConfig.query !== query) {\n      this.searchCanceled();\n    } else {\n      this._hideSearchHighlights();\n    }\n\n    this._searchConfig = searchConfig;\n\n    const showUAShadowDOM = Common.Settings.Settings.instance().moduleSetting('showUAShadowDOM').get();\n    const domModels = SDK.TargetManager.TargetManager.instance().models(SDK.DOMModel.DOMModel);\n    const promises = domModels.map(domModel => domModel.performSearch(whitespaceTrimmedQuery, showUAShadowDOM));\n    Promise.all(promises).then(resultCounts => {\n      this._searchResults = [];\n      for (let i = 0; i < resultCounts.length; ++i) {\n        const resultCount = resultCounts[i];\n        for (let j = 0; j < resultCount; ++j) {\n          this._searchResults.push({domModel: domModels[i], index: j, node: undefined});\n        }\n      }\n      this._searchableView.updateSearchMatchesCount(this._searchResults.length);\n      if (!this._searchResults.length) {\n        return;\n      }\n      if (this._currentSearchResultIndex >= this._searchResults.length) {\n        this._currentSearchResultIndex = -1;\n      }\n\n      let index: (0|- 1)|number = this._currentSearchResultIndex;\n\n      if (shouldJump) {\n        if (this._currentSearchResultIndex === -1) {\n          index = jumpBackwards ? -1 : 0;\n        } else {\n          index = jumpBackwards ? index - 1 : index + 1;\n        }\n        this._jumpToSearchResult(index);\n      }\n    });\n  }\n\n  _domWordWrapSettingChanged(event: Common.EventTarget.EventTargetEvent): void {\n    this._contentElement.classList.toggle('elements-wrap', (event.data as boolean));\n    for (const treeOutline of this._treeOutlines) {\n      treeOutline.setWordWrap((event.data as boolean));\n    }\n  }\n\n  switchToAndFocus(node: SDK.DOMModel.DOMNode): void {\n    // Reset search restore.\n    this._searchableView.cancelSearch();\n    UI.ViewManager.ViewManager.instance().showView('elements').then(() => this.selectDOMNode(node, true));\n  }\n\n  _jumpToSearchResult(index: number): void {\n    if (!this._searchResults) {\n      return;\n    }\n\n    this._currentSearchResultIndex = (index + this._searchResults.length) % this._searchResults.length;\n    this._highlightCurrentSearchResult();\n  }\n\n  jumpToNextSearchResult(): void {\n    if (!this._searchResults || !this._searchConfig) {\n      return;\n    }\n    this.performSearch(this._searchConfig, true);\n  }\n\n  jumpToPreviousSearchResult(): void {\n    if (!this._searchResults || !this._searchConfig) {\n      return;\n    }\n    this.performSearch(this._searchConfig, true, true);\n  }\n\n  supportsCaseSensitiveSearch(): boolean {\n    return false;\n  }\n\n  supportsRegexSearch(): boolean {\n    return false;\n  }\n\n  _highlightCurrentSearchResult(): void {\n    const index = this._currentSearchResultIndex;\n    const searchResults = this._searchResults;\n    if (!searchResults) {\n      return;\n    }\n    const searchResult = searchResults[index];\n\n    this._searchableView.updateCurrentMatchIndex(index);\n    if (searchResult.node === null) {\n      return;\n    }\n\n    if (typeof searchResult.node === 'undefined') {\n      // No data for slot, request it.\n      searchResult.domModel.searchResult(searchResult.index).then(node => {\n        searchResult.node = node;\n\n        // If any of these properties are undefined or reset to an invalid value,\n        // this means the search/highlight request is outdated.\n        const highlightRequestValid =\n            this._searchConfig && this._searchResults && (this._currentSearchResultIndex !== -1);\n        if (highlightRequestValid) {\n          this._highlightCurrentSearchResult();\n        }\n      });\n      return;\n    }\n\n    const treeElement = this._treeElementForNode(searchResult.node);\n    searchResult.node.scrollIntoView();\n    if (treeElement) {\n      this._searchConfig && treeElement.highlightSearchResults(this._searchConfig.query);\n      treeElement.reveal();\n      const matches = treeElement.listItemElement.getElementsByClassName(UI.UIUtils.highlightedSearchResultClassName);\n      if (matches.length) {\n        matches[0].scrollIntoViewIfNeeded(false);\n      }\n    }\n  }\n\n  _hideSearchHighlights(): void {\n    if (!this._searchResults || !this._searchResults.length || this._currentSearchResultIndex === -1) {\n      return;\n    }\n    const searchResult = this._searchResults[this._currentSearchResultIndex];\n    if (!searchResult.node) {\n      return;\n    }\n    const treeElement = this._treeElementForNode(searchResult.node);\n    if (treeElement) {\n      treeElement.hideSearchHighlights();\n    }\n  }\n\n  selectedDOMNode(): SDK.DOMModel.DOMNode|null {\n    for (const treeOutline of this._treeOutlines) {\n      if (treeOutline.selectedDOMNode()) {\n        return treeOutline.selectedDOMNode();\n      }\n    }\n    return null;\n  }\n\n  selectDOMNode(node: SDK.DOMModel.DOMNode, focus?: boolean): void {\n    for (const treeOutline of this._treeOutlines) {\n      const outline = ElementsTreeOutline.forDOMModel(node.domModel());\n      if (outline === treeOutline) {\n        treeOutline.selectDOMNode(node, focus);\n      } else {\n        treeOutline.selectDOMNode(null);\n      }\n    }\n  }\n\n  _updateBreadcrumbIfNeeded(event: Common.EventTarget.EventTargetEvent): void {\n    const nodes = (event.data as SDK.DOMModel.DOMNode[]);\n    /* If we don't have a selected node then we can tell the breadcrumbs that & bail. */\n    const selectedNode = this.selectedDOMNode();\n    if (!selectedNode) {\n      this._breadcrumbs.data = {\n        crumbs: [],\n        selectedNode: null,\n      };\n      return;\n    }\n\n    /* This function gets called whenever the tree outline is updated\n     * and contains any nodes that have changed.\n     * What we need to do is construct the new set of breadcrumb nodes, combining the Nodes\n     * that we had before with the new nodes, and pass them into the breadcrumbs component.\n     */\n\n    // Get the current set of active crumbs\n    const activeNode = legacyNodeToNewBreadcrumbsNode(selectedNode);\n    const existingCrumbs = [activeNode];\n    for (let current: (SDK.DOMModel.DOMNode|null) = selectedNode.parentNode; current; current = current.parentNode) {\n      existingCrumbs.push(legacyNodeToNewBreadcrumbsNode(current));\n    }\n\n    /* Get the change nodes from the event & convert them to breadcrumb nodes */\n    const newNodes = nodes.map(legacyNodeToNewBreadcrumbsNode);\n    const nodesThatHaveChangedMap = new Map<number, ElementsComponents.ElementsBreadcrumbs.DOMNode>();\n    newNodes.forEach(crumb => nodesThatHaveChangedMap.set(crumb.id, crumb));\n\n    /* Loop over our existing crumbs, and if any have an ID that matches an ID from the new nodes\n     * that we have, use the new node, rather than the one we had, because it's changed.\n     */\n    const newSetOfCrumbs = existingCrumbs.map(crumb => {\n      const replacement = nodesThatHaveChangedMap.get(crumb.id);\n      return replacement || crumb;\n    });\n\n    this._breadcrumbs.data = {\n      crumbs: newSetOfCrumbs,\n      selectedNode: activeNode,\n    };\n  }\n\n  _crumbNodeSelected(event: Common.EventTarget.EventTargetEvent): void {\n    const node = (event.data as SDK.DOMModel.DOMNode);\n    this.selectDOMNode(node, true);\n  }\n\n  _treeOutlineForNode(node: SDK.DOMModel.DOMNode|null): ElementsTreeOutline|null {\n    if (!node) {\n      return null;\n    }\n    return ElementsTreeOutline.forDOMModel(node.domModel());\n  }\n\n  _treeElementForNode(node: SDK.DOMModel.DOMNode): ElementsTreeElement|null {\n    const treeOutline = this._treeOutlineForNode(node);\n    if (!treeOutline) {\n      return null;\n    }\n    return /** @type {?ElementsTreeElement} */ treeOutline.findTreeElement(node) as ElementsTreeElement | null;\n  }\n\n  _leaveUserAgentShadowDOM(node: SDK.DOMModel.DOMNode): SDK.DOMModel.DOMNode {\n    let userAgentShadowRoot;\n    while ((userAgentShadowRoot = node.ancestorUserAgentShadowRoot()) && userAgentShadowRoot.parentNode) {\n      node = userAgentShadowRoot.parentNode;\n    }\n    return node;\n  }\n\n  revealAndSelectNode(node: SDK.DOMModel.DOMNode, focus: boolean, omitHighlight?: boolean): Promise<void> {\n    this._omitDefaultSelection = true;\n\n    node = Common.Settings.Settings.instance().moduleSetting('showUAShadowDOM').get() ?\n        node :\n        this._leaveUserAgentShadowDOM(node);\n    if (!omitHighlight) {\n      node.highlightForTwoSeconds();\n    }\n\n    return UI.ViewManager.ViewManager.instance().showView('elements', false, !focus).then(() => {\n      this.selectDOMNode(node, focus);\n      delete this._omitDefaultSelection;\n\n      if (!this._notFirstInspectElement) {\n        ElementsPanel._firstInspectElementNodeNameForTest = node.nodeName();\n        ElementsPanel._firstInspectElementCompletedForTest();\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance.inspectElementCompleted();\n      }\n      this._notFirstInspectElement = true;\n    });\n  }\n\n  _showUAShadowDOMChanged(): void {\n    for (const treeOutline of this._treeOutlines) {\n      treeOutline.update();\n    }\n  }\n\n  _setupTextSelectionHack(stylePaneWrapperElement: HTMLElement): void {\n    // We \"extend\" the sidebar area when dragging, in order to keep smooth text\n    // selection. It should be replaced by 'user-select: contain' in the future.\n    const uninstallHackBound = uninstallHack.bind(this);\n\n    // Fallback to cover unforeseen cases where text selection has ended.\n    const uninstallHackOnMousemove = (event: Event): void => {\n      if ((event as MouseEvent).buttons === 0) {\n        uninstallHack.call(this);\n      }\n    };\n\n    stylePaneWrapperElement.addEventListener('mousedown', (event: Event) => {\n      if ((event as MouseEvent).button !== 0) {\n        return;\n      }\n      this._splitWidget.element.classList.add('disable-resizer-for-elements-hack');\n      stylePaneWrapperElement.style.setProperty('height', `${stylePaneWrapperElement.offsetHeight}px`);\n      const largeLength = 1000000;\n      stylePaneWrapperElement.style.setProperty('left', `${- 1 * largeLength}px`);\n      stylePaneWrapperElement.style.setProperty('padding-left', `${largeLength}px`);\n      stylePaneWrapperElement.style.setProperty('width', `calc(100% + ${largeLength}px)`);\n      stylePaneWrapperElement.style.setProperty('position', 'fixed');\n\n      stylePaneWrapperElement.window().addEventListener('blur', uninstallHackBound);\n      stylePaneWrapperElement.window().addEventListener('contextmenu', uninstallHackBound, true);\n      stylePaneWrapperElement.window().addEventListener('dragstart', uninstallHackBound, true);\n      stylePaneWrapperElement.window().addEventListener('mousemove', uninstallHackOnMousemove, true);\n      stylePaneWrapperElement.window().addEventListener('mouseup', uninstallHackBound, true);\n      stylePaneWrapperElement.window().addEventListener('visibilitychange', uninstallHackBound);\n    }, true);\n\n    function uninstallHack(this: ElementsPanel): void {\n      this._splitWidget.element.classList.remove('disable-resizer-for-elements-hack');\n      stylePaneWrapperElement.style.removeProperty('left');\n      stylePaneWrapperElement.style.removeProperty('padding-left');\n      stylePaneWrapperElement.style.removeProperty('width');\n      stylePaneWrapperElement.style.removeProperty('position');\n\n      stylePaneWrapperElement.window().removeEventListener('blur', uninstallHackBound);\n      stylePaneWrapperElement.window().removeEventListener('contextmenu', uninstallHackBound, true);\n      stylePaneWrapperElement.window().removeEventListener('dragstart', uninstallHackBound, true);\n      stylePaneWrapperElement.window().removeEventListener('mousemove', uninstallHackOnMousemove, true);\n      stylePaneWrapperElement.window().removeEventListener('mouseup', uninstallHackBound, true);\n      stylePaneWrapperElement.window().removeEventListener('visibilitychange', uninstallHackBound);\n    }\n  }\n\n  _initializeSidebarPanes(splitMode: _splitMode): void {\n    this._splitWidget.setVertical(splitMode === _splitMode.Vertical);\n    this.showToolbarPane(null /* widget */, null /* toggle */);\n\n    const matchedStylePanesWrapper = new UI.Widget.VBox();\n    matchedStylePanesWrapper.element.classList.add('style-panes-wrapper');\n    this._stylesWidget.show(matchedStylePanesWrapper.element);\n    this._setupTextSelectionHack(matchedStylePanesWrapper.element);\n\n    const computedStylePanesWrapper = new UI.Widget.VBox();\n    computedStylePanesWrapper.element.classList.add('style-panes-wrapper');\n    this._computedStyleWidget.show(computedStylePanesWrapper.element);\n\n    const stylesSplitWidget = new UI.SplitWidget.SplitWidget(\n        true /* isVertical */, true /* secondIsSidebar */, 'elements.styles.sidebar.width', 100);\n    stylesSplitWidget.setMainWidget(matchedStylePanesWrapper);\n    stylesSplitWidget.hideSidebar();\n    stylesSplitWidget.enableShowModeSaving();\n    stylesSplitWidget.addEventListener(UI.SplitWidget.Events.ShowModeChanged, () => {\n      showMetricsWidgetInStylesPane();\n    });\n    this._stylesWidget.addEventListener(StylesSidebarPaneEvents.InitialUpdateCompleted, () => {\n      this._stylesWidget.appendToolbarItem(stylesSplitWidget.createShowHideSidebarButton(\n          i18nString(UIStrings.showComputedStylesSidebar), i18nString(UIStrings.hideComputedStylesSidebar)));\n    });\n\n    const showMetricsWidgetInComputedPane = (): void => {\n      this._metricsWidget.show(computedStylePanesWrapper.element, this._computedStyleWidget.element);\n      this._metricsWidget.toggleVisibility(true /* visible */);\n      this._stylesWidget.removeEventListener(StylesSidebarPaneEvents.StylesUpdateCompleted, toggleMetricsWidget);\n    };\n\n    const showMetricsWidgetInStylesPane = (): void => {\n      const showMergedComputedPane = stylesSplitWidget.showMode() === UI.SplitWidget.ShowMode.Both;\n      if (showMergedComputedPane) {\n        showMetricsWidgetInComputedPane();\n      } else {\n        this._metricsWidget.show(matchedStylePanesWrapper.element);\n        if (!this._stylesWidget.hasMatchedStyles) {\n          this._metricsWidget.toggleVisibility(false /* invisible */);\n        }\n        this._stylesWidget.addEventListener(StylesSidebarPaneEvents.StylesUpdateCompleted, toggleMetricsWidget);\n      }\n    };\n\n    let skippedInitialTabSelectedEvent = false;\n\n    const toggleMetricsWidget = (event: Common.EventTarget.EventTargetEvent): void => {\n      this._metricsWidget.toggleVisibility(event.data.hasMatchedStyles);\n    };\n\n    const tabSelected = (event: Common.EventTarget.EventTargetEvent): void => {\n      const tabId = (event.data.tabId as string);\n      if (tabId === i18nString(UIStrings.computed)) {\n        computedStylePanesWrapper.show(computedView.element);\n        showMetricsWidgetInComputedPane();\n      } else if (tabId === i18nString(UIStrings.styles)) {\n        stylesSplitWidget.setSidebarWidget(computedStylePanesWrapper);\n        showMetricsWidgetInStylesPane();\n      }\n\n      if (skippedInitialTabSelectedEvent) {\n        // We don't log the initially selected sidebar pane to UMA because\n        // it will skew the histogram heavily toward the Styles pane\n        Host.userMetrics.sidebarPaneShown(tabId);\n      } else {\n        skippedInitialTabSelectedEvent = true;\n      }\n    };\n\n    this.sidebarPaneView = UI.ViewManager.ViewManager.instance().createTabbedLocation(\n        () => UI.ViewManager.ViewManager.instance().showView('elements'));\n    const tabbedPane = this.sidebarPaneView.tabbedPane();\n    if (this._splitMode !== _splitMode.Vertical) {\n      this._splitWidget.installResizer(tabbedPane.headerElement());\n    }\n\n    const stylesView = new UI.View.SimpleView(i18nString(UIStrings.styles));\n    this.sidebarPaneView.appendView(stylesView);\n    stylesView.element.classList.add('flex-auto');\n    stylesSplitWidget.show(stylesView.element);\n\n    const computedView = new UI.View.SimpleView(i18nString(UIStrings.computed));\n    computedView.element.classList.add('composite', 'fill');\n\n    tabbedPane.addEventListener(UI.TabbedPane.Events.TabSelected, tabSelected, this);\n    this.sidebarPaneView.appendView(computedView);\n    this._stylesViewToReveal = stylesView;\n\n    this.sidebarPaneView.appendApplicableItems('elements-sidebar');\n    const extensionSidebarPanes = Extensions.ExtensionServer.ExtensionServer.instance().sidebarPanes();\n    for (let i = 0; i < extensionSidebarPanes.length; ++i) {\n      this._addExtensionSidebarPane(extensionSidebarPanes[i]);\n    }\n\n    this._splitWidget.setSidebarWidget(this.sidebarPaneView.tabbedPane());\n  }\n\n  _updateSidebarPosition(): void {\n    if (this.sidebarPaneView && this.sidebarPaneView.tabbedPane().shouldHideOnDetach()) {\n      return;\n    }  // We can't reparent extension iframes.\n\n    const position = Common.Settings.Settings.instance().moduleSetting('sidebarPosition').get();\n    let splitMode = _splitMode.Horizontal;\n    if (position === 'right' ||\n        (position === 'auto' && UI.InspectorView.InspectorView.instance().element.offsetWidth > 680)) {\n      splitMode = _splitMode.Vertical;\n    }\n    if (!this.sidebarPaneView) {\n      this._initializeSidebarPanes(splitMode);\n      return;\n    }\n    if (splitMode === this._splitMode) {\n      return;\n    }\n    this._splitMode = splitMode;\n\n    const tabbedPane = this.sidebarPaneView.tabbedPane();\n    this._splitWidget.uninstallResizer(tabbedPane.headerElement());\n\n    this._splitWidget.setVertical(this._splitMode === _splitMode.Vertical);\n    this.showToolbarPane(null /* widget */, null /* toggle */);\n\n    if (this._splitMode !== _splitMode.Vertical) {\n      this._splitWidget.installResizer(tabbedPane.headerElement());\n    }\n  }\n\n  _extensionSidebarPaneAdded(event: Common.EventTarget.EventTargetEvent): void {\n    const pane = (event.data as Extensions.ExtensionPanel.ExtensionSidebarPane);\n    this._addExtensionSidebarPane(pane);\n  }\n\n  _addExtensionSidebarPane(pane: Extensions.ExtensionPanel.ExtensionSidebarPane): void {\n    if (this.sidebarPaneView && pane.panelName() === this.name) {\n      this.sidebarPaneView.appendView(pane);\n    }\n  }\n\n  getComputedStyleWidget(): ComputedStyleWidget {\n    return this._computedStyleWidget;\n  }\n\n  _setupStyleTracking(cssModel: SDK.CSSModel.CSSModel): void {\n    const gridStyleTracker = cssModel.createCSSPropertyTracker(TrackedCSSGridProperties);\n    gridStyleTracker.start();\n    this._gridStyleTrackerByCSSModel.set(cssModel, gridStyleTracker);\n    gridStyleTracker.addEventListener(\n        SDK.CSSModel.CSSPropertyTrackerEvents.TrackedCSSPropertiesUpdated, this._trackedCSSPropertiesUpdated, this);\n  }\n\n  _removeStyleTracking(cssModel: SDK.CSSModel.CSSModel): void {\n    const gridStyleTracker = this._gridStyleTrackerByCSSModel.get(cssModel);\n    if (!gridStyleTracker) {\n      return;\n    }\n\n    gridStyleTracker.stop();\n    this._gridStyleTrackerByCSSModel.delete(cssModel);\n    gridStyleTracker.removeEventListener(\n        SDK.CSSModel.CSSPropertyTrackerEvents.TrackedCSSPropertiesUpdated, this._trackedCSSPropertiesUpdated, this);\n  }\n\n  _trackedCSSPropertiesUpdated(event: Common.EventTarget.EventTargetEvent): void {\n    const domNodes = (event.data.domNodes as (SDK.DOMModel.DOMNode | null)[]);\n\n    for (const domNode of domNodes) {\n      if (!domNode) {\n        continue;\n      }\n      const treeElement = this._treeElementForNode(domNode);\n      if (treeElement) {\n        treeElement.updateStyleAdorners();\n      }\n    }\n  }\n\n  showAdornerSettingsPane(): void {\n    // Delay the initialization of the pane to the first showing\n    // since usually this pane won't be used.\n    if (!this._adornerSettingsPane) {\n      this._adornerSettingsPane = new ElementsComponents.AdornerSettingsPane.AdornerSettingsPane();\n      this._adornerSettingsPane.addEventListener('adornersettingupdated', (event: Event) => {\n        const {adornerName, isEnabledNow, newSettings} =\n            (event as ElementsComponents.AdornerSettingsPane.AdornerSettingUpdatedEvent).data;\n        const adornersToUpdate = this._adornersByName.get(adornerName);\n        if (adornersToUpdate) {\n          for (const adorner of adornersToUpdate) {\n            isEnabledNow ? adorner.show() : adorner.hide();\n          }\n        }\n        this._adornerManager.updateSettings(newSettings);\n      });\n      this._searchableView.element.prepend(this._adornerSettingsPane);\n    }\n\n    const adornerSettings = this._adornerManager.getSettings();\n    this._adornerSettingsPane.data = {\n      settings: adornerSettings,\n    };\n    this._adornerSettingsPane.show();\n  }\n\n  isAdornerEnabled(adornerText: string): boolean {\n    return this._adornerManager.isAdornerEnabled(adornerText);\n  }\n\n  registerAdorner(adorner: ElementsComponents.Adorner.Adorner): void {\n    let adornerSet = this._adornersByName.get(adorner.name);\n    if (!adornerSet) {\n      adornerSet = new Set();\n      this._adornersByName.set(adorner.name, adornerSet);\n    }\n    adornerSet.add(adorner);\n    if (!this.isAdornerEnabled(adorner.name)) {\n      adorner.hide();\n    }\n  }\n\n  deregisterAdorner(adorner: ElementsComponents.Adorner.Adorner): void {\n    const adornerSet = this._adornersByName.get(adorner.name);\n    if (!adornerSet) {\n      return;\n    }\n    adornerSet.delete(adorner);\n  }\n\n  static _firstInspectElementCompletedForTest = function(): void {};\n  static _firstInspectElementNodeNameForTest = '';\n}\n\n// @ts-ignore exported for Tests.js\nglobalThis.Elements = globalThis.Elements || {};\n// @ts-ignore exported for Tests.js\nglobalThis.Elements.ElementsPanel = ElementsPanel;\n\n// TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport const enum _splitMode {\n  Vertical = 'Vertical',\n  Horizontal = 'Horizontal',\n}\n\nconst TrackedCSSGridProperties = [\n  {\n    name: 'display',\n    value: 'grid',\n  },\n  {\n    name: 'display',\n    value: 'inline-grid',\n  },\n  {\n    name: 'display',\n    value: 'flex',\n  },\n  {\n    name: 'display',\n    value: 'inline-flex',\n  },\n];\n\nlet contextMenuProviderInstance: ContextMenuProvider;\n\nexport class ContextMenuProvider implements UI.ContextMenu.Provider {\n  appendApplicableItems(event: Event, contextMenu: UI.ContextMenu.ContextMenu, object: Object): void {\n    if (!(object instanceof SDK.RemoteObject.RemoteObject && (object as SDK.RemoteObject.RemoteObject).isNode()) &&\n        !(object instanceof SDK.DOMModel.DOMNode) && !(object instanceof SDK.DOMModel.DeferredDOMNode)) {\n      return;\n    }\n    if (ElementsPanel.instance().element.isAncestor((event.target as Node))) {\n      return;\n    }\n    const commandCallback: () => void = Common.Revealer.reveal.bind(Common.Revealer.Revealer, object);\n    contextMenu.revealSection().appendItem(i18nString(UIStrings.revealInElementsPanel), commandCallback);\n  }\n\n  static instance(): ContextMenuProvider {\n    if (!contextMenuProviderInstance) {\n      contextMenuProviderInstance = new ContextMenuProvider();\n    }\n    return contextMenuProviderInstance;\n  }\n}\nlet dOMNodeRevealerInstance: DOMNodeRevealer;\nexport class DOMNodeRevealer implements Common.Revealer.Revealer {\n  static instance(opts: {\n    forceNew: boolean|null,\n  } = {forceNew: null}): DOMNodeRevealer {\n    const {forceNew} = opts;\n    if (!dOMNodeRevealerInstance || forceNew) {\n      dOMNodeRevealerInstance = new DOMNodeRevealer();\n    }\n\n    return dOMNodeRevealerInstance;\n  }\n\n  reveal(node: Object, omitFocus?: boolean): Promise<void> {\n    const panel = ElementsPanel.instance();\n    panel._pendingNodeReveal = true;\n\n    return new Promise(revealPromise);\n\n    function revealPromise(resolve: () => void, reject: (arg0: Error) => void): void {\n      if (node instanceof SDK.DOMModel.DOMNode) {\n        onNodeResolved((node as SDK.DOMModel.DOMNode));\n      } else if (node instanceof SDK.DOMModel.DeferredDOMNode) {\n        (node as SDK.DOMModel.DeferredDOMNode).resolve(checkDeferredDOMNodeThenReveal);\n      } else if (node instanceof SDK.RemoteObject.RemoteObject) {\n        const domModel =\n            /** @type {!SDK.RemoteObject.RemoteObject} */ (node as SDK.RemoteObject.RemoteObject)\n                .runtimeModel()\n                .target()\n                .model(SDK.DOMModel.DOMModel);\n        if (domModel) {\n          domModel.pushObjectAsNodeToFrontend(node).then(checkRemoteObjectThenReveal);\n        } else {\n          reject(new Error('Could not resolve a node to reveal.'));\n        }\n      } else {\n        reject(new Error('Can\\'t reveal a non-node.'));\n        panel._pendingNodeReveal = false;\n      }\n\n      function onNodeResolved(resolvedNode: SDK.DOMModel.DOMNode): void {\n        panel._pendingNodeReveal = false;\n\n        // A detached node could still have a parent and ownerDocument\n        // properties, which means stepping up through the hierarchy to ensure\n        // that the root node is the document itself. Any break implies\n        // detachment.\n        let currentNode: SDK.DOMModel.DOMNode = resolvedNode;\n        while (currentNode.parentNode) {\n          currentNode = currentNode.parentNode;\n        }\n        const isDetached = !(currentNode instanceof SDK.DOMModel.DOMDocument);\n\n        const isDocument = node instanceof SDK.DOMModel.DOMDocument;\n        if (!isDocument && isDetached) {\n          const msg = i18nString(UIStrings.nodeCannotBeFoundInTheCurrent);\n          Common.Console.Console.instance().warn(msg);\n          reject(new Error(msg));\n          return;\n        }\n\n        if (resolvedNode) {\n          panel.revealAndSelectNode(resolvedNode, !omitFocus).then(resolve);\n          return;\n        }\n        reject(new Error('Could not resolve node to reveal.'));\n      }\n\n      function checkRemoteObjectThenReveal(resolvedNode: SDK.DOMModel.DOMNode|null): void {\n        if (!resolvedNode) {\n          const msg = i18nString(UIStrings.theRemoteObjectCouldNotBe);\n          Common.Console.Console.instance().warn(msg);\n          reject(new Error(msg));\n          return;\n        }\n        onNodeResolved(resolvedNode);\n      }\n\n      function checkDeferredDOMNodeThenReveal(resolvedNode: SDK.DOMModel.DOMNode|null): void {\n        if (!resolvedNode) {\n          const msg = i18nString(UIStrings.theDeferredDomNodeCouldNotBe);\n          Common.Console.Console.instance().warn(msg);\n          reject(new Error(msg));\n          return;\n        }\n        onNodeResolved(resolvedNode);\n      }\n    }\n  }\n}\n\nlet cSSPropertyRevealerInstance: CSSPropertyRevealer;\n\nexport class CSSPropertyRevealer implements Common.Revealer.Revealer {\n  static instance(opts: {\n    forceNew: boolean|null,\n  } = {forceNew: null}): CSSPropertyRevealer {\n    const {forceNew} = opts;\n    if (!cSSPropertyRevealerInstance || forceNew) {\n      cSSPropertyRevealerInstance = new CSSPropertyRevealer();\n    }\n\n    return cSSPropertyRevealerInstance;\n  }\n\n  reveal(property: Object): Promise<void> {\n    const panel = ElementsPanel.instance();\n    return panel._revealProperty((property as SDK.CSSProperty.CSSProperty));\n  }\n}\n\nlet elementsActionDelegateInstance: ElementsActionDelegate;\n\nexport class ElementsActionDelegate implements UI.ActionRegistration.ActionDelegate {\n  handleAction(context: UI.Context.Context, actionId: string): boolean {\n    const node = UI.Context.Context.instance().flavor(SDK.DOMModel.DOMNode);\n    if (!node) {\n      return true;\n    }\n    const treeOutline = ElementsTreeOutline.forDOMModel(node.domModel());\n    if (!treeOutline) {\n      return true;\n    }\n\n    switch (actionId) {\n      case 'elements.hide-element':\n        treeOutline.toggleHideElement(node);\n        return true;\n      case 'elements.edit-as-html':\n        treeOutline.toggleEditAsHTML(node);\n        return true;\n      case 'elements.duplicate-element':\n        treeOutline.duplicateNode(node);\n        return true;\n      case 'elements.copy-styles':\n        treeOutline.findTreeElement(node)?._copyStyles();\n        return true;\n      case 'elements.undo':\n        SDK.DOMModel.DOMModelUndoStack.instance().undo();\n        ElementsPanel.instance()._stylesWidget.forceUpdate();\n        return true;\n      case 'elements.redo':\n        SDK.DOMModel.DOMModelUndoStack.instance().redo();\n        ElementsPanel.instance()._stylesWidget.forceUpdate();\n        return true;\n    }\n    return false;\n  }\n\n  static instance(opts: {\n    forceNew: boolean|null,\n  }|undefined = {forceNew: null}): ElementsActionDelegate {\n    const {forceNew} = opts;\n    if (!elementsActionDelegateInstance || forceNew) {\n      elementsActionDelegateInstance = new ElementsActionDelegate();\n    }\n\n    return elementsActionDelegateInstance;\n  }\n}\n\nlet pseudoStateMarkerDecoratorInstance: PseudoStateMarkerDecorator;\nexport class PseudoStateMarkerDecorator implements MarkerDecorator {\n  static instance(opts: {\n    forceNew: boolean|null,\n  } = {forceNew: null}): PseudoStateMarkerDecorator {\n    const {forceNew} = opts;\n    if (!pseudoStateMarkerDecoratorInstance || forceNew) {\n      pseudoStateMarkerDecoratorInstance = new PseudoStateMarkerDecorator();\n    }\n\n    return pseudoStateMarkerDecoratorInstance;\n  }\n\n  decorate(node: SDK.DOMModel.DOMNode): {\n    title: string,\n    color: string,\n  }|null {\n    const pseudoState = node.domModel().cssModel().pseudoState(node);\n    if (!pseudoState) {\n      return null;\n    }\n\n    return {color: 'orange', title: i18nString(UIStrings.elementStateS, {PH1: ':' + pseudoState.join(', :')})};\n  }\n}\n"]}