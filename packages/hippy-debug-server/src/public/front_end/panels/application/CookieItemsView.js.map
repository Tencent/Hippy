{"version":3,"file":"CookieItemsView.js","sourceRoot":"","sources":["../../../../../../front_end/panels/application/CookieItemsView.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/*\n * Copyright (C) 2009 Apple Inc.  All rights reserved.\n * Copyright (C) 2009 Joseph Pecoraro\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *\n * 1.  Redistributions of source code must retain the above copyright\n *     notice, this list of conditions and the following disclaimer.\n * 2.  Redistributions in binary form must reproduce the above copyright\n *     notice, this list of conditions and the following disclaimer in the\n *     documentation and/or other materials provided with the distribution.\n * 3.  Neither the name of Apple Computer, Inc. (\"Apple\") nor the names of\n *     its contributors may be used to endorse or promote products derived\n *     from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY APPLE AND ITS CONTRIBUTORS \"AS IS\" AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL APPLE OR ITS CONTRIBUTORS BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/* eslint-disable rulesdir/no_underscored_properties */\n\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as IssuesManager from '../../models/issues_manager/issues_manager.js';\nimport * as CookieTable from '../../ui/legacy/components/cookie_table/cookie_table.js';\nimport * as UI from '../../ui/legacy/legacy.js';\n\nimport {StorageItemsView} from './StorageItemsView.js';\n\nconst UIStrings = {\n  /**\n  *@description Label for checkbox to show url decoded cookie values\n  */\n  showUrlDecoded: 'Show URL decoded',\n  /**\n  *@description Text for web cookies\n  */\n  cookies: 'Cookies',\n  /**\n  *@description Text in Cookie Items View of the Application panel\n  */\n  selectACookieToPreviewItsValue: 'Select a cookie to preview its value',\n  /**\n  *@description Text for filter in Cookies View of the Application panel\n  */\n  onlyShowCookiesWithAnIssue: 'Only show cookies with an issue',\n  /**\n  *@description Title for filter in the Cookies View of the Application panel\n  */\n  onlyShowCookiesWhichHaveAn: 'Only show cookies which have an associated issue',\n  /**\n  *@description Label to only delete the cookies that are visible after filtering\n  */\n  clearFilteredCookies: 'Clear filtered cookies',\n  /**\n  *@description Label to delete all cookies\n  */\n  clearAllCookies: 'Clear all cookies',\n  /**\n  *@description Alert message for screen reader to announce # of cookies in the table\n  *@example {5} PH1\n  */\n  numberOfCookiesShownInTableS: 'Number of cookies shown in table: {PH1}',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/application/CookieItemsView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nclass CookiePreviewWidget extends UI.Widget.VBox {\n  _cookie: SDK.Cookie.Cookie|null;\n  _showDecodedSetting: Common.Settings.Setting<boolean>;\n  _toggle: UI.UIUtils.CheckboxLabel;\n  _value: HTMLDivElement;\n\n  constructor() {\n    super();\n    this.setMinimumSize(230, 45);\n    this._cookie = null;\n    this._showDecodedSetting = Common.Settings.Settings.instance().createSetting('cookieViewShowDecoded', false);\n\n    const header = document.createElement('div');\n    header.classList.add('cookie-preview-widget-header');\n    const span = document.createElement('span');\n    span.classList.add('cookie-preview-widget-header-label');\n    span.textContent = 'Cookie Value';\n    header.appendChild(span);\n    this.contentElement.appendChild(header);\n\n    const toggle =\n        UI.UIUtils.CheckboxLabel.create(i18nString(UIStrings.showUrlDecoded), this._showDecodedSetting.get());\n    toggle.classList.add('cookie-preview-widget-toggle');\n    toggle.checkboxElement.addEventListener('click', () => this.showDecoded(!this._showDecodedSetting.get()));\n    header.appendChild(toggle);\n    this._toggle = toggle;\n\n    const value = document.createElement('div');\n    value.classList.add('cookie-preview-widget-cookie-value');\n    value.textContent = '';\n    value.addEventListener('dblclick', this.handleDblClickOnCookieValue.bind(this));\n    this._value = value;\n\n    this.contentElement.classList.add('cookie-preview-widget');\n    this.contentElement.appendChild(value);\n  }\n\n  showDecoded(decoded: boolean): void {\n    if (!this._cookie) {\n      return;\n    }\n    this._showDecodedSetting.set(decoded);\n    this._toggle.checkboxElement.checked = decoded;\n    this._updatePreview();\n  }\n\n  _updatePreview(): void {\n    if (this._cookie) {\n      this._value.textContent =\n          this._showDecodedSetting.get() ? decodeURIComponent(this._cookie.value()) : this._cookie.value();\n    } else {\n      this._value.textContent = '';\n    }\n  }\n\n  setCookie(cookie: SDK.Cookie.Cookie): void {\n    this._cookie = cookie;\n    this._updatePreview();\n  }\n\n  /**\n   * Select all text even if there a spaces in it\n   */\n  handleDblClickOnCookieValue(event: Event): void {\n    event.preventDefault();\n    const range = document.createRange();\n    range.selectNode(this._value);\n    const selection = window.getSelection();\n    if (!selection) {\n      return;\n    }\n    selection.removeAllRanges();\n    selection.addRange(range);\n  }\n}\n\nexport class CookieItemsView extends StorageItemsView {\n  _model: SDK.CookieModel.CookieModel;\n  _cookieDomain: string;\n  _totalSize: number;\n  _cookiesTable: CookieTable.CookiesTable.CookiesTable;\n  _splitWidget: UI.SplitWidget.SplitWidget;\n  _previewPanel: UI.Widget.VBox;\n  _previewWidget: CookiePreviewWidget;\n  _emptyWidget: UI.EmptyWidget.EmptyWidget;\n  _onlyIssuesFilterUI: UI.Toolbar.ToolbarCheckbox;\n  _refreshThrottler: Common.Throttler.Throttler;\n  _eventDescriptors: Common.EventTarget.EventDescriptor[];\n  _allCookies: SDK.Cookie.Cookie[];\n  _shownCookies: SDK.Cookie.Cookie[];\n  _selectedCookie: SDK.Cookie.Cookie|null;\n  constructor(model: SDK.CookieModel.CookieModel, cookieDomain: string) {\n    super(i18nString(UIStrings.cookies), 'cookiesPanel');\n\n    this.registerRequiredCSS('panels/application/cookieItemsView.css', {enableLegacyPatching: false});\n    this.element.classList.add('storage-view');\n\n    this._model = model;\n    this._cookieDomain = cookieDomain;\n\n    this._totalSize = 0;\n    this._cookiesTable = new CookieTable.CookiesTable.CookiesTable(\n        /* renderInline */ false, this._saveCookie.bind(this), this.refreshItems.bind(this),\n        this._handleCookieSelected.bind(this), this._deleteCookie.bind(this));\n\n    this._cookiesTable.setMinimumSize(0, 50);\n\n    this._splitWidget = new UI.SplitWidget.SplitWidget(\n        /* isVertical: */ false, /* secondIsSidebar: */ true, 'cookieItemsSplitViewState');\n    this._splitWidget.show(this.element);\n\n    this._previewPanel = new UI.Widget.VBox();\n    const resizer = this._previewPanel.element.createChild('div', 'preview-panel-resizer');\n\n    this._splitWidget.setMainWidget(this._cookiesTable);\n    this._splitWidget.setSidebarWidget(this._previewPanel);\n    this._splitWidget.installResizer(resizer);\n\n    this._previewWidget = new CookiePreviewWidget();\n    this._emptyWidget = new UI.EmptyWidget.EmptyWidget(i18nString(UIStrings.selectACookieToPreviewItsValue));\n    this._emptyWidget.show(this._previewPanel.contentElement);\n\n    this._onlyIssuesFilterUI = new UI.Toolbar.ToolbarCheckbox(\n        i18nString(UIStrings.onlyShowCookiesWithAnIssue), i18nString(UIStrings.onlyShowCookiesWhichHaveAn), () => {\n          this._updateWithCookies(this._allCookies);\n        });\n    this.appendToolbarItem(this._onlyIssuesFilterUI);\n\n    this._refreshThrottler = new Common.Throttler.Throttler(300);\n    this._eventDescriptors = [];\n\n    this._allCookies = [];\n    this._shownCookies = [];\n    this._selectedCookie = null;\n\n    this.setCookiesDomain(model, cookieDomain);\n  }\n\n  setCookiesDomain(model: SDK.CookieModel.CookieModel, domain: string): void {\n    this._model = model;\n    this._cookieDomain = domain;\n    this.refreshItems();\n    Common.EventTarget.EventTarget.removeEventListeners(this._eventDescriptors);\n    const networkManager = model.target().model(SDK.NetworkManager.NetworkManager);\n    if (networkManager) {\n      this._eventDescriptors = [\n        networkManager.addEventListener(SDK.NetworkManager.Events.ResponseReceived, this._onResponseReceived, this),\n        networkManager.addEventListener(SDK.NetworkManager.Events.LoadingFinished, this._onLoadingFinished, this),\n      ];\n    }\n  }\n\n  _showPreview(cookie: SDK.Cookie.Cookie|null): void {\n    if (cookie === this._selectedCookie) {\n      return;\n    }\n    this._selectedCookie = cookie;\n\n    if (!cookie) {\n      this._previewWidget.detach();\n      this._emptyWidget.show(this._previewPanel.contentElement);\n    } else {\n      this._emptyWidget.detach();\n      this._previewWidget.setCookie(cookie);\n      this._previewWidget.show(this._previewPanel.contentElement);\n    }\n  }\n\n  _handleCookieSelected(): void {\n    const cookie = this._cookiesTable.selectedCookie();\n    this.setCanDeleteSelected(Boolean(cookie));\n\n    this._showPreview(cookie);\n  }\n\n  async _saveCookie(newCookie: SDK.Cookie.Cookie, oldCookie: SDK.Cookie.Cookie|null): Promise<boolean> {\n    if (oldCookie && newCookie.key() !== oldCookie.key()) {\n      await this._model.deleteCookie(oldCookie);\n    }\n    return this._model.saveCookie(newCookie);\n  }\n\n  _deleteCookie(cookie: SDK.Cookie.Cookie, callback: () => void): void {\n    this._model.deleteCookie(cookie).then(callback);\n  }\n\n  _updateWithCookies(allCookies: SDK.Cookie.Cookie[]): void {\n    this._allCookies = allCookies;\n    this._totalSize = allCookies.reduce((size, cookie) => size + cookie.size(), 0);\n\n    const parsedURL = Common.ParsedURL.ParsedURL.fromString(this._cookieDomain);\n    const host = parsedURL ? parsedURL.host : '';\n    this._cookiesTable.setCookieDomain(host);\n\n    this._shownCookies = this.filter(allCookies, cookie => `${cookie.name()} ${cookie.value()} ${cookie.domain()}`);\n    if (this.hasFilter()) {\n      this.setDeleteAllTitle(i18nString(UIStrings.clearFilteredCookies));\n      this.setDeleteAllGlyph('largeicon-delete-filter');\n    } else {\n      this.setDeleteAllTitle(i18nString(UIStrings.clearAllCookies));\n      this.setDeleteAllGlyph('largeicon-delete-list');\n    }\n    this._cookiesTable.setCookies(this._shownCookies, this._model.getCookieToBlockedReasonsMap());\n    UI.ARIAUtils.alert(i18nString(UIStrings.numberOfCookiesShownInTableS, {PH1: this._shownCookies.length}));\n    this.setCanFilter(true);\n    this.setCanDeleteAll(this._shownCookies.length > 0);\n    this.setCanDeleteSelected(Boolean(this._cookiesTable.selectedCookie()));\n\n    if (!this._cookiesTable.selectedCookie()) {\n      this._showPreview(null);\n    }\n  }\n\n  filter<T>(items: T[], keyFunction: (arg0: T) => string): T[] {\n    const predicate = (object: T|null): boolean => {\n      if (!this._onlyIssuesFilterUI.checked()) {\n        return true;\n      }\n      if (object instanceof SDK.Cookie.Cookie) {\n        return IssuesManager.RelatedIssue.hasIssues(object);\n      }\n      return false;\n    };\n    return super.filter(items, keyFunction).filter(predicate);\n  }\n\n  /**\n   * This will only delete the currently visible cookies.\n   */\n  deleteAllItems(): void {\n    this._showPreview(null);\n    this._model.deleteCookies(this._shownCookies).then(() => this.refreshItems());\n  }\n\n  deleteSelectedItem(): void {\n    const selectedCookie = this._cookiesTable.selectedCookie();\n    if (selectedCookie) {\n      this._showPreview(null);\n      this._model.deleteCookie(selectedCookie).then(() => this.refreshItems());\n    }\n  }\n\n  refreshItems(): void {\n    this._model.getCookiesForDomain(this._cookieDomain).then(this._updateWithCookies.bind(this));\n  }\n\n  refreshItemsThrottled(): void {\n    this._refreshThrottler.schedule(() => Promise.resolve(this.refreshItems()));\n  }\n\n  _onResponseReceived(): void {\n    this.refreshItemsThrottled();\n  }\n\n  _onLoadingFinished(): void {\n    this.refreshItemsThrottled();\n  }\n}\n"]}