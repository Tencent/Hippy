{"version":3,"file":"AppManifestView.js","sourceRoot":"","sources":["../../../../../../front_end/panels/application/AppManifestView.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright (c) 2016 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/* eslint-disable rulesdir/no_underscored_properties */\n\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as InlineEditor from '../../ui/legacy/components/inline_editor/inline_editor.js';\nimport * as Components from '../../ui/legacy/components/utils/utils.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport type * as Protocol from '../../generated/protocol.js';\n\nconst UIStrings = {\n  /**\n  *@description Text in App Manifest View of the Application panel\n  */\n  noManifestDetected: 'No manifest detected',\n  /**\n  *@description Text in App Manifest View of the Application panel\n  */\n  appManifest: 'App Manifest',\n  /**\n  *@description Text in App Manifest View of the Application panel\n  */\n  errorsAndWarnings: 'Errors and warnings',\n  /**\n  *@description Text in App Manifest View of the Application panel\n  */\n  installability: 'Installability',\n  /**\n  *@description Text in App Manifest View of the Application panel\n  */\n  identity: 'Identity',\n  /**\n  *@description Text in App Manifest View of the Application panel\n  */\n  presentation: 'Presentation',\n  /**\n  *@description Text in App Manifest View of the Application panel\n  */\n  icons: 'Icons',\n  /**\n  *@description Text for the name of something\n  */\n  name: 'Name',\n  /**\n  *@description Text in App Manifest View of the Application panel\n  */\n  shortName: 'Short name',\n  /**\n  *@description Text for the description of something\n  */\n  description: 'Description',\n  /**\n  *@description Text in App Manifest View of the Application panel\n  */\n  startUrl: 'Start URL',\n  /**\n  *@description Text in App Manifest View of the Application panel\n  */\n  themeColor: 'Theme color',\n  /**\n  *@description Text in App Manifest View of the Application panel\n  */\n  backgroundColor: 'Background color',\n  /**\n  *@description Text for the orientation of something\n  */\n  orientation: 'Orientation',\n  /**\n  *@description Title of the display attribute in App Manifest View of the Application panel\n  * The display attribute defines the preferred display mode for the app such fullscreen or\n  * standalone.\n  * For more details see https://www.w3.org/TR/appmanifest/#display-member.\n  */\n  display: 'Display',\n  /**\n  *@description Text in App Manifest View of the Application panel\n  */\n  descriptionMayBeTruncated: 'Description may be truncated.',\n  /**\n  *@description Text in App Manifest View of the Application panel\n  */\n  showOnlyTheMinimumSafeAreaFor: 'Show only the minimum safe area for maskable icons',\n  /**\n  *@description Link text for more information on maskable icons in App Manifest view of the Application panel\n  */\n  documentationOnMaskableIcons: 'documentation on maskable icons',\n  /**\n  *@description Text wrapping a link pointing to more information on maskable icons in App Manifest view of the Application panel\n  *@example {https://web.dev/maskable-icon/} PH1\n  */\n  needHelpReadOurS: 'Need help? Read {PH1}.',\n  /**\n  *@description Label for the primary icon loaded from the manifest\n  *@example {https://example.com/} PH1\n  */\n  primaryManifestIconFromS: 'Primary manifest icon from {PH1}',\n  /**\n  *@description Label for the primary icon loaded from the manifest\n  */\n  primaryIconasUsedByChrome: 'Primary icon as used by `Chrome`',\n  /**\n  *@description Text in App Manifest View of the Application panel\n  *@example {1} PH1\n  */\n  shortcutS: 'Shortcut #{PH1}',\n  /**\n  *@description Text in App Manifest View of the Application panel\n  *@example {1} PH1\n  */\n  shortcutSShouldIncludeAXPixel: 'Shortcut #{PH1} should include a 96x96 pixel icon',\n  /**\n  *@description Text in App Manifest View of the Application panel\n  *@example {1} PH1\n  */\n  screenshotS: 'Screenshot #{PH1}',\n  /**\n  *@description Manifest installability error in the Application panel\n  */\n  pageIsNotLoadedInTheMainFrame: 'Page is not loaded in the main frame',\n  /**\n  *@description Manifest installability error in the Application panel\n  */\n  pageIsNotServedFromASecureOrigin: 'Page is not served from a secure origin',\n  /**\n  *@description Manifest installability error in the Application panel\n  */\n  pageHasNoManifestLinkUrl: 'Page has no manifest <link> `URL`',\n  /**\n  *@description Manifest installability error in the Application panel\n  */\n  manifestCouldNotBeFetchedIsEmpty: 'Manifest could not be fetched, is empty, or could not be parsed',\n  /**\n  *@description Manifest installability error in the Application panel\n  */\n  manifestStartUrlIsNotValid: 'Manifest start `URL` is not valid',\n  /**\n  *@description Manifest installability error in the Application panel\n  */\n  manifestDoesNotContainANameOr: 'Manifest does not contain a \\'`name`\\' or \\'`short_name`\\' field',\n  /**\n  *@description Manifest installability error in the Application panel\n  */\n  manifestDisplayPropertyMustBeOne:\n      'Manifest \\'`display`\\' property must be one of \\'`standalone`\\', \\'`fullscreen`\\', or \\'`minimal-ui`\\'',\n  /**\n  *@description Manifest installability error in the Application panel\n  *@example {100} PH1\n  */\n  manifestDoesNotContainASuitable:\n      'Manifest does not contain a suitable icon - PNG, SVG or WebP format of at least {PH1}px is required, the `sizes` attribute must be set, and the `purpose` attribute, if set, must include `\"any\"` and should not include `\"maskable\"`.',\n  /**\n  *@description Manifest installability error in the Application panel\n  */\n  noMatchingServiceWorkerDetected:\n      'No matching `service worker` detected. You may need to reload the page, or check that the scope of the `service worker` for the current page encloses the scope and start URL from the manifest.',\n  /**\n  *@description Manifest installability error in the Application panel\n  *@example {100} PH1\n  */\n  noSuppliedIconIsAtLeastSpxSquare:\n      'No supplied icon is at least {PH1} pixels square in `PNG`, `SVG` or `WebP` format, with the purpose attribute unset or set to `\"any\"`.',\n  /**\n  *@description Manifest installability error in the Application panel\n  */\n  couldNotDownloadARequiredIcon: 'Could not download a required icon from the manifest',\n  /**\n  *@description Manifest installability error in the Application panel\n  */\n  downloadedIconWasEmptyOr: 'Downloaded icon was empty or corrupted',\n  /**\n  *@description Manifest installability error in the Application panel\n  */\n  theSpecifiedApplicationPlatform: 'The specified application platform is not supported on `Android`',\n  /**\n  *@description Manifest installability error in the Application panel\n  */\n  noPlayStoreIdProvided: 'No Play store ID provided',\n  /**\n  *@description Manifest installability error in the Application panel\n  */\n  thePlayStoreAppUrlAndPlayStoreId: 'The Play Store app URL and Play Store ID do not match',\n  /**\n  *@description Manifest installability error in the Application panel\n  */\n  theAppIsAlreadyInstalled: 'The app is already installed',\n  /**\n  *@description Manifest installability error in the Application panel\n  */\n  aUrlInTheManifestContainsA: 'A URL in the manifest contains a username, password, or port',\n  /**\n  *@description Manifest installability error in the Application panel\n  */\n  pageIsLoadedInAnIncognitoWindow: 'Page is loaded in an incognito window',\n  /**\n  *@description Manifest installability error in the Application panel\n  */\n  pageDoesNotWorkOffline: 'Page does not work offline',\n  /**\n  *@description Manifest installability error in the Application panel\n  */\n  couldNotCheckServiceWorker: 'Could not check `service worker` without a \\'`start_url`\\' field in the manifest',\n  /**\n  *@description Manifest installability error in the Application panel\n  */\n  manifestSpecifies: 'Manifest specifies `prefer_related_applications`: true',\n  /**\n  *@description Manifest installability error in the Application panel\n  */\n  preferrelatedapplicationsIsOnly:\n      '`prefer_related_applications` is only supported on `Chrome` Beta and Stable channels on `Android`.',\n  /**\n  *@description Manifest installability error in the Application panel\n  */\n  manifestContainsDisplayoverride:\n      'Manifest contains \\'`display_override`\\' field, and the first supported display mode must be one of \\'`standalone`\\', \\'`fullscreen`\\', or \\'`minimal-ui`\\'',\n  /**\n  *@description Warning message for offline capability check\n  *@example {https://developer.chrome.com/blog/improved-pwa-offline-detection} PH1\n  */\n  pageDoesNotWorkOfflineThePage:\n      'Page does not work offline. Starting in Chrome 93, the installability criteria are changing, and this site will not be installable. See {PH1} for more information.',\n  /**\n  *@description Text to indicate the source of an image\n  *@example {example.com} PH1\n  */\n  imageFromS: 'Image from {PH1}',\n  /**\n  *@description Text for one or a group of screenshots\n  */\n  screenshot: 'Screenshot',\n  /**\n  *@description Text in App Manifest View of the Application panel\n  */\n  icon: 'Icon',\n  /**\n  * @description This is a warning message telling the user about a problem where the src attribute\n  * of an image has not be entered/provided correctly. 'src' is part of the DOM API and should not\n  * be translated.\n  * @example {ImageName} PH1\n  */\n  sSrcIsNotSet: '{PH1} `src` is not set',\n  /**\n  *@description Warning message for image resources from the manifest\n  *@example {Image} PH1\n  *@example {https://example.com/image.png} PH2\n  */\n  sUrlSFailedToParse: '{PH1} URL \\'{PH2}\\' failed to parse',\n  /**\n  *@description Warning message for image resources from the manifest\n  *@example {Image} PH1\n  *@example {https://example.com/image.png} PH2\n  */\n  sSFailedToLoad: '{PH1} {PH2} failed to load',\n  /**\n  *@description Warning message for image resources from the manifest\n  *@example {Image} PH1\n  *@example {https://example.com/image.png} PH2\n  */\n  sSDoesNotSpecifyItsSizeInThe: '{PH1} {PH2} does not specify its size in the manifest',\n  /**\n  *@description Warning message for image resources from the manifest\n  *@example {Image} PH1\n  *@example {https://example.com/image.png} PH2\n  */\n  sSShouldSpecifyItsSizeAs: '{PH1} {PH2} should specify its size as `{width}x{height}`',\n  /**\n  *@description Warning message for image resources from the manifest\n  */\n  sSShouldHaveSquareIcon:\n      'Most operating systems require square icons. Please include at least one square icon in the array.',\n  /**\n  *@description Warning message for image resources from the manifest\n  *@example {100} PH1\n  *@example {100} PH2\n  *@example {Image} PH3\n  *@example {https://example.com/image.png} PH4\n  *@example {200} PH5\n  *@example {200} PH6\n  */\n  actualSizeSspxOfSSDoesNotMatch:\n      'Actual size ({PH1}×{PH2})px of {PH3} {PH4} does not match specified size ({PH5}×{PH6}px)',\n  /**\n  *@description Warning message for image resources from the manifest\n  *@example {100} PH1\n  *@example {Image} PH2\n  *@example {https://example.com/image.png} PH3\n  *@example {200} PH4\n  */\n  actualWidthSpxOfSSDoesNotMatch: 'Actual width ({PH1}px) of {PH2} {PH3} does not match specified width ({PH4}px)',\n  /**\n  *@description Warning message for image resources from the manifest\n  *@example {100} PH1\n  *@example {Image} PH2\n  *@example {https://example.com/image.png} PH3\n  *@example {100} PH4\n  */\n  actualHeightSpxOfSSDoesNotMatch: 'Actual height ({PH1}px) of {PH2} {PH3} does not match specified height ({PH4}px)',\n  /**\n  *@description Warning message for image resources from the manifest\n  *@example {Image} PH1\n  *@example {https://example.com/image.png} PH2\n  */\n  sSSizeShouldBeAtLeast320: '{PH1} {PH2} size should be at least 320×320',\n  /**\n  *@description Warning message for image resources from the manifest\n  *@example {Image} PH1\n  *@example {https://example.com/image.png} PH2\n  */\n  sSSizeShouldBeAtMost3840: '{PH1} {PH2} size should be at most 3840×3840',\n  /**\n  *@description Warning message for image resources from the manifest\n  *@example {Image} PH1\n  *@example {https://example.com/image.png} PH2\n  */\n  sSWidthDoesNotComplyWithRatioRequirement: '{PH1} {PH2} width can\\'t be more than 2.3 times as long as the height',\n  /**\n  *@description Warning message for image resources from the manifest\n  *@example {Image} PH1\n  *@example {https://example.com/image.png} PH2\n  */\n  sSHeightDoesNotComplyWithRatioRequirement: '{PH1} {PH2} height can\\'t be more than 2.3 times as long as the width',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/application/AppManifestView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class AppManifestView extends UI.Widget.VBox implements SDK.TargetManager.Observer {\n  _emptyView: UI.EmptyWidget.EmptyWidget;\n  _reportView: UI.ReportView.ReportView;\n  _errorsSection: UI.ReportView.Section;\n  _installabilitySection: UI.ReportView.Section;\n  _identitySection: UI.ReportView.Section;\n  _presentationSection: UI.ReportView.Section;\n  _iconsSection: UI.ReportView.Section;\n  _shortcutSections: UI.ReportView.Section[];\n  _screenshotsSections: UI.ReportView.Section[];\n  _nameField: HTMLElement;\n  _shortNameField: HTMLElement;\n  _descriptionField: Element;\n  _startURLField: HTMLElement;\n  _themeColorSwatch: InlineEditor.ColorSwatch.ColorSwatch;\n  _backgroundColorSwatch: InlineEditor.ColorSwatch.ColorSwatch;\n  _orientationField: HTMLElement;\n  _displayField: HTMLElement;\n  _throttler: Common.Throttler.Throttler;\n  _registeredListeners: Common.EventTarget.EventDescriptor[];\n  _target?: SDK.Target.Target;\n  _resourceTreeModel?: SDK.ResourceTreeModel.ResourceTreeModel|null;\n  _serviceWorkerManager?: SDK.ServiceWorkerManager.ServiceWorkerManager|null;\n  constructor() {\n    super(true);\n    this.registerRequiredCSS('panels/application/appManifestView.css', {enableLegacyPatching: false});\n    this.contentElement.classList.add('manifest-container');\n\n    Common.Settings.Settings.instance()\n        .moduleSetting('colorFormat')\n        .addChangeListener(this._updateManifest.bind(this, true));\n\n    this._emptyView = new UI.EmptyWidget.EmptyWidget(i18nString(UIStrings.noManifestDetected));\n    this._emptyView.appendLink('https://web.dev/add-manifest/');\n\n    this._emptyView.show(this.contentElement);\n    this._emptyView.hideWidget();\n\n    // TODO(crbug.com/1156978): Replace UI.ReportView.ReportView with ReportView.ts web component.\n    this._reportView = new UI.ReportView.ReportView(i18nString(UIStrings.appManifest));\n    this._reportView.registerRequiredCSS('panels/application/appManifestView.css', {enableLegacyPatching: false});\n    this._reportView.element.classList.add('manifest-view-header');\n    this._reportView.show(this.contentElement);\n    this._reportView.hideWidget();\n\n    this._errorsSection = this._reportView.appendSection(i18nString(UIStrings.errorsAndWarnings));\n    this._installabilitySection = this._reportView.appendSection(i18nString(UIStrings.installability));\n    this._identitySection = this._reportView.appendSection(i18nString(UIStrings.identity));\n\n    this._presentationSection = this._reportView.appendSection(i18nString(UIStrings.presentation));\n    this._iconsSection = this._reportView.appendSection(i18nString(UIStrings.icons), 'report-section-icons');\n    this._shortcutSections = [];\n    this._screenshotsSections = [];\n\n    this._nameField = this._identitySection.appendField(i18nString(UIStrings.name));\n    this._shortNameField = this._identitySection.appendField(i18nString(UIStrings.shortName));\n    this._descriptionField = this._identitySection.appendFlexedField(i18nString(UIStrings.description));\n\n    this._startURLField = this._presentationSection.appendField(i18nString(UIStrings.startUrl));\n\n    const themeColorField = this._presentationSection.appendField(i18nString(UIStrings.themeColor));\n    this._themeColorSwatch = new InlineEditor.ColorSwatch.ColorSwatch();\n    themeColorField.appendChild(this._themeColorSwatch);\n\n    const backgroundColorField = this._presentationSection.appendField(i18nString(UIStrings.backgroundColor));\n    this._backgroundColorSwatch = new InlineEditor.ColorSwatch.ColorSwatch();\n    backgroundColorField.appendChild(this._backgroundColorSwatch);\n\n    this._orientationField = this._presentationSection.appendField(i18nString(UIStrings.orientation));\n    this._displayField = this._presentationSection.appendField(i18nString(UIStrings.display));\n\n    this._throttler = new Common.Throttler.Throttler(1000);\n    SDK.TargetManager.TargetManager.instance().observeTargets(this);\n    this._registeredListeners = [];\n  }\n\n  targetAdded(target: SDK.Target.Target): void {\n    if (this._target) {\n      return;\n    }\n    this._target = target;\n    this._resourceTreeModel = target.model(SDK.ResourceTreeModel.ResourceTreeModel);\n    this._serviceWorkerManager = target.model(SDK.ServiceWorkerManager.ServiceWorkerManager);\n    if (!this._resourceTreeModel || !this._serviceWorkerManager) {\n      return;\n    }\n\n    this._updateManifest(true);\n\n    this._registeredListeners = [\n      this._resourceTreeModel.addEventListener(\n          SDK.ResourceTreeModel.Events.DOMContentLoaded,\n          _event => {\n            this._updateManifest(true);\n          }),\n      this._serviceWorkerManager.addEventListener(\n          SDK.ServiceWorkerManager.Events.RegistrationUpdated,\n          _event => {\n            this._updateManifest(false);\n          }),\n    ];\n  }\n\n  targetRemoved(target: SDK.Target.Target): void {\n    if (this._target !== target) {\n      return;\n    }\n    if (!this._resourceTreeModel || !this._serviceWorkerManager) {\n      return;\n    }\n    delete this._resourceTreeModel;\n    delete this._serviceWorkerManager;\n    Common.EventTarget.EventTarget.removeEventListeners(this._registeredListeners);\n  }\n\n  async _updateManifest(immediately: boolean): Promise<void> {\n    if (!this._resourceTreeModel) {\n      return;\n    }\n    const {url, data, errors} = await this._resourceTreeModel.fetchAppManifest();\n    const installabilityErrors = await this._resourceTreeModel.getInstallabilityErrors();\n    const manifestIcons = await this._resourceTreeModel.getManifestIcons();\n\n    this._throttler.schedule(\n        () => this._renderManifest(url, data, errors, installabilityErrors, manifestIcons), immediately);\n  }\n\n  async _renderManifest(\n      url: string, data: string|null, errors: Protocol.Page.AppManifestError[],\n      installabilityErrors: Protocol.Page.InstallabilityError[], manifestIcons: {\n        primaryIcon: string|null,\n      }): Promise<void> {\n    if (!data && !errors.length) {\n      this._emptyView.showWidget();\n      this._reportView.hideWidget();\n      return;\n    }\n    this._emptyView.hideWidget();\n    this._reportView.showWidget();\n\n    const link = Components.Linkifier.Linkifier.linkifyURL(url);\n    link.tabIndex = 0;\n    this._reportView.setURL(link);\n    this._errorsSection.clearContent();\n    this._errorsSection.element.classList.toggle('hidden', !errors.length);\n    for (const error of errors) {\n      this._errorsSection.appendRow().appendChild(\n          UI.UIUtils.createIconLabel(error.message, error.critical ? 'smallicon-error' : 'smallicon-warning'));\n    }\n\n    if (!data) {\n      return;\n    }\n\n    if (data.charCodeAt(0) === 0xFEFF) {\n      data = data.slice(1);\n    }  // Trim the BOM as per https://tools.ietf.org/html/rfc7159#section-8.1.\n\n    const parsedManifest = JSON.parse(data);\n    this._nameField.textContent = stringProperty('name');\n    this._shortNameField.textContent = stringProperty('short_name');\n\n    const warnings = [];\n\n    const description = stringProperty('description');\n    this._descriptionField.textContent = description;\n    if (description.length > 324) {\n      warnings.push(i18nString(UIStrings.descriptionMayBeTruncated));\n    }\n\n    this._startURLField.removeChildren();\n    const startURL = stringProperty('start_url');\n    if (startURL) {\n      const completeURL = (Common.ParsedURL.ParsedURL.completeURL(url, startURL) as string);\n      const link = Components.Linkifier.Linkifier.linkifyURL(\n          completeURL, ({text: startURL} as Components.Linkifier.LinkifyURLOptions));\n      link.tabIndex = 0;\n      this._startURLField.appendChild(link);\n    }\n\n    this._themeColorSwatch.classList.toggle('hidden', !stringProperty('theme_color'));\n    const themeColor =\n        Common.Color.Color.parse(stringProperty('theme_color') || 'white') || Common.Color.Color.parse('white');\n    if (themeColor) {\n      this._themeColorSwatch.renderColor(themeColor, true);\n    }\n    this._backgroundColorSwatch.classList.toggle('hidden', !stringProperty('background_color'));\n    const backgroundColor =\n        Common.Color.Color.parse(stringProperty('background_color') || 'white') || Common.Color.Color.parse('white');\n    if (backgroundColor) {\n      this._backgroundColorSwatch.renderColor(backgroundColor, true);\n    }\n\n    this._orientationField.textContent = stringProperty('orientation');\n    const displayType = stringProperty('display');\n    this._displayField.textContent = displayType;\n\n    const icons = parsedManifest['icons'] || [];\n    this._iconsSection.clearContent();\n\n    const shortcuts = parsedManifest['shortcuts'] || [];\n    for (const shortcutsSection of this._shortcutSections) {\n      shortcutsSection.detach(/** overrideHideOnDetach= */ true);\n    }\n\n    const screenshots = parsedManifest['screenshots'] || [];\n    for (const screenshotSection of this._screenshotsSections) {\n      screenshotSection.detach(/** overrideHideOnDetach= */ true);\n    }\n\n    const imageErrors = [];\n\n    const setIconMaskedCheckbox = UI.UIUtils.CheckboxLabel.create(i18nString(UIStrings.showOnlyTheMinimumSafeAreaFor));\n    setIconMaskedCheckbox.classList.add('mask-checkbox');\n    setIconMaskedCheckbox.addEventListener('click', () => {\n      this._iconsSection.setIconMasked(setIconMaskedCheckbox.checkboxElement.checked);\n    });\n    this._iconsSection.appendRow().appendChild(setIconMaskedCheckbox);\n    const documentationLink =\n        UI.XLink.XLink.create('https://web.dev/maskable-icon/', i18nString(UIStrings.documentationOnMaskableIcons));\n    this._iconsSection.appendRow().appendChild(\n        i18n.i18n.getFormatLocalizedString(str_, UIStrings.needHelpReadOurS, {PH1: documentationLink}));\n\n    if (manifestIcons && manifestIcons.primaryIcon) {\n      const wrapper = document.createElement('div');\n      wrapper.classList.add('image-wrapper');\n      const image = document.createElement('img');\n      image.style.maxWidth = '200px';\n      image.style.maxHeight = '200px';\n      image.src = 'data:image/png;base64,' + manifestIcons.primaryIcon;\n      image.alt = i18nString(UIStrings.primaryManifestIconFromS, {PH1: url});\n      const title = i18nString(UIStrings.primaryIconasUsedByChrome);\n      const field = this._iconsSection.appendFlexedField(title);\n      wrapper.appendChild(image);\n      field.appendChild(wrapper);\n    }\n\n    let hasSquareIcon = false;\n    for (const icon of icons) {\n      const iconErrors =\n          await this._appendImageResourceToSection(url, icon, this._iconsSection, /** isScreenshot= */ false);\n      imageErrors.push(...iconErrors);\n\n      if (!hasSquareIcon) {\n        const [width, height] = icon.sizes.split('x').map((x: string) => parseInt(x, 10));\n        hasSquareIcon = width === height;\n      }\n    }\n    if (!hasSquareIcon) {\n      imageErrors.push(i18nString(UIStrings.sSShouldHaveSquareIcon));\n    }\n\n    let shortcutIndex = 1;\n    for (const shortcut of shortcuts) {\n      const shortcutSection = this._reportView.appendSection(i18nString(UIStrings.shortcutS, {PH1: shortcutIndex}));\n      this._shortcutSections.push(shortcutSection);\n\n      shortcutSection.appendFlexedField('Name', shortcut.name);\n      if (shortcut.short_name) {\n        shortcutSection.appendFlexedField('Short name', shortcut.short_name);\n      }\n      if (shortcut.description) {\n        shortcutSection.appendFlexedField('Description', shortcut.description);\n      }\n      const urlField = shortcutSection.appendFlexedField('URL');\n      const shortcutUrl = (Common.ParsedURL.ParsedURL.completeURL(url, shortcut.url) as string);\n      const link = Components.Linkifier.Linkifier.linkifyURL(\n          shortcutUrl, ({text: shortcut.url} as Components.Linkifier.LinkifyURLOptions));\n      link.tabIndex = 0;\n      urlField.appendChild(link);\n\n      const shortcutIcons = shortcut.icons || [];\n      let hasShorcutIconLargeEnough = false;\n      for (const shortcutIcon of shortcutIcons) {\n        const shortcutIconErrors =\n            await this._appendImageResourceToSection(url, shortcutIcon, shortcutSection, /** isScreenshot= */ false);\n        imageErrors.push(...shortcutIconErrors);\n        if (!hasShorcutIconLargeEnough && shortcutIcon.sizes) {\n          const shortcutIconSize = shortcutIcon.sizes.match(/^(\\d+)x(\\d+)$/);\n          if (shortcutIconSize && shortcutIconSize[1] >= 96 && shortcutIconSize[2] >= 96) {\n            hasShorcutIconLargeEnough = true;\n          }\n        }\n      }\n      if (!hasShorcutIconLargeEnough) {\n        imageErrors.push(i18nString(UIStrings.shortcutSShouldIncludeAXPixel, {PH1: shortcutIndex}));\n      }\n      shortcutIndex++;\n    }\n\n    let screenshotIndex = 1;\n    for (const screenshot of screenshots) {\n      const screenshotSection =\n          this._reportView.appendSection(i18nString(UIStrings.screenshotS, {PH1: screenshotIndex}));\n      this._screenshotsSections.push(screenshotSection);\n      const screenshotErrors =\n          await this._appendImageResourceToSection(url, screenshot, screenshotSection, /** isScreenshot= */ true);\n      imageErrors.push(...screenshotErrors);\n      screenshotIndex++;\n    }\n\n    this._installabilitySection.clearContent();\n    this._installabilitySection.element.classList.toggle('hidden', !installabilityErrors.length);\n    const errorMessages = this.getInstallabilityErrorMessages(installabilityErrors);\n    for (const error of errorMessages) {\n      this._installabilitySection.appendRow().appendChild(UI.UIUtils.createIconLabel(error, 'smallicon-warning'));\n    }\n\n    this._errorsSection.element.classList.toggle('hidden', !errors.length && !imageErrors.length && !warnings.length);\n    for (const warning of warnings) {\n      this._errorsSection.appendRow().appendChild(UI.UIUtils.createIconLabel(warning, 'smallicon-warning'));\n    }\n    for (const error of imageErrors) {\n      this._errorsSection.appendRow().appendChild(UI.UIUtils.createIconLabel(error, 'smallicon-warning'));\n    }\n\n    function stringProperty(name: string): string {\n      const value = parsedManifest[name];\n      if (typeof value !== 'string') {\n        return '';\n      }\n      return value;\n    }\n  }\n\n  getInstallabilityErrorMessages(installabilityErrors: Protocol.Page.InstallabilityError[]): string[] {\n    const errorMessages = [];\n    for (const installabilityError of installabilityErrors) {\n      let errorMessage;\n      switch (installabilityError.errorId) {\n        case 'not-in-main-frame':\n          errorMessage = i18nString(UIStrings.pageIsNotLoadedInTheMainFrame);\n          break;\n        case 'not-from-secure-origin':\n          errorMessage = i18nString(UIStrings.pageIsNotServedFromASecureOrigin);\n          break;\n        case 'no-manifest':\n          errorMessage = i18nString(UIStrings.pageHasNoManifestLinkUrl);\n          break;\n        case 'manifest-empty':\n          errorMessage = i18nString(UIStrings.manifestCouldNotBeFetchedIsEmpty);\n          break;\n        case 'start-url-not-valid':\n          errorMessage = i18nString(UIStrings.manifestStartUrlIsNotValid);\n          break;\n        case 'manifest-missing-name-or-short-name':\n          errorMessage = i18nString(UIStrings.manifestDoesNotContainANameOr);\n          break;\n        case 'manifest-display-not-supported':\n          errorMessage = i18nString(UIStrings.manifestDisplayPropertyMustBeOne);\n          break;\n        case 'manifest-missing-suitable-icon':\n          if (installabilityError.errorArguments.length !== 1 ||\n              installabilityError.errorArguments[0].name !== 'minimum-icon-size-in-pixels') {\n            console.error('Installability error does not have the correct errorArguments');\n            break;\n          }\n          errorMessage =\n              i18nString(UIStrings.manifestDoesNotContainASuitable, {PH1: installabilityError.errorArguments[0].value});\n          break;\n        case 'no-matching-service-worker':\n          errorMessage = i18nString(UIStrings.noMatchingServiceWorkerDetected);\n          break;\n        case 'no-acceptable-icon':\n          if (installabilityError.errorArguments.length !== 1 ||\n              installabilityError.errorArguments[0].name !== 'minimum-icon-size-in-pixels') {\n            console.error('Installability error does not have the correct errorArguments');\n            break;\n          }\n          errorMessage = i18nString(\n              UIStrings.noSuppliedIconIsAtLeastSpxSquare, {PH1: installabilityError.errorArguments[0].value});\n          break;\n        case 'cannot-download-icon':\n          errorMessage = i18nString(UIStrings.couldNotDownloadARequiredIcon);\n          break;\n        case 'no-icon-available':\n          errorMessage = i18nString(UIStrings.downloadedIconWasEmptyOr);\n          break;\n        case 'platform-not-supported-on-android':\n          errorMessage = i18nString(UIStrings.theSpecifiedApplicationPlatform);\n          break;\n        case 'no-id-specified':\n          errorMessage = i18nString(UIStrings.noPlayStoreIdProvided);\n          break;\n        case 'ids-do-not-match':\n          errorMessage = i18nString(UIStrings.thePlayStoreAppUrlAndPlayStoreId);\n          break;\n        case 'already-installed':\n          errorMessage = i18nString(UIStrings.theAppIsAlreadyInstalled);\n          break;\n        case 'url-not-supported-for-webapk':\n          errorMessage = i18nString(UIStrings.aUrlInTheManifestContainsA);\n          break;\n        case 'in-incognito':\n          errorMessage = i18nString(UIStrings.pageIsLoadedInAnIncognitoWindow);\n          break;\n        case 'not-offline-capable':\n          errorMessage = i18nString(UIStrings.pageDoesNotWorkOffline);\n          break;\n        case 'no-url-for-service-worker':\n          errorMessage = i18nString(UIStrings.couldNotCheckServiceWorker);\n          break;\n        case 'prefer-related-applications':\n          errorMessage = i18nString(UIStrings.manifestSpecifies);\n          break;\n        case 'prefer-related-applications-only-beta-stable':\n          errorMessage = i18nString(UIStrings.preferrelatedapplicationsIsOnly);\n          break;\n        case 'manifest-display-override-not-supported':\n          errorMessage = i18nString(UIStrings.manifestContainsDisplayoverride);\n          break;\n        case 'warn-not-offline-capable':\n          errorMessage = i18nString(\n              UIStrings.pageDoesNotWorkOfflineThePage,\n              {PH1: 'https://developer.chrome.com/blog/improved-pwa-offline-detection/'});\n          break;\n        default:\n          console.error(`Installability error id '${installabilityError.errorId}' is not recognized`);\n          break;\n      }\n      if (errorMessage) {\n        errorMessages.push(errorMessage);\n      }\n    }\n    return errorMessages;\n  }\n\n  async _loadImage(url: string): Promise<{\n    image: HTMLImageElement,\n    wrapper: Element,\n  }|null> {\n    const wrapper = document.createElement('div');\n    wrapper.classList.add('image-wrapper');\n    const image = (document.createElement('img') as HTMLImageElement);\n    const result = new Promise((resolve, reject) => {\n      image.onload = resolve;\n      image.onerror = reject;\n    });\n    image.src = url;\n    image.alt = i18nString(UIStrings.imageFromS, {PH1: url});\n    wrapper.appendChild(image);\n    try {\n      await result;\n      return {wrapper, image};\n    } catch (e) {\n    }\n    return null;\n  }\n\n  async _appendImageResourceToSection(\n      // TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration)\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      baseUrl: string, imageResource: any, section: UI.ReportView.Section, isScreenshot: boolean): Promise<string[]> {\n    const imageResourceErrors = [];\n    const resourceName = isScreenshot ? i18nString(UIStrings.screenshot) : i18nString(UIStrings.icon);\n    if (!imageResource.src) {\n      imageResourceErrors.push(i18nString(UIStrings.sSrcIsNotSet, {PH1: resourceName}));\n      return imageResourceErrors;\n    }\n    const imageUrl = Common.ParsedURL.ParsedURL.completeURL(baseUrl, imageResource['src']);\n    if (!imageUrl) {\n      imageResourceErrors.push(\n          i18nString(UIStrings.sUrlSFailedToParse, {PH1: resourceName, PH2: imageResource['src']}));\n      return imageResourceErrors;\n    }\n    const result = await this._loadImage(imageUrl);\n    if (!result) {\n      imageResourceErrors.push(i18nString(UIStrings.sSFailedToLoad, {PH1: resourceName, PH2: imageUrl}));\n      return imageResourceErrors;\n    }\n    const {wrapper, image} = result;\n    const sizes = imageResource['sizes'] ? imageResource['sizes'].replace('x', '×') + 'px' : '';\n    const title = sizes + '\\n' + (imageResource['type'] || '');\n    const field = section.appendFlexedField(title);\n    if (!imageResource.sizes) {\n      imageResourceErrors.push(i18nString(UIStrings.sSDoesNotSpecifyItsSizeInThe, {PH1: resourceName, PH2: imageUrl}));\n    } else if (!/^\\d+x\\d+$/.test(imageResource.sizes)) {\n      imageResourceErrors.push(i18nString(UIStrings.sSShouldSpecifyItsSizeAs, {PH1: resourceName, PH2: imageUrl}));\n    } else {\n      const [width, height] = imageResource.sizes.split('x').map((x: string) => parseInt(x, 10));\n      if (image.naturalWidth !== width && image.naturalHeight !== height) {\n        imageResourceErrors.push(i18nString(UIStrings.actualSizeSspxOfSSDoesNotMatch, {\n          PH1: image.naturalWidth,\n          PH2: image.naturalHeight,\n          PH3: resourceName,\n          PH4: imageUrl,\n          PH5: width,\n          PH6: height,\n        }));\n      } else if (image.naturalWidth !== width) {\n        imageResourceErrors.push(i18nString(\n            UIStrings.actualWidthSpxOfSSDoesNotMatch,\n            {PH1: image.naturalWidth, PH2: resourceName, PH3: imageUrl, PH4: width}));\n      } else if (image.naturalHeight !== height) {\n        imageResourceErrors.push(i18nString(\n            UIStrings.actualHeightSpxOfSSDoesNotMatch,\n            {PH1: image.naturalHeight, PH2: resourceName, PH3: imageUrl, PH4: height}));\n      } else if (isScreenshot) {\n        if (width < 320 || height < 320) {\n          imageResourceErrors.push(i18nString(UIStrings.sSSizeShouldBeAtLeast320, {PH1: resourceName, PH2: imageUrl}));\n        } else if (width > 3840 || height > 3840) {\n          imageResourceErrors.push(i18nString(UIStrings.sSSizeShouldBeAtMost3840, {PH1: resourceName, PH2: imageUrl}));\n        } else if (width > (height * 2.3)) {\n          imageResourceErrors.push(\n              i18nString(UIStrings.sSWidthDoesNotComplyWithRatioRequirement, {PH1: resourceName, PH2: imageUrl}));\n        } else if (height > (width * 2.3)) {\n          imageResourceErrors.push(\n              i18nString(UIStrings.sSHeightDoesNotComplyWithRatioRequirement, {PH1: resourceName, PH2: imageUrl}));\n        }\n      }\n    }\n    field.appendChild(wrapper);\n    return imageResourceErrors;\n  }\n}\n"]}