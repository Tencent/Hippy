{"version":3,"file":"ThrottlingPresets.js","sourceRoot":"","sources":["../../../../../../front_end/panels/mobile_throttling/ThrottlingPresets.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2017 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/* eslint-disable rulesdir/no_underscored_properties */\n\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as SDK from '../../core/sdk/sdk.js';\n\nconst UIStrings = {\n  /**\n   *@description Text for no network throttling\n   */\n  noThrottling: 'No throttling',\n  /**\n   *@description Text in Throttling Presets of the Network panel\n   */\n  noInternetConnectivity: 'No internet connectivity',\n  /**\n   *@description Text in Throttling Presets of the Network panel\n   */\n  lowendMobile: 'Low-end mobile',\n  /**\n   *@description Text in Throttling Presets of the Network panel\n   */\n  slowGXCpuSlowdown: 'Slow 3G & 6x CPU slowdown',\n  /**\n   *@description Text in Throttling Presets of the Network panel\n   */\n  midtierMobile: 'Mid-tier mobile',\n  /**\n   *@description Text in Throttling Presets of the Network panel\n   */\n  fastGXCpuSlowdown: 'Fast 3G & 4x CPU slowdown',\n  /**\n   *@description Text in Network Throttling Selector of the Network panel\n   */\n  custom: 'Custom',\n  /**\n   *@description Text in Throttling Presets of the Network panel\n   */\n  checkNetworkAndPerformancePanels: 'Check Network and Performance panels',\n};\n\nconst str_ = i18n.i18n.registerUIStrings('panels/mobile_throttling/ThrottlingPresets.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\n// TODO(crbug.com/1167717): Make this a const enum again\n// eslint-disable-next-line rulesdir/const_enum\nexport enum CPUThrottlingRates {\n  NoThrottling = 1,\n  MidTierMobile = 4,\n  LowEndMobile = 6,\n}\n\nexport class ThrottlingPresets {\n  static getNoThrottlingConditions(): Conditions {\n    const title = typeof SDK.NetworkManager.NoThrottlingConditions.title === 'function' ?\n        SDK.NetworkManager.NoThrottlingConditions.title() :\n        SDK.NetworkManager.NoThrottlingConditions.title;\n    return {\n      title,\n      description: i18nString(UIStrings.noThrottling),\n      network: SDK.NetworkManager.NoThrottlingConditions,\n      cpuThrottlingRate: CPUThrottlingRates.NoThrottling,\n    };\n  }\n\n  static getOfflineConditions(): Conditions {\n    const title = typeof SDK.NetworkManager.OfflineConditions.title === 'function' ?\n        SDK.NetworkManager.OfflineConditions.title() :\n        SDK.NetworkManager.OfflineConditions.title;\n    return {\n      title,\n      description: i18nString(UIStrings.noInternetConnectivity),\n      network: SDK.NetworkManager.OfflineConditions,\n      cpuThrottlingRate: CPUThrottlingRates.NoThrottling,\n    };\n  }\n\n  static getLowEndMobileConditions(): Conditions {\n    return {\n      title: i18nString(UIStrings.lowendMobile),\n      description: i18nString(UIStrings.slowGXCpuSlowdown),\n      network: SDK.NetworkManager.Slow3GConditions,\n      cpuThrottlingRate: CPUThrottlingRates.LowEndMobile,\n    };\n  }\n\n  static getMidTierMobileConditions(): Conditions {\n    return {\n      title: i18nString(UIStrings.midtierMobile),\n      description: i18nString(UIStrings.fastGXCpuSlowdown),\n      network: SDK.NetworkManager.Fast3GConditions,\n      cpuThrottlingRate: CPUThrottlingRates.MidTierMobile,\n    };\n  }\n\n  static getCustomConditions(): PlaceholderConditions {\n    return {\n      title: i18nString(UIStrings.custom),\n      description: i18nString(UIStrings.checkNetworkAndPerformancePanels),\n    };\n  }\n\n  static getMobilePresets(): (Conditions|PlaceholderConditions)[] {\n    return [\n      ThrottlingPresets.getMidTierMobileConditions(),\n      ThrottlingPresets.getLowEndMobileConditions(),\n      ThrottlingPresets.getCustomConditions(),\n    ];\n  }\n\n  static getAdvancedMobilePresets(): Conditions[] {\n    return [\n      ThrottlingPresets.getOfflineConditions(),\n    ];\n  }\n\n  static networkPresets: SDK.NetworkManager.Conditions[] = [\n    SDK.NetworkManager.Fast3GConditions,\n    SDK.NetworkManager.Slow3GConditions,\n    SDK.NetworkManager.OfflineConditions,\n  ];\n\n  static cpuThrottlingPresets: CPUThrottlingRates[] = [\n    CPUThrottlingRates.NoThrottling,\n    CPUThrottlingRates.MidTierMobile,\n    CPUThrottlingRates.LowEndMobile,\n  ];\n}\n\n// @ts-ignore exported for Tests.js\nglobalThis.MobileThrottling = globalThis.MobileThrottling || {};\n// @ts-ignore exported for Tests.js\nglobalThis.MobileThrottling.networkPresets = ThrottlingPresets.networkPresets;\n\nexport interface Conditions {\n  title: string;\n  description: string;\n  network: SDK.NetworkManager.Conditions;\n  cpuThrottlingRate: number;\n}\n\nexport interface NetworkThrottlingConditionsGroup {\n  title: string;\n  items: SDK.NetworkManager.Conditions[];\n}\n\nexport interface MobileThrottlingConditionsGroup {\n  title: string;\n  items: (Conditions|PlaceholderConditions)[];\n}\n\nexport type ConditionsList = (Conditions|PlaceholderConditions|null)[];\n\nexport interface PlaceholderConditions {\n  title: string;\n  description: string;\n}\n"]}