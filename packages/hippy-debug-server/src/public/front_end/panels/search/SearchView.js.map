{"version":3,"file":"SearchView.js","sourceRoot":"","sources":["../../../../../../front_end/panels/search/SearchView.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2014 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/* eslint-disable rulesdir/no_underscored_properties */\n\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as UI from '../../ui/legacy/legacy.js';\n\nimport type {SearchResult, SearchScope} from './SearchConfig.js';\nimport {SearchConfig} from './SearchConfig.js';  // eslint-disable-line no-unused-vars\nimport {SearchResultsPane} from './SearchResultsPane.js';\n\nconst UIStrings = {\n  /**\n  *@description Title of a search bar or tool\n  */\n  search: 'Search',\n  /**\n  *@description Accessibility label for search query text box\n  */\n  searchQuery: 'Search Query',\n  /**\n  *@description Text to search by matching case of the input\n  */\n  matchCase: 'Match Case',\n  /**\n  *@description Text for searching with regular expressinn\n  */\n  useRegularExpression: 'Use Regular Expression',\n  /**\n  *@description Text to refresh the page\n  */\n  refresh: 'Refresh',\n  /**\n  *@description Text to clear content\n  */\n  clear: 'Clear',\n  /**\n  *@description Search message element text content in Search View of the Search tab\n  */\n  indexing: 'Indexing…',\n  /**\n  *@description Text to indicate the searching is in progress\n  */\n  searching: 'Searching…',\n  /**\n  *@description Text in Search View of the Search tab\n  */\n  indexingInterrupted: 'Indexing interrupted.',\n  /**\n  *@description Search results message element text content in Search View of the Search tab\n  */\n  foundMatchingLineInFile: 'Found 1 matching line in 1 file.',\n  /**\n  *@description Search results message element text content in Search View of the Search tab\n  *@example {2} PH1\n  */\n  foundDMatchingLinesInFile: 'Found {PH1} matching lines in 1 file.',\n  /**\n  *@description Search results message element text content in Search View of the Search tab\n  *@example {2} PH1\n  *@example {2} PH2\n  */\n  foundDMatchingLinesInDFiles: 'Found {PH1} matching lines in {PH2} files.',\n  /**\n  *@description Search results message element text content in Search View of the Search tab\n  */\n  noMatchesFound: 'No matches found.',\n  /**\n  *@description Text in Search View of the Search tab\n  */\n  searchFinished: 'Search finished.',\n  /**\n  *@description Text in Search View of the Search tab\n  */\n  searchInterrupted: 'Search interrupted.',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/search/SearchView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport class SearchView extends UI.Widget.VBox {\n  _focusOnShow: boolean;\n  _isIndexing: boolean;\n  _searchId: number;\n  _searchMatchesCount: number;\n  _searchResultsCount: number;\n  _nonEmptySearchResultsCount: number;\n  _searchingView: UI.Widget.Widget|null;\n  _notFoundView: UI.Widget.Widget|null;\n  _searchConfig: SearchConfig|null;\n  _pendingSearchConfig: SearchConfig|null;\n  _searchResultsPane: SearchResultsPane|null;\n  _progressIndicator: UI.ProgressIndicator.ProgressIndicator|null;\n  _visiblePane: UI.Widget.Widget|null;\n  _searchPanelElement: HTMLElement;\n  _searchResultsElement: HTMLElement;\n  _search: UI.HistoryInput.HistoryInput;\n  _matchCaseButton: UI.Toolbar.ToolbarToggle;\n  _regexButton: UI.Toolbar.ToolbarToggle;\n  _searchMessageElement: HTMLElement;\n  _searchProgressPlaceholderElement: HTMLElement;\n  _searchResultsMessageElement: HTMLElement;\n  _advancedSearchConfig: Common.Settings.Setting<{\n    query: string,\n    ignoreCase: boolean,\n    isRegex: boolean,\n  }>;\n  _searchScope: SearchScope|null;\n  constructor(settingKey: string) {\n    super(true);\n    this.setMinimumSize(0, 40);\n    this.registerRequiredCSS('panels/search/searchView.css', {enableLegacyPatching: false});\n\n    this._focusOnShow = false;\n    this._isIndexing = false;\n    this._searchId = 1;\n    this._searchMatchesCount = 0;\n    this._searchResultsCount = 0;\n    this._nonEmptySearchResultsCount = 0;\n    this._searchingView = null;\n    this._notFoundView = null;\n    this._searchConfig = null;\n    this._pendingSearchConfig = null;\n    this._searchResultsPane = null;\n    this._progressIndicator = null;\n    this._visiblePane = null;\n\n    this.contentElement.classList.add('search-view');\n\n    this._searchPanelElement = this.contentElement.createChild('div', 'search-drawer-header');\n    this._searchResultsElement = this.contentElement.createChild('div');\n    this._searchResultsElement.className = 'search-results';\n\n    const searchContainer = document.createElement('div');\n    searchContainer.style.flex = 'auto';\n    searchContainer.style.justifyContent = 'start';\n    searchContainer.style.maxWidth = '300px';\n    this._search = UI.HistoryInput.HistoryInput.create();\n    this._search.addEventListener('keydown', event => {\n      this._onKeyDown((event as KeyboardEvent));\n    });\n    searchContainer.appendChild(this._search);\n    this._search.placeholder = i18nString(UIStrings.search);\n    this._search.setAttribute('type', 'text');\n    this._search.setAttribute('results', '0');\n    this._search.setAttribute('size', '42');\n    UI.ARIAUtils.setAccessibleName(this._search, i18nString(UIStrings.searchQuery));\n    const searchItem = new UI.Toolbar.ToolbarItem(searchContainer);\n\n    const toolbar = new UI.Toolbar.Toolbar('search-toolbar', this._searchPanelElement);\n    this._matchCaseButton = SearchView._appendToolbarToggle(toolbar, 'Aa', i18nString(UIStrings.matchCase));\n    this._regexButton = SearchView._appendToolbarToggle(toolbar, '.*', i18nString(UIStrings.useRegularExpression));\n    toolbar.appendToolbarItem(searchItem);\n    const refreshButton = new UI.Toolbar.ToolbarButton(i18nString(UIStrings.refresh), 'largeicon-refresh');\n    const clearButton = new UI.Toolbar.ToolbarButton(i18nString(UIStrings.clear), 'largeicon-clear');\n    toolbar.appendToolbarItem(refreshButton);\n    toolbar.appendToolbarItem(clearButton);\n    refreshButton.addEventListener(UI.Toolbar.ToolbarButton.Events.Click, () => this._onAction());\n    clearButton.addEventListener(UI.Toolbar.ToolbarButton.Events.Click, () => {\n      this._resetSearch();\n      this._onSearchInputClear();\n    });\n\n    const searchStatusBarElement = this.contentElement.createChild('div', 'search-toolbar-summary');\n    this._searchMessageElement = searchStatusBarElement.createChild('div', 'search-message');\n    this._searchProgressPlaceholderElement = searchStatusBarElement.createChild('div', 'flex-centered');\n    this._searchResultsMessageElement = searchStatusBarElement.createChild('div', 'search-message');\n\n    this._advancedSearchConfig = Common.Settings.Settings.instance().createLocalSetting(\n        settingKey + 'SearchConfig', new SearchConfig('', true, false).toPlainObject());\n\n    this._load();\n    this._searchScope = null;\n  }\n\n  static _appendToolbarToggle(toolbar: UI.Toolbar.Toolbar, text: string, tooltip: string): UI.Toolbar.ToolbarToggle {\n    const toggle = new UI.Toolbar.ToolbarToggle(tooltip);\n    toggle.setText(text);\n    toggle.addEventListener(UI.Toolbar.ToolbarButton.Events.Click, () => toggle.setToggled(!toggle.toggled()));\n    toolbar.appendToolbarItem(toggle);\n    return toggle;\n  }\n\n  _buildSearchConfig(): SearchConfig {\n    return new SearchConfig(this._search.value, !this._matchCaseButton.toggled(), this._regexButton.toggled());\n  }\n\n  async toggle(queryCandidate: string, searchImmediately?: boolean): Promise<void> {\n    if (queryCandidate) {\n      this._search.value = queryCandidate;\n    }\n    if (this.isShowing()) {\n      this.focus();\n    } else {\n      this._focusOnShow = true;\n    }\n\n    this._initScope();\n    if (searchImmediately) {\n      this._onAction();\n    } else {\n      this._startIndexing();\n    }\n  }\n\n  createScope(): SearchScope {\n    throw new Error('Not implemented');\n  }\n\n  _initScope(): void {\n    this._searchScope = this.createScope();\n  }\n\n  wasShown(): void {\n    if (this._focusOnShow) {\n      this.focus();\n      this._focusOnShow = false;\n    }\n  }\n\n  _onIndexingFinished(): void {\n    if (!this._progressIndicator) {\n      return;\n    }\n\n    const finished = !this._progressIndicator.isCanceled();\n    this._progressIndicator.done();\n    this._progressIndicator = null;\n    this._isIndexing = false;\n    this._indexingFinished(finished);\n    if (!finished) {\n      this._pendingSearchConfig = null;\n    }\n    if (!this._pendingSearchConfig) {\n      return;\n    }\n    const searchConfig = this._pendingSearchConfig;\n    this._pendingSearchConfig = null;\n    this._innerStartSearch(searchConfig);\n  }\n\n  _startIndexing(): void {\n    this._isIndexing = true;\n    if (this._progressIndicator) {\n      this._progressIndicator.done();\n    }\n    this._progressIndicator = new UI.ProgressIndicator.ProgressIndicator();\n    this._searchMessageElement.textContent = i18nString(UIStrings.indexing);\n    this._progressIndicator.show(this._searchProgressPlaceholderElement);\n    if (this._searchScope) {\n      this._searchScope.performIndexing(\n          new Common.Progress.ProgressProxy(this._progressIndicator, this._onIndexingFinished.bind(this)));\n    }\n  }\n\n  _onSearchInputClear(): void {\n    this._search.value = '';\n    this._save();\n    this.focus();\n  }\n\n  _onSearchResult(searchId: number, searchResult: SearchResult): void {\n    if (searchId !== this._searchId || !this._progressIndicator) {\n      return;\n    }\n    if (this._progressIndicator && this._progressIndicator.isCanceled()) {\n      this._onIndexingFinished();\n      return;\n    }\n    this._addSearchResult(searchResult);\n    if (!searchResult.matchesCount()) {\n      return;\n    }\n    if (!this._searchResultsPane) {\n      this._searchResultsPane = new SearchResultsPane((this._searchConfig as SearchConfig));\n      this._showPane(this._searchResultsPane);\n    }\n    this._searchResultsPane.addSearchResult(searchResult);\n  }\n\n  _onSearchFinished(searchId: number, finished: boolean): void {\n    if (searchId !== this._searchId || !this._progressIndicator) {\n      return;\n    }\n    if (!this._searchResultsPane) {\n      this._nothingFound();\n    }\n    this._searchFinished(finished);\n    this._searchConfig = null;\n    UI.ARIAUtils.alert(this._searchMessageElement.textContent + ' ' + this._searchResultsMessageElement.textContent);\n  }\n\n  async _startSearch(searchConfig: SearchConfig): Promise<void> {\n    this._resetSearch();\n    ++this._searchId;\n    this._initScope();\n    if (!this._isIndexing) {\n      this._startIndexing();\n    }\n    this._pendingSearchConfig = searchConfig;\n  }\n\n  _innerStartSearch(searchConfig: SearchConfig): void {\n    this._searchConfig = searchConfig;\n    if (this._progressIndicator) {\n      this._progressIndicator.done();\n    }\n    this._progressIndicator = new UI.ProgressIndicator.ProgressIndicator();\n    this._searchStarted(this._progressIndicator);\n    if (this._searchScope) {\n      this._searchScope.performSearch(\n          searchConfig, this._progressIndicator, this._onSearchResult.bind(this, this._searchId),\n          this._onSearchFinished.bind(this, this._searchId));\n    }\n  }\n\n  _resetSearch(): void {\n    this._stopSearch();\n    this._showPane(null);\n    this._searchResultsPane = null;\n    this._clearSearchMessage();\n  }\n\n  _clearSearchMessage(): void {\n    this._searchMessageElement.textContent = '';\n    this._searchResultsMessageElement.textContent = '';\n  }\n\n  _stopSearch(): void {\n    if (this._progressIndicator && !this._isIndexing) {\n      this._progressIndicator.cancel();\n    }\n    if (this._searchScope) {\n      this._searchScope.stopSearch();\n    }\n    this._searchConfig = null;\n  }\n\n  _searchStarted(progressIndicator: UI.ProgressIndicator.ProgressIndicator): void {\n    this._resetCounters();\n    if (!this._searchingView) {\n      this._searchingView = new UI.EmptyWidget.EmptyWidget(i18nString(UIStrings.searching));\n    }\n    this._showPane(this._searchingView);\n    this._searchMessageElement.textContent = i18nString(UIStrings.searching);\n    progressIndicator.show(this._searchProgressPlaceholderElement);\n    this._updateSearchResultsMessage();\n  }\n\n  _indexingFinished(finished: boolean): void {\n    this._searchMessageElement.textContent = finished ? '' : i18nString(UIStrings.indexingInterrupted);\n  }\n\n  _updateSearchResultsMessage(): void {\n    if (this._searchMatchesCount && this._searchResultsCount) {\n      if (this._searchMatchesCount === 1 && this._nonEmptySearchResultsCount === 1) {\n        this._searchResultsMessageElement.textContent = i18nString(UIStrings.foundMatchingLineInFile);\n      } else if (this._searchMatchesCount > 1 && this._nonEmptySearchResultsCount === 1) {\n        this._searchResultsMessageElement.textContent =\n            i18nString(UIStrings.foundDMatchingLinesInFile, {PH1: this._searchMatchesCount});\n      } else {\n        this._searchResultsMessageElement.textContent = i18nString(\n            UIStrings.foundDMatchingLinesInDFiles,\n            {PH1: this._searchMatchesCount, PH2: this._nonEmptySearchResultsCount});\n      }\n    } else {\n      this._searchResultsMessageElement.textContent = '';\n    }\n  }\n\n  _showPane(panel: UI.Widget.Widget|null): void {\n    if (this._visiblePane) {\n      this._visiblePane.detach();\n    }\n    if (panel) {\n      panel.show(this._searchResultsElement);\n    }\n    this._visiblePane = panel;\n  }\n\n  _resetCounters(): void {\n    this._searchMatchesCount = 0;\n    this._searchResultsCount = 0;\n    this._nonEmptySearchResultsCount = 0;\n  }\n\n  _nothingFound(): void {\n    if (!this._notFoundView) {\n      this._notFoundView = new UI.EmptyWidget.EmptyWidget(i18nString(UIStrings.noMatchesFound));\n    }\n    this._showPane(this._notFoundView);\n    this._searchResultsMessageElement.textContent = i18nString(UIStrings.noMatchesFound);\n  }\n\n  _addSearchResult(searchResult: SearchResult): void {\n    const matchesCount = searchResult.matchesCount();\n    this._searchMatchesCount += matchesCount;\n    this._searchResultsCount++;\n    if (matchesCount) {\n      this._nonEmptySearchResultsCount++;\n    }\n    this._updateSearchResultsMessage();\n  }\n\n  _searchFinished(finished: boolean): void {\n    this._searchMessageElement.textContent =\n        finished ? i18nString(UIStrings.searchFinished) : i18nString(UIStrings.searchInterrupted);\n  }\n\n  focus(): void {\n    this._search.focus();\n    this._search.select();\n  }\n\n  willHide(): void {\n    this._stopSearch();\n  }\n\n  _onKeyDown(event: KeyboardEvent): void {\n    this._save();\n    switch (event.keyCode) {\n      case UI.KeyboardShortcut.Keys.Enter.code:\n        this._onAction();\n        break;\n    }\n  }\n\n  _save(): void {\n    this._advancedSearchConfig.set(this._buildSearchConfig().toPlainObject());\n  }\n\n  _load(): void {\n    const searchConfig = SearchConfig.fromPlainObject(this._advancedSearchConfig.get());\n    this._search.value = searchConfig.query();\n    this._matchCaseButton.setToggled(!searchConfig.ignoreCase());\n    this._regexButton.setToggled(searchConfig.isRegex());\n  }\n\n  _onAction(): void {\n    // Resetting alert variable to prime for next search query result.\n    UI.ARIAUtils.alert(' ');\n    const searchConfig = this._buildSearchConfig();\n    if (!searchConfig.query() || !searchConfig.query().length) {\n      return;\n    }\n    this._startSearch(searchConfig);\n  }\n}\n"]}