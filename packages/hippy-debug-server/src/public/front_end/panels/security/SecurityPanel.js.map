{"version":3,"file":"SecurityPanel.js","sourceRoot":"","sources":["../../../../../../front_end/panels/security/SecurityPanel.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2015 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/* eslint-disable rulesdir/no_underscored_properties */\n\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as Network from '../network/network.js';\n\nimport type {PageSecurityState, PageVisibleSecurityState} from './SecurityModel.js';\nimport {Events, SecurityModel, SecurityStyleExplanation, SummaryMessages} from './SecurityModel.js';\n\nconst UIStrings = {\n  /**\n  *@description Title text content in Security Panel of the Security panel\n  */\n  overview: 'Overview',\n  /**\n  *@description Text in Security Panel of the Security panel\n  */\n  mainOrigin: 'Main origin',\n  /**\n  *@description Text in Security Panel of the Security panel\n  */\n  nonsecureOrigins: 'Non-secure origins',\n  /**\n  *@description Text in Security Panel of the Security panel\n  */\n  secureOrigins: 'Secure origins',\n  /**\n  *@description Text in Security Panel of the Security panel\n  */\n  unknownCanceled: 'Unknown / canceled',\n  /**\n  *@description Text in Security Panel of the Security panel\n  */\n  reloadToViewDetails: 'Reload to view details',\n  /**\n  *@description New parent title in Security Panel of the Security panel\n  */\n  mainOriginSecure: 'Main origin (secure)',\n  /**\n  *@description New parent title in Security Panel of the Security panel\n  */\n  mainOriginNonsecure: 'Main origin (non-secure)',\n  /**\n  *@description Summary div text content in Security Panel of the Security panel\n  */\n  securityOverview: 'Security overview',\n  /**\n  *@description Text to show something is secure\n  */\n  secure: 'Secure',\n  /**\n  *@description Sdk console message message level info of level Labels in Console View of the Console panel\n  */\n  info: 'Info',\n  /**\n  *@description Not secure div text content in Security Panel of the Security panel\n  */\n  notSecure: 'Not secure',\n  /**\n  *@description Text to view a security certificate\n  */\n  viewCertificate: 'View certificate',\n  /**\n  *@description Text in Security Panel of the Security panel\n  */\n  theSecurityOfThisPageIsUnknown: 'The security of this page is unknown.',\n  /**\n  *@description Text in Security Panel of the Security panel\n  */\n  thisPageIsNotSecure: 'This page is not secure.',\n  /**\n  *@description Text in Security Panel of the Security panel\n  */\n  thisPageIsSecureValidHttps: 'This page is secure (valid HTTPS).',\n  /**\n  *@description Text in Security Panel of the Security panel\n  */\n  thisPageIsNotSecureBrokenHttps: 'This page is not secure (broken HTTPS).',\n  /**\n  *@description Text in Security Panel of the Security panel\n  */\n  notSecureBroken: 'Not secure (broken)',\n  /**\n  *@description Main summary for page when it has been deemed unsafe by the SafeBrowsing service.\n  */\n  thisPageIsDangerousFlaggedBy: 'This page is dangerous (flagged by Google Safe Browsing).',\n  /**\n  *@description Summary phrase for a security problem where the site is deemed unsafe by the SafeBrowsing service.\n  */\n  flaggedByGoogleSafeBrowsing: 'Flagged by Google Safe Browsing',\n  /**\n  *@description Description of a security problem where the site is deemed unsafe by the SafeBrowsing service.\n  */\n  toCheckThisPagesStatusVisit: 'To check this page\\'s status, visit g.co/safebrowsingstatus.',\n  /**\n  *@description Main summary for a non cert error page.\n  */\n  thisIsAnErrorPage: 'This is an error page.',\n  /**\n  *@description Main summary for where the site is non-secure HTTP.\n  */\n  thisPageIsInsecureUnencrypted: 'This page is insecure (unencrypted HTTP).',\n  /**\n  *@description Main summary for where the site has a non-cryptographic secure origin.\n  */\n  thisPageHasANonhttpsSecureOrigin: 'This page has a non-HTTPS secure origin.',\n  /**\n  *@description Message to display in devtools security tab when the page you are on triggered a safety tip.\n  */\n  thisPageIsSuspicious: 'This page is suspicious',\n  /**\n  *@description Body of message to display in devtools security tab when you are viewing a page that triggered a safety tip.\n  */\n  chromeHasDeterminedThatThisSiteS: 'Chrome has determined that this site could be fake or fraudulent.',\n  /**\n  *@description Second part of the body of message to display in devtools security tab when you are viewing a page that triggered a safety tip.\n  */\n  ifYouBelieveThisIsShownIn:\n      'If you believe this is shown in error please visit https://bugs.chromium.org/p/chromium/issues/entry?template=Safety+Tips+Appeals.',\n  /**\n  *@description Summary of a warning when the user visits a page that triggered a Safety Tip because the domain looked like another domain.\n  */\n  possibleSpoofingUrl: 'Possible spoofing URL',\n  /**\n  *@description Body of a warning when the user visits a page that triggered a Safety Tip because the domain looked like another domain.\n  *@example {wikipedia.org} PH1\n  */\n  thisSitesHostnameLooksSimilarToP:\n      'This site\\'s hostname looks similar to {PH1}. Attackers sometimes mimic sites by making small, hard-to-see changes to the domain name.',\n  /**\n  *@description second part of body of a warning when the user visits a page that triggered a Safety Tip because the domain looked like another domain.\n  */\n  ifYouBelieveThisIsShownInErrorSafety:\n      'If you believe this is shown in error please visit https://bugs.chromium.org/p/chromium/issues/entry?template=Safety+Tips+Appeals.',\n  /**\n  *@description Title of the devtools security tab when the page you are on triggered a safety tip.\n  */\n  thisPageIsSuspiciousFlaggedBy: 'This page is suspicious (flagged by Chrome).',\n  /**\n  *@description Text for a security certificate\n  */\n  certificate: 'Certificate',\n  /**\n  *@description Summary phrase for a security problem where the site's certificate chain contains a SHA1 signature.\n  */\n  insecureSha: 'insecure (SHA-1)',\n  /**\n  *@description Description of a security problem where the site's certificate chain contains a SHA1 signature.\n  */\n  theCertificateChainForThisSite: 'The certificate chain for this site contains a certificate signed using SHA-1.',\n  /**\n  *@description Summary phrase for a security problem where the site's certificate is missing a subjectAltName extension.\n  */\n  subjectAlternativeNameMissing: '`Subject Alternative Name` missing',\n  /**\n  *@description Description of a security problem where the site's certificate is missing a subjectAltName extension.\n  */\n  theCertificateForThisSiteDoesNot:\n      'The certificate for this site does not contain a `Subject Alternative Name` extension containing a domain name or IP address.',\n  /**\n  *@description Summary phrase for a security problem with the site's certificate.\n  */\n  missing: 'missing',\n  /**\n  *@description Description of a security problem with the site's certificate.\n  *@example {net::ERR_CERT_AUTHORITY_INVALID} PH1\n  */\n  thisSiteIsMissingAValidTrusted: 'This site is missing a valid, trusted certificate ({PH1}).',\n  /**\n  *@description Summary phrase for a site that has a valid server certificate.\n  */\n  validAndTrusted: 'valid and trusted',\n  /**\n  *@description Description of a site that has a valid server certificate.\n  *@example {Let's Encrypt Authority X3} PH1\n  */\n  theConnectionToThisSiteIsUsingA:\n      'The connection to this site is using a valid, trusted server certificate issued by {PH1}.',\n  /**\n  *@description Summary phrase for a security state where Private Key Pinning is ignored because the certificate chains to a locally-trusted root.\n  */\n  publickeypinningBypassed: 'Public-Key-Pinning bypassed',\n  /**\n  *@description Description of a security state where Private Key Pinning is ignored because the certificate chains to a locally-trusted root.\n  */\n  publickeypinningWasBypassedByA: 'Public-Key-Pinning was bypassed by a local root certificate.',\n  /**\n  *@description Summary phrase for a site with a certificate that is expiring soon.\n  */\n  certificateExpiresSoon: 'Certificate expires soon',\n  /**\n  *@description Description for a site with a certificate that is expiring soon.\n  */\n  theCertificateForThisSiteExpires:\n      'The certificate for this site expires in less than 48 hours and needs to be renewed.',\n  /**\n  *@description Text that refers to the network connection\n  */\n  connection: 'Connection',\n  /**\n  *@description Summary phrase for a site that uses a modern, secure TLS protocol and cipher.\n  */\n  secureConnectionSettings: 'secure connection settings',\n  /**\n  *@description Description of a site's TLS settings.\n  *@example {TLS 1.2} PH1\n  *@example {ECDHE_RSA} PH2\n  *@example {AES_128_GCM} PH3\n  */\n  theConnectionToThisSiteIs:\n      'The connection to this site is encrypted and authenticated using {PH1}, {PH2}, and {PH3}.',\n  /**\n  *@description A recommendation to the site owner to use a modern TLS protocol\n  *@example {TLS 1.0} PH1\n  */\n  sIsObsoleteEnableTlsOrLater: '{PH1} is obsolete. Enable TLS 1.2 or later.',\n  /**\n  *@description A recommendation to the site owner to use a modern TLS key exchange\n  */\n  rsaKeyExchangeIsObsoleteEnableAn: 'RSA key exchange is obsolete. Enable an ECDHE-based cipher suite.',\n  /**\n  *@description A recommendation to the site owner to use a modern TLS cipher\n  *@example {3DES_EDE_CBC} PH1\n  */\n  sIsObsoleteEnableAnAesgcmbased: '{PH1} is obsolete. Enable an AES-GCM-based cipher suite.',\n  /**\n  *@description A recommendation to the site owner to use a modern TLS server signature\n  */\n  theServerSignatureUsesShaWhichIs:\n      'The server signature uses SHA-1, which is obsolete. Enable a SHA-2 signature algorithm instead. (Note this is different from the signature in the certificate.)',\n  /**\n  *@description Summary phrase for a site that uses an outdated SSL settings (protocol, key exchange, or cipher).\n  */\n  obsoleteConnectionSettings: 'obsolete connection settings',\n  /**\n  *@description A title of the 'Resources' action category\n  */\n  resources: 'Resources',\n  /**\n  *@description Summary for page when there is active mixed content\n  */\n  activeMixedContent: 'active mixed content',\n  /**\n  *@description Description for page when there is active mixed content\n  */\n  youHaveRecentlyAllowedNonsecure:\n      'You have recently allowed non-secure content (such as scripts or iframes) to run on this site.',\n  /**\n  *@description Summary for page when there is mixed content\n  */\n  mixedContent: 'mixed content',\n  /**\n  *@description Description for page when there is mixed content\n  */\n  thisPageIncludesHttpResources: 'This page includes HTTP resources.',\n  /**\n  *@description Summary for page when there is a non-secure form\n  */\n  nonsecureForm: 'non-secure form',\n  /**\n  *@description Description for page when there is a non-secure form\n  */\n  thisPageIncludesAFormWithA: 'This page includes a form with a non-secure \"action\" attribute.',\n  /**\n  *@description Summary for the page when it contains active content with certificate error\n  */\n  activeContentWithCertificate: 'active content with certificate errors',\n  /**\n  *@description Description for the page when it contains active content with certificate error\n  */\n  youHaveRecentlyAllowedContent:\n      'You have recently allowed content loaded with certificate errors (such as scripts or iframes) to run on this site.',\n  /**\n  *@description Summary for page when there is active content with certificate errors\n  */\n  contentWithCertificateErrors: 'content with certificate errors',\n  /**\n  *@description Description for page when there is content with certificate errors\n  */\n  thisPageIncludesResourcesThat: 'This page includes resources that were loaded with certificate errors.',\n  /**\n  *@description Summary for page when all resources are served securely\n  */\n  allServedSecurely: 'all served securely',\n  /**\n  *@description Description for page when all resources are served securely\n  */\n  allResourcesOnThisPageAreServed: 'All resources on this page are served securely.',\n  /**\n  *@description Text in Security Panel of the Security panel\n  */\n  blockedMixedContent: 'Blocked mixed content',\n  /**\n  *@description Text in Security Panel of the Security panel\n  */\n  yourPageRequestedNonsecure: 'Your page requested non-secure resources that were blocked.',\n  /**\n  *@description Refresh prompt text content in Security Panel of the Security panel\n  */\n  reloadThePageToRecordRequestsFor: 'Reload the page to record requests for HTTP resources.',\n  /**\n  * @description Link text in the Security Panel. Clicking the link navigates the user to the\n  * Network panel. Requests refers to network requests. Each request is a piece of data transmitted\n  * from the current user's browser to a remote server.\n  */\n  viewDRequestsInNetworkPanel:\n      '{n, plural, =1 {View # request in Network Panel} other {View # requests in Network Panel}}',\n  /**\n  *@description Text for the origin of something\n  */\n  origin: 'Origin',\n  /**\n  *@description Text in Security Panel of the Security panel\n  */\n  viewRequestsInNetworkPanel: 'View requests in Network Panel',\n  /**\n  *@description Text for security or network protocol\n  */\n  protocol: 'Protocol',\n  /**\n  *@description Text in Security Panel of the Security panel\n  */\n  keyExchange: 'Key exchange',\n  /**\n  *@description Text in Security Panel of the Security panel\n  */\n  keyExchangeGroup: 'Key exchange group',\n  /**\n  *@description Text in Security Panel of the Security panel\n  */\n  cipher: 'Cipher',\n  /**\n  *@description Sct div text content in Security Panel of the Security panel\n  */\n  certificateTransparency: 'Certificate Transparency',\n  /**\n  *@description Text that refers to the subject of a security certificate\n  */\n  subject: 'Subject',\n  /**\n  *@description Text to show since when an item is valid\n  */\n  validFrom: 'Valid from',\n  /**\n  *@description Text to indicate the expiry date\n  */\n  validUntil: 'Valid until',\n  /**\n  *@description Text for the issuer of an item\n  */\n  issuer: 'Issuer',\n  /**\n  *@description Text in Security Panel of the Security panel\n  */\n  openFullCertificateDetails: 'Open full certificate details',\n  /**\n  *@description Text in Security Panel of the Security panel\n  */\n  sct: 'SCT',\n  /**\n  *@description Text in Security Panel of the Security panel\n  */\n  logName: 'Log name',\n  /**\n  *@description Text in Security Panel of the Security panel\n  */\n  logId: 'Log ID',\n  /**\n  *@description Text in Security Panel of the Security panel\n  */\n  validationStatus: 'Validation status',\n  /**\n  *@description Text for the source of something\n  */\n  source: 'Source',\n  /**\n  * @description Label for a date/time string in the Security panel. It indicates the time at which\n  * a security certificate was issued (created by an authority and distributed).\n  */\n  issuedAt: 'Issued at',\n  /**\n  *@description Text in Security Panel of the Security panel\n  */\n  hashAlgorithm: 'Hash algorithm',\n  /**\n  *@description Text in Security Panel of the Security panel\n  */\n  signatureAlgorithm: 'Signature algorithm',\n  /**\n  *@description Text in Security Panel of the Security panel\n  */\n  signatureData: 'Signature data',\n  /**\n  *@description Toggle scts details link text content in Security Panel of the Security panel\n  */\n  showFullDetails: 'Show full details',\n  /**\n  *@description Toggle scts details link text content in Security Panel of the Security panel\n  */\n  hideFullDetails: 'Hide full details',\n  /**\n  *@description Text in Security Panel of the Security panel\n  */\n  thisRequestCompliesWithChromes: 'This request complies with `Chrome`\\'s Certificate Transparency policy.',\n  /**\n  *@description Text in Security Panel of the Security panel\n  */\n  thisRequestDoesNotComplyWith: 'This request does not comply with `Chrome`\\'s Certificate Transparency policy.',\n  /**\n  *@description Text in Security Panel of the Security panel\n  */\n  thisResponseWasLoadedFromCache: 'This response was loaded from cache. Some security details might be missing.',\n  /**\n  *@description Text in Security Panel of the Security panel\n  */\n  theSecurityDetailsAboveAreFrom: 'The security details above are from the first inspected response.',\n  /**\n  *@description Main summary for where the site has a non-cryptographic secure origin.\n  */\n  thisOriginIsANonhttpsSecure: 'This origin is a non-HTTPS secure origin.',\n  /**\n  *@description Text in Security Panel of the Security panel\n  */\n  yourConnectionToThisOriginIsNot: 'Your connection to this origin is not secure.',\n  /**\n  *@description No info div text content in Security Panel of the Security panel\n  */\n  noSecurityInformation: 'No security information',\n  /**\n  *@description Text in Security Panel of the Security panel\n  */\n  noSecurityDetailsAreAvailableFor: 'No security details are available for this origin.',\n  /**\n  *@description San div text content in Security Panel of the Security panel\n  */\n  na: '(n/a)',\n  /**\n  *@description Text to show less content\n  */\n  showLess: 'Show less',\n  /**\n  *@description Truncated santoggle text content in Security Panel of the Security panel\n  *@example {2} PH1\n  */\n  showMoreSTotal: 'Show more ({PH1} total)',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/security/SecurityPanel.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nlet securityPanelInstance: SecurityPanel;\n\nexport class SecurityPanel extends UI.Panel.PanelWithSidebar implements\n    SDK.TargetManager.SDKModelObserver<SecurityModel> {\n  _mainView: SecurityMainView;\n  _sidebarMainViewElement: SecurityPanelSidebarTreeElement;\n  _sidebarTree: SecurityPanelSidebarTree;\n  _lastResponseReceivedForLoaderId: Map<string, SDK.NetworkRequest.NetworkRequest>;\n  _origins: Map<string, OriginState>;\n  _filterRequestCounts: Map<string, number>;\n  _visibleView: UI.Widget.VBox|null;\n  _eventListeners: Common.EventTarget.EventDescriptor[];\n  _securityModel: SecurityModel|null;\n\n  private constructor() {\n    super('security');\n\n    this._mainView = new SecurityMainView(this);\n\n    const title = document.createElement('span');\n    title.classList.add('title');\n    title.textContent = i18nString(UIStrings.overview);\n    this._sidebarMainViewElement = new SecurityPanelSidebarTreeElement(\n        title, this._setVisibleView.bind(this, this._mainView), 'security-main-view-sidebar-tree-item', 'lock-icon');\n    this._sidebarMainViewElement.tooltip = title.textContent;\n    this._sidebarTree = new SecurityPanelSidebarTree(this._sidebarMainViewElement, this.showOrigin.bind(this));\n    this.panelSidebarElement().appendChild(this._sidebarTree.element);\n\n    this._lastResponseReceivedForLoaderId = new Map();\n\n    this._origins = new Map();\n\n    this._filterRequestCounts = new Map();\n\n    SDK.TargetManager.TargetManager.instance().observeModels(SecurityModel, this);\n\n    this._visibleView = null;\n    this._eventListeners = [];\n    this._securityModel = null;\n  }\n\n  static instance(opts: {forceNew: boolean|null} = {forceNew: null}): SecurityPanel {\n    const {forceNew} = opts;\n    if (!securityPanelInstance || forceNew) {\n      securityPanelInstance = new SecurityPanel();\n    }\n\n    return securityPanelInstance;\n  }\n\n  static _instance(): SecurityPanel {\n    return SecurityPanel.instance();\n  }\n\n  static createCertificateViewerButtonForOrigin(text: string, origin: string): Element {\n    const certificateButton = UI.UIUtils.createTextButton(text, async (e: Event) => {\n      e.consume();\n      const names = await SDK.NetworkManager.MultitargetNetworkManager.instance().getCertificate(origin);\n      if (names.length > 0) {\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance.showCertificateViewer(names);\n      }\n    }, 'origin-button');\n    UI.ARIAUtils.markAsButton(certificateButton);\n    return certificateButton;\n  }\n\n  static createCertificateViewerButtonForCert(text: string, names: string[]): Element {\n    const certificateButton = UI.UIUtils.createTextButton(text, e => {\n      e.consume();\n      Host.InspectorFrontendHost.InspectorFrontendHostInstance.showCertificateViewer(names);\n    }, 'origin-button');\n    UI.ARIAUtils.markAsButton(certificateButton);\n    return certificateButton;\n  }\n\n  static createHighlightedUrl(url: string, securityState: string): Element {\n    const schemeSeparator = '://';\n    const index = url.indexOf(schemeSeparator);\n\n    // If the separator is not found, just display the text without highlighting.\n    if (index === -1) {\n      const text = document.createElement('span');\n      text.textContent = url;\n      return text;\n    }\n\n    const highlightedUrl = document.createElement('span');\n\n    const scheme = url.substr(0, index);\n    const content = url.substr(index + schemeSeparator.length);\n    highlightedUrl.createChild('span', 'url-scheme-' + securityState).textContent = scheme;\n    highlightedUrl.createChild('span', 'url-scheme-separator').textContent = schemeSeparator;\n    highlightedUrl.createChild('span').textContent = content;\n\n    return highlightedUrl;\n  }\n\n  _updateSecurityState(\n      newSecurityState: Protocol.Security.SecurityState, explanations: Protocol.Security.SecurityStateExplanation[],\n      summary: string|null): void {\n    this._sidebarMainViewElement.setSecurityState(newSecurityState);\n    this._mainView.updateSecurityState(newSecurityState, explanations, summary);\n  }\n\n  _onSecurityStateChanged(event: Common.EventTarget.EventTargetEvent): void {\n    const data = event.data as PageSecurityState;\n    const securityState = data.securityState as Protocol.Security.SecurityState;\n    const explanations = data.explanations as Protocol.Security.SecurityStateExplanation[];\n    const summary = data.summary as string | null;\n    this._updateSecurityState(securityState, explanations, summary);\n  }\n\n  _updateVisibleSecurityState(visibleSecurityState: PageVisibleSecurityState): void {\n    this._sidebarMainViewElement.setSecurityState(visibleSecurityState.securityState);\n    this._mainView.updateVisibleSecurityState(visibleSecurityState);\n  }\n\n  _onVisibleSecurityStateChanged(event: Common.EventTarget.EventTargetEvent): void {\n    const data = event.data as PageVisibleSecurityState;\n    this._updateVisibleSecurityState(data);\n  }\n\n  selectAndSwitchToMainView(): void {\n    // The sidebar element will trigger displaying the main view. Rather than making a redundant call to display the main view, we rely on this.\n    this._sidebarMainViewElement.select(true);\n  }\n  showOrigin(origin: string): void {\n    const originState = this._origins.get(origin);\n    if (!originState) {\n      return;\n    }\n    if (!originState.originView) {\n      originState.originView = new SecurityOriginView(this, origin, originState);\n    }\n\n    this._setVisibleView(originState.originView);\n  }\n\n  wasShown(): void {\n    super.wasShown();\n    if (!this._visibleView) {\n      this.selectAndSwitchToMainView();\n    }\n  }\n\n  focus(): void {\n    this._sidebarTree.focus();\n  }\n\n  _setVisibleView(view: UI.Widget.VBox): void {\n    if (this._visibleView === view) {\n      return;\n    }\n\n    if (this._visibleView) {\n      this._visibleView.detach();\n    }\n\n    this._visibleView = view;\n\n    if (view) {\n      this.splitWidget().setMainWidget(view);\n    }\n  }\n\n  _onResponseReceived(event: Common.EventTarget.EventTargetEvent): void {\n    const request = event.data.request as SDK.NetworkRequest.NetworkRequest;\n    if (request.resourceType() === Common.ResourceType.resourceTypes.Document) {\n      this._lastResponseReceivedForLoaderId.set(request.loaderId, request);\n    }\n  }\n\n  _processRequest(request: SDK.NetworkRequest.NetworkRequest): void {\n    const origin = Common.ParsedURL.ParsedURL.extractOrigin(request.url());\n\n    if (!origin) {\n      // We don't handle resources like data: URIs. Most of them don't affect the lock icon.\n      return;\n    }\n\n    let securityState: Protocol.Security.SecurityState.Insecure|Protocol.Security.SecurityState =\n        request.securityState() as Protocol.Security.SecurityState;\n\n    if (request.mixedContentType === Protocol.Security.MixedContentType.Blockable ||\n        request.mixedContentType === Protocol.Security.MixedContentType.OptionallyBlockable) {\n      securityState = Protocol.Security.SecurityState.Insecure;\n    }\n\n    const originState = this._origins.get(origin);\n    if (originState) {\n      const oldSecurityState = originState.securityState;\n      originState.securityState = this._securityStateMin(oldSecurityState, securityState);\n      if (oldSecurityState !== originState.securityState) {\n        const securityDetails = request.securityDetails() as Protocol.Network.SecurityDetails | null;\n        if (securityDetails) {\n          originState.securityDetails = securityDetails;\n        }\n        this._sidebarTree.updateOrigin(origin, securityState);\n        if (originState.originView) {\n          originState.originView.setSecurityState(securityState);\n        }\n      }\n    } else {\n      // This stores the first security details we see for an origin, but we should\n      // eventually store a (deduplicated) list of all the different security\n      // details we have seen. https://crbug.com/503170\n      const newOriginState: OriginState = {\n        securityState,\n        securityDetails: request.securityDetails(),\n        loadedFromCache: request.cached(),\n        originView: undefined,\n      };\n      this._origins.set(origin, newOriginState);\n\n      this._sidebarTree.addOrigin(origin, securityState);\n\n      // Don't construct the origin view yet (let it happen lazily).\n    }\n  }\n\n  _onRequestFinished(event: Common.EventTarget.EventTargetEvent): void {\n    const request = event.data as SDK.NetworkRequest.NetworkRequest;\n    this._updateFilterRequestCounts(request);\n    this._processRequest(request);\n  }\n\n  _updateFilterRequestCounts(request: SDK.NetworkRequest.NetworkRequest): void {\n    if (request.mixedContentType === Protocol.Security.MixedContentType.None) {\n      return;\n    }\n\n    let filterKey: string = Network.NetworkLogView.MixedContentFilterValues.All;\n    if (request.wasBlocked()) {\n      filterKey = Network.NetworkLogView.MixedContentFilterValues.Blocked;\n    } else if (request.mixedContentType === Protocol.Security.MixedContentType.Blockable) {\n      filterKey = Network.NetworkLogView.MixedContentFilterValues.BlockOverridden;\n    } else if (request.mixedContentType === Protocol.Security.MixedContentType.OptionallyBlockable) {\n      filterKey = Network.NetworkLogView.MixedContentFilterValues.Displayed;\n    }\n\n    const currentCount = this._filterRequestCounts.get(filterKey);\n    if (!currentCount) {\n      this._filterRequestCounts.set(filterKey, 1);\n    } else {\n      this._filterRequestCounts.set(filterKey, currentCount + 1);\n    }\n\n    this._mainView.refreshExplanations();\n  }\n\n  filterRequestCount(filterKey: string): number {\n    return this._filterRequestCounts.get(filterKey) || 0;\n  }\n\n  _securityStateMin(stateA: Protocol.Security.SecurityState, stateB: Protocol.Security.SecurityState):\n      Protocol.Security.SecurityState {\n    return SecurityModel.SecurityStateComparator(stateA, stateB) < 0 ? stateA : stateB;\n  }\n\n  modelAdded(securityModel: SecurityModel): void {\n    if (this._securityModel) {\n      return;\n    }\n\n    this._securityModel = securityModel;\n    const resourceTreeModel = securityModel.resourceTreeModel();\n    const networkManager = securityModel.networkManager();\n    this._eventListeners = [\n      securityModel.addEventListener(Events.VisibleSecurityStateChanged, this._onVisibleSecurityStateChanged, this),\n      resourceTreeModel.addEventListener(\n          SDK.ResourceTreeModel.Events.MainFrameNavigated, this._onMainFrameNavigated, this),\n      resourceTreeModel.addEventListener(\n          SDK.ResourceTreeModel.Events.InterstitialShown, this._onInterstitialShown, this),\n      resourceTreeModel.addEventListener(\n          SDK.ResourceTreeModel.Events.InterstitialHidden, this._onInterstitialHidden, this),\n      networkManager.addEventListener(SDK.NetworkManager.Events.ResponseReceived, this._onResponseReceived, this),\n      networkManager.addEventListener(SDK.NetworkManager.Events.RequestFinished, this._onRequestFinished, this),\n    ];\n\n    if (resourceTreeModel.isInterstitialShowing()) {\n      this._onInterstitialShown();\n    }\n  }\n\n  modelRemoved(securityModel: SecurityModel): void {\n    if (this._securityModel !== securityModel) {\n      return;\n    }\n\n    this._securityModel = null;\n    Common.EventTarget.EventTarget.removeEventListeners(this._eventListeners);\n  }\n\n  _onMainFrameNavigated(event: Common.EventTarget.EventTargetEvent): void {\n    const frame = event.data as Protocol.Page.Frame;\n    const request = this._lastResponseReceivedForLoaderId.get(frame.loaderId);\n\n    this.selectAndSwitchToMainView();\n    this._sidebarTree.clearOrigins();\n    this._origins.clear();\n    this._lastResponseReceivedForLoaderId.clear();\n    this._filterRequestCounts.clear();\n    // After clearing the filtered request counts, refresh the\n    // explanations to reflect the new counts.\n    this._mainView.refreshExplanations();\n\n    // If we could not find a matching request (as in the case of clicking\n    // through an interstitial, see https://crbug.com/669309), set the origin\n    // based upon the url data from the MainFrameNavigated event itself.\n    const origin = Common.ParsedURL.ParsedURL.extractOrigin(request ? request.url() : frame.url);\n    this._sidebarTree.setMainOrigin(origin);\n\n    if (request) {\n      this._processRequest(request);\n    }\n  }\n\n  _onInterstitialShown(): void {\n    // The panel might have been displaying the origin view on the\n    // previously loaded page. When showing an interstitial, switch\n    // back to the Overview view.\n    this.selectAndSwitchToMainView();\n    this._sidebarTree.toggleOriginsList(true /* hidden */);\n  }\n\n  _onInterstitialHidden(): void {\n    this._sidebarTree.toggleOriginsList(false /* hidden */);\n  }\n}\n\nexport class SecurityPanelSidebarTree extends UI.TreeOutline.TreeOutlineInShadow {\n  _showOriginInPanel: (arg0: Origin) => void;\n  _mainOrigin: string|null;\n  _originGroupTitles: Map<OriginGroup, string>;\n  _originGroups: Map<OriginGroup, UI.TreeOutline.TreeElement>;\n  _elementsByOrigin: Map<string, SecurityPanelSidebarTreeElement>;\n  constructor(mainViewElement: SecurityPanelSidebarTreeElement, showOriginInPanel: (arg0: Origin) => void) {\n    super();\n    this.registerRequiredCSS('panels/security/sidebar.css', {enableLegacyPatching: false});\n    this.registerRequiredCSS('panels/security/lockIcon.css', {enableLegacyPatching: false});\n    this.appendChild(mainViewElement);\n\n    this._showOriginInPanel = showOriginInPanel;\n    this._mainOrigin = null;\n\n    this._originGroupTitles = new Map([\n      [OriginGroup.MainOrigin, i18nString(UIStrings.mainOrigin)],\n      [OriginGroup.NonSecure, i18nString(UIStrings.nonsecureOrigins)],\n      [OriginGroup.Secure, i18nString(UIStrings.secureOrigins)],\n      [OriginGroup.Unknown, i18nString(UIStrings.unknownCanceled)],\n    ]);\n\n    this._originGroups = new Map();\n    for (const group of Object.values(OriginGroup)) {\n      const element = this._createOriginGroupElement(this._originGroupTitles.get(group) as string);\n      this._originGroups.set(group, element);\n      this.appendChild(element);\n    }\n\n    this._clearOriginGroups();\n\n    // This message will be removed by clearOrigins() during the first new page load after the panel was opened.\n    const mainViewReloadMessage = new UI.TreeOutline.TreeElement(i18nString(UIStrings.reloadToViewDetails));\n    mainViewReloadMessage.selectable = false;\n    mainViewReloadMessage.listItemElement.classList.add('security-main-view-reload-message');\n    const treeElement = this._originGroups.get(OriginGroup.MainOrigin);\n    (treeElement as UI.TreeOutline.TreeElement).appendChild(mainViewReloadMessage);\n\n    this._elementsByOrigin = new Map();\n  }\n\n  _originGroupTitle(originGroup: OriginGroup): string {\n    return /** @type {string} */ this._originGroupTitles.get(originGroup) as string;\n  }\n\n  _originGroupElement(originGroup: OriginGroup): UI.TreeOutline.TreeElement {\n    return /** @type {!UI.TreeOutline.TreeElement} */ this._originGroups.get(originGroup) as UI.TreeOutline.TreeElement;\n  }\n\n  _createOriginGroupElement(originGroupTitle: string): UI.TreeOutline.TreeElement {\n    const originGroup = new UI.TreeOutline.TreeElement(originGroupTitle, true);\n    originGroup.selectable = false;\n    originGroup.setCollapsible(false);\n    originGroup.expand();\n    originGroup.listItemElement.classList.add('security-sidebar-origins');\n    UI.ARIAUtils.setAccessibleName(originGroup.childrenListElement, originGroupTitle);\n    return originGroup;\n  }\n\n  toggleOriginsList(hidden: boolean): void {\n    for (const element of this._originGroups.values()) {\n      element.hidden = hidden;\n    }\n  }\n\n  addOrigin(origin: string, securityState: Protocol.Security.SecurityState): void {\n    const originElement = new SecurityPanelSidebarTreeElement(\n        SecurityPanel.createHighlightedUrl(origin, securityState), this._showOriginInPanel.bind(this, origin),\n        'security-sidebar-tree-item', 'security-property');\n    originElement.tooltip = origin;\n    this._elementsByOrigin.set(origin, originElement);\n    this.updateOrigin(origin, securityState);\n  }\n\n  setMainOrigin(origin: string): void {\n    this._mainOrigin = origin;\n  }\n\n  updateOrigin(origin: string, securityState: Protocol.Security.SecurityState): void {\n    const originElement = this._elementsByOrigin.get(origin) as SecurityPanelSidebarTreeElement;\n    originElement.setSecurityState(securityState);\n\n    let newParent: UI.TreeOutline.TreeElement;\n    if (origin === this._mainOrigin) {\n      newParent = this._originGroups.get(OriginGroup.MainOrigin) as UI.TreeOutline.TreeElement;\n      if (securityState === Protocol.Security.SecurityState.Secure) {\n        newParent.title = i18nString(UIStrings.mainOriginSecure);\n      } else {\n        newParent.title = i18nString(UIStrings.mainOriginNonsecure);\n      }\n      UI.ARIAUtils.setAccessibleName(newParent.childrenListElement, newParent.title);\n    } else {\n      switch (securityState) {\n        case Protocol.Security.SecurityState.Secure:\n          newParent = this._originGroupElement(OriginGroup.Secure);\n          break;\n        case Protocol.Security.SecurityState.Unknown:\n          newParent = this._originGroupElement(OriginGroup.Unknown);\n          break;\n        default:\n          newParent = this._originGroupElement(OriginGroup.NonSecure);\n          break;\n      }\n    }\n\n    const oldParent = originElement.parent;\n    if (oldParent !== newParent) {\n      if (oldParent) {\n        oldParent.removeChild(originElement);\n        if (oldParent.childCount() === 0) {\n          oldParent.hidden = true;\n        }\n      }\n      newParent.appendChild(originElement);\n      newParent.hidden = false;\n    }\n  }\n\n  _clearOriginGroups(): void {\n    for (const originGroup of this._originGroups.values()) {\n      originGroup.removeChildren();\n      originGroup.hidden = true;\n    }\n    const mainOrigin = this._originGroupElement(OriginGroup.MainOrigin);\n    mainOrigin.title = this._originGroupTitle(OriginGroup.MainOrigin);\n    mainOrigin.hidden = false;\n  }\n\n  clearOrigins(): void {\n    this._clearOriginGroups();\n    this._elementsByOrigin.clear();\n  }\n}\n\n// TODO(crbug.com/1167717): Make this a const enum again\n// eslint-disable-next-line rulesdir/const_enum\nexport enum OriginGroup {\n  MainOrigin = 'MainOrigin',\n  NonSecure = 'NonSecure',\n  Secure = 'Secure',\n  Unknown = 'Unknown',\n}\n\nexport class SecurityPanelSidebarTreeElement extends UI.TreeOutline.TreeElement {\n  _selectCallback: () => void;\n  _cssPrefix: string;\n  _iconElement: HTMLElement;\n  _securityState: Protocol.Security.SecurityState|null;\n\n  constructor(textElement: Element, selectCallback: () => void, className: string, cssPrefix: string) {\n    super('', false);\n    this._selectCallback = selectCallback;\n    this._cssPrefix = cssPrefix;\n    this.listItemElement.classList.add(className);\n    this._iconElement = this.listItemElement.createChild('div', 'icon');\n    this._iconElement.classList.add(this._cssPrefix);\n    this.listItemElement.appendChild(textElement);\n    this._securityState = null;\n    this.setSecurityState(Protocol.Security.SecurityState.Unknown);\n  }\n\n  setSecurityState(newSecurityState: Protocol.Security.SecurityState): void {\n    if (this._securityState) {\n      this._iconElement.classList.remove(this._cssPrefix + '-' + this._securityState);\n    }\n\n    this._securityState = newSecurityState;\n    this._iconElement.classList.add(this._cssPrefix + '-' + newSecurityState);\n  }\n\n  securityState(): Protocol.Security.SecurityState|null {\n    return this._securityState;\n  }\n\n  onselect(): boolean {\n    this._selectCallback();\n    return true;\n  }\n}\n\nexport class SecurityMainView extends UI.Widget.VBox {\n  _panel: SecurityPanel;\n  _summarySection: HTMLElement;\n  _securityExplanationsMain: HTMLElement;\n  _securityExplanationsExtra: HTMLElement;\n  _lockSpectrum: Map<Protocol.Security.SecurityState, HTMLElement>;\n  _summaryText: HTMLElement;\n  _explanations: (Protocol.Security.SecurityStateExplanation|SecurityStyleExplanation)[]|null;\n  _securityState: Protocol.Security.SecurityState|null;\n  constructor(panel: SecurityPanel) {\n    super(true);\n    this.registerRequiredCSS('panels/security/mainView.css', {enableLegacyPatching: false});\n    this.registerRequiredCSS('panels/security/lockIcon.css', {enableLegacyPatching: false});\n    this.setMinimumSize(200, 100);\n\n    this.contentElement.classList.add('security-main-view');\n\n    this._panel = panel;\n\n    this._summarySection = this.contentElement.createChild('div', 'security-summary');\n\n    // Info explanations should appear after all others.\n    this._securityExplanationsMain =\n        this.contentElement.createChild('div', 'security-explanation-list security-explanations-main');\n    this._securityExplanationsExtra =\n        this.contentElement.createChild('div', 'security-explanation-list security-explanations-extra');\n\n    // Fill the security summary section.\n    const summaryDiv = this._summarySection.createChild('div', 'security-summary-section-title');\n    summaryDiv.textContent = i18nString(UIStrings.securityOverview);\n    UI.ARIAUtils.markAsHeading(summaryDiv, 1);\n\n    const lockSpectrum = this._summarySection.createChild('div', 'lock-spectrum');\n    this._lockSpectrum = new Map([\n      [Protocol.Security.SecurityState.Secure, lockSpectrum.createChild('div', 'lock-icon lock-icon-secure')],\n      [Protocol.Security.SecurityState.Neutral, lockSpectrum.createChild('div', 'lock-icon lock-icon-neutral')],\n      [Protocol.Security.SecurityState.Insecure, lockSpectrum.createChild('div', 'lock-icon lock-icon-insecure')],\n    ]);\n    UI.Tooltip.Tooltip.install(\n        this.getLockSpectrumDiv(Protocol.Security.SecurityState.Secure), i18nString(UIStrings.secure));\n    UI.Tooltip.Tooltip.install(\n        this.getLockSpectrumDiv(Protocol.Security.SecurityState.Neutral), i18nString(UIStrings.info));\n    UI.Tooltip.Tooltip.install(\n        this.getLockSpectrumDiv(Protocol.Security.SecurityState.Insecure), i18nString(UIStrings.notSecure));\n\n    this._summarySection.createChild('div', 'triangle-pointer-container')\n        .createChild('div', 'triangle-pointer-wrapper')\n        .createChild('div', 'triangle-pointer');\n\n    this._summaryText = this._summarySection.createChild('div', 'security-summary-text');\n    UI.ARIAUtils.markAsHeading(this._summaryText, 2);\n\n    this._explanations = null;\n    this._securityState = null;\n  }\n\n  getLockSpectrumDiv(securityState: Protocol.Security.SecurityState): HTMLElement {\n    const element = this._lockSpectrum.get(securityState);\n    if (!element) {\n      throw new Error(`Invalid argument: ${securityState}`);\n    }\n    return element;\n  }\n\n  _addExplanation(parent: Element, explanation: Protocol.Security.SecurityStateExplanation|SecurityStyleExplanation):\n      Element {\n    const explanationSection = parent.createChild('div', 'security-explanation');\n    explanationSection.classList.add('security-explanation-' + explanation.securityState);\n\n    explanationSection.createChild('div', 'security-property')\n        .classList.add('security-property-' + explanation.securityState);\n    const text = explanationSection.createChild('div', 'security-explanation-text');\n\n    const explanationHeader = text.createChild('div', 'security-explanation-title');\n\n    if (explanation.title) {\n      explanationHeader.createChild('span').textContent = explanation.title + ' - ';\n      explanationHeader.createChild('span', 'security-explanation-title-' + explanation.securityState).textContent =\n          explanation.summary;\n    } else {\n      explanationHeader.textContent = explanation.summary;\n    }\n\n    text.createChild('div').textContent = explanation.description;\n\n    if (explanation.certificate.length) {\n      text.appendChild(SecurityPanel.createCertificateViewerButtonForCert(\n          i18nString(UIStrings.viewCertificate), explanation.certificate));\n    }\n\n    if (explanation.recommendations && explanation.recommendations.length) {\n      const recommendationList = text.createChild('ul', 'security-explanation-recommendations');\n      for (const recommendation of explanation.recommendations) {\n        recommendationList.createChild('li').textContent = recommendation;\n      }\n    }\n    return text;\n  }\n\n  updateSecurityState(\n      newSecurityState: Protocol.Security.SecurityState, explanations: Protocol.Security.SecurityStateExplanation[],\n      summary: string|null): void {\n    // Remove old state.\n    // It's safe to call this even when this._securityState is undefined.\n    this._summarySection.classList.remove('security-summary-' + this._securityState);\n\n    // Add new state.\n    this._securityState = newSecurityState;\n\n    this._summarySection.classList.add('security-summary-' + this._securityState);\n    const summaryExplanationStrings = new Map<Protocol.Security.SecurityState, string>([\n      [Protocol.Security.SecurityState.Unknown, i18nString(UIStrings.theSecurityOfThisPageIsUnknown)],\n      [Protocol.Security.SecurityState.Insecure, i18nString(UIStrings.thisPageIsNotSecure)],\n      [Protocol.Security.SecurityState.Neutral, i18nString(UIStrings.thisPageIsNotSecure)],\n      [Protocol.Security.SecurityState.Secure, i18nString(UIStrings.thisPageIsSecureValidHttps)],\n      [Protocol.Security.SecurityState.InsecureBroken, i18nString(UIStrings.thisPageIsNotSecureBrokenHttps)],\n    ]);\n\n    // Update the color and title of the triangle icon in the lock spectrum to\n    // match the security state.\n    if (this._securityState === Protocol.Security.SecurityState.Insecure) {\n      this.getLockSpectrumDiv(Protocol.Security.SecurityState.Insecure).classList.add('lock-icon-insecure');\n      this.getLockSpectrumDiv(Protocol.Security.SecurityState.Insecure).classList.remove('lock-icon-insecure-broken');\n      UI.Tooltip.Tooltip.install(\n          this.getLockSpectrumDiv(Protocol.Security.SecurityState.Insecure), i18nString(UIStrings.notSecure));\n    } else if (this._securityState === Protocol.Security.SecurityState.InsecureBroken) {\n      this.getLockSpectrumDiv(Protocol.Security.SecurityState.Insecure).classList.add('lock-icon-insecure-broken');\n      this.getLockSpectrumDiv(Protocol.Security.SecurityState.Insecure).classList.remove('lock-icon-insecure');\n      UI.Tooltip.Tooltip.install(\n          this.getLockSpectrumDiv(Protocol.Security.SecurityState.Insecure), i18nString(UIStrings.notSecureBroken));\n    }\n\n    // Use override summary if present, otherwise use base explanation\n    this._summaryText.textContent = summary || summaryExplanationStrings.get(this._securityState) || '';\n\n    this._explanations = explanations;\n\n    this.refreshExplanations();\n  }\n\n  updateVisibleSecurityState(visibleSecurityState: PageVisibleSecurityState): void {\n    // Remove old state.\n    // It's safe to call this even when this._securityState is undefined.\n    this._summarySection.classList.remove('security-summary-' + this._securityState);\n\n    // Add new state.\n    this._securityState = visibleSecurityState.securityState;\n    this._summarySection.classList.add('security-summary-' + this._securityState);\n\n    // Update the color and title of the triangle icon in the lock spectrum to\n    // match the security state.\n    if (this._securityState === Protocol.Security.SecurityState.Insecure) {\n      this.getLockSpectrumDiv(Protocol.Security.SecurityState.Insecure).classList.add('lock-icon-insecure');\n      this.getLockSpectrumDiv(Protocol.Security.SecurityState.Insecure).classList.remove('lock-icon-insecure-broken');\n      UI.Tooltip.Tooltip.install(\n          this.getLockSpectrumDiv(Protocol.Security.SecurityState.Insecure), i18nString(UIStrings.notSecure));\n    } else if (this._securityState === Protocol.Security.SecurityState.InsecureBroken) {\n      this.getLockSpectrumDiv(Protocol.Security.SecurityState.Insecure).classList.add('lock-icon-insecure-broken');\n      this.getLockSpectrumDiv(Protocol.Security.SecurityState.Insecure).classList.remove('lock-icon-insecure');\n      UI.Tooltip.Tooltip.install(\n          this.getLockSpectrumDiv(Protocol.Security.SecurityState.Insecure), i18nString(UIStrings.notSecureBroken));\n    }\n\n    const {summary, explanations} = this._getSecuritySummaryAndExplanations(visibleSecurityState);\n    // Use override summary if present, otherwise use base explanation\n    this._summaryText.textContent = summary || SummaryMessages[this._securityState]();\n\n    this._explanations = this._orderExplanations(explanations);\n\n    this.refreshExplanations();\n  }\n\n  _getSecuritySummaryAndExplanations(visibleSecurityState: PageVisibleSecurityState):\n      {summary: (string|undefined), explanations: Array<SecurityStyleExplanation>} {\n    const {securityState, securityStateIssueIds} = visibleSecurityState;\n    let summary;\n    const explanations: SecurityStyleExplanation[] = [];\n    summary = this._explainSafetyTipSecurity(visibleSecurityState, summary, explanations);\n    if (securityStateIssueIds.includes('malicious-content')) {\n      summary = i18nString(UIStrings.thisPageIsDangerousFlaggedBy);\n      // Always insert SafeBrowsing explanation at the front.\n      explanations.unshift(new SecurityStyleExplanation(\n          Protocol.Security.SecurityState.Insecure, undefined, i18nString(UIStrings.flaggedByGoogleSafeBrowsing),\n          i18nString(UIStrings.toCheckThisPagesStatusVisit)));\n    } else if (\n        securityStateIssueIds.includes('is-error-page') &&\n        (visibleSecurityState.certificateSecurityState === null ||\n         visibleSecurityState.certificateSecurityState.certificateNetworkError === null)) {\n      summary = i18nString(UIStrings.thisIsAnErrorPage);\n      // In the case of a non cert error page, we usually don't have a\n      // certificate, connection, or content that needs to be explained, e.g. in\n      // the case of a net error, so we can early return.\n      return {summary, explanations};\n    } else if (\n        securityState === Protocol.Security.SecurityState.InsecureBroken &&\n        securityStateIssueIds.includes('scheme-is-not-cryptographic')) {\n      summary = summary || i18nString(UIStrings.thisPageIsInsecureUnencrypted);\n    }\n\n    if (securityStateIssueIds.includes('scheme-is-not-cryptographic')) {\n      if (securityState === Protocol.Security.SecurityState.Neutral &&\n          !securityStateIssueIds.includes('insecure-origin')) {\n        summary = i18nString(UIStrings.thisPageHasANonhttpsSecureOrigin);\n      }\n      return {summary, explanations};\n    }\n\n    this._explainCertificateSecurity(visibleSecurityState, explanations);\n    this._explainConnectionSecurity(visibleSecurityState, explanations);\n    this._explainContentSecurity(visibleSecurityState, explanations);\n    return {summary, explanations};\n  }\n\n  _explainSafetyTipSecurity(\n      visibleSecurityState: PageVisibleSecurityState, summary: string|undefined,\n      explanations: SecurityStyleExplanation[]): string|undefined {\n    const {securityStateIssueIds, safetyTipInfo} = visibleSecurityState;\n    const currentExplanations = [];\n\n    if (securityStateIssueIds.includes('bad_reputation')) {\n      const formatedDescription = `${i18nString(UIStrings.chromeHasDeterminedThatThisSiteS)}\\n\\n${\n          i18nString(UIStrings.ifYouBelieveThisIsShownIn)}`;\n      currentExplanations.push({\n        summary: i18nString(UIStrings.thisPageIsSuspicious),\n        description: formatedDescription,\n      });\n    } else if (securityStateIssueIds.includes('lookalike') && safetyTipInfo && safetyTipInfo.safeUrl) {\n      const hostname = new URL(safetyTipInfo.safeUrl).hostname;\n      const hostnamePlaceholder = {PH1: hostname};\n      const formatedDescriptionSafety =\n          `${i18nString(UIStrings.thisSitesHostnameLooksSimilarToP, hostnamePlaceholder)}\\n\\n${\n              i18nString(UIStrings.ifYouBelieveThisIsShownInErrorSafety)}`;\n      currentExplanations.push(\n          {summary: i18nString(UIStrings.possibleSpoofingUrl), description: formatedDescriptionSafety});\n    }\n\n    if (currentExplanations.length > 0) {\n      // To avoid overwriting SafeBrowsing's title, set the main summary only if\n      // it's empty. The title set here can be overridden by later checks (e.g.\n      // bad HTTP).\n      summary = summary || i18nString(UIStrings.thisPageIsSuspiciousFlaggedBy);\n      explanations.push(new SecurityStyleExplanation(\n          Protocol.Security.SecurityState.Insecure, undefined, currentExplanations[0].summary,\n          currentExplanations[0].description));\n    }\n    return summary;\n  }\n\n  _explainCertificateSecurity(visibleSecurityState: PageVisibleSecurityState, explanations: SecurityStyleExplanation[]):\n      void {\n    const {certificateSecurityState, securityStateIssueIds} = visibleSecurityState;\n    const title = i18nString(UIStrings.certificate);\n    if (certificateSecurityState && certificateSecurityState.certificateHasSha1Signature) {\n      const explanationSummary = i18nString(UIStrings.insecureSha);\n      const description = i18nString(UIStrings.theCertificateChainForThisSite);\n      if (certificateSecurityState.certificateHasWeakSignature) {\n        explanations.push(new SecurityStyleExplanation(\n            Protocol.Security.SecurityState.Insecure, title, explanationSummary, description,\n            certificateSecurityState.certificate, Protocol.Security.MixedContentType.None));\n      } else {\n        explanations.push(new SecurityStyleExplanation(\n            Protocol.Security.SecurityState.Neutral, title, explanationSummary, description,\n            certificateSecurityState.certificate, Protocol.Security.MixedContentType.None));\n      }\n    }\n\n    if (certificateSecurityState && securityStateIssueIds.includes('cert-missing-subject-alt-name')) {\n      explanations.push(new SecurityStyleExplanation(\n          Protocol.Security.SecurityState.Insecure, title, i18nString(UIStrings.subjectAlternativeNameMissing),\n          i18nString(UIStrings.theCertificateForThisSiteDoesNot), certificateSecurityState.certificate,\n          Protocol.Security.MixedContentType.None));\n    }\n\n    if (certificateSecurityState && certificateSecurityState.certificateNetworkError !== null) {\n      explanations.push(new SecurityStyleExplanation(\n          Protocol.Security.SecurityState.Insecure, title, i18nString(UIStrings.missing),\n          i18nString(UIStrings.thisSiteIsMissingAValidTrusted, {PH1: certificateSecurityState.certificateNetworkError}),\n          certificateSecurityState.certificate, Protocol.Security.MixedContentType.None));\n    } else if (certificateSecurityState && !certificateSecurityState.certificateHasSha1Signature) {\n      explanations.push(new SecurityStyleExplanation(\n          Protocol.Security.SecurityState.Secure, title, i18nString(UIStrings.validAndTrusted),\n          i18nString(UIStrings.theConnectionToThisSiteIsUsingA, {PH1: certificateSecurityState.issuer}),\n          certificateSecurityState.certificate, Protocol.Security.MixedContentType.None));\n    }\n\n    if (securityStateIssueIds.includes('pkp-bypassed')) {\n      explanations.push(new SecurityStyleExplanation(\n          Protocol.Security.SecurityState.Info, title, i18nString(UIStrings.publickeypinningBypassed),\n          i18nString(UIStrings.publickeypinningWasBypassedByA)));\n    }\n\n    if (certificateSecurityState && certificateSecurityState.isCertificateExpiringSoon()) {\n      explanations.push(new SecurityStyleExplanation(\n          Protocol.Security.SecurityState.Info, undefined, i18nString(UIStrings.certificateExpiresSoon),\n          i18nString(UIStrings.theCertificateForThisSiteExpires)));\n    }\n  }\n\n  _explainConnectionSecurity(visibleSecurityState: PageVisibleSecurityState, explanations: SecurityStyleExplanation[]):\n      void {\n    const certificateSecurityState = visibleSecurityState.certificateSecurityState;\n    if (!certificateSecurityState) {\n      return;\n    }\n\n    const title = i18nString(UIStrings.connection);\n    if (certificateSecurityState.modernSSL) {\n      explanations.push(new SecurityStyleExplanation(\n          Protocol.Security.SecurityState.Secure, title, i18nString(UIStrings.secureConnectionSettings),\n          i18nString(UIStrings.theConnectionToThisSiteIs, {\n            PH1: certificateSecurityState.protocol,\n            PH2: certificateSecurityState.getKeyExchangeName(),\n            PH3: certificateSecurityState.getCipherFullName(),\n          })));\n      return;\n    }\n\n    const recommendations = [];\n    if (certificateSecurityState.obsoleteSslProtocol) {\n      recommendations.push(i18nString(UIStrings.sIsObsoleteEnableTlsOrLater, {PH1: certificateSecurityState.protocol}));\n    }\n    if (certificateSecurityState.obsoleteSslKeyExchange) {\n      recommendations.push(i18nString(UIStrings.rsaKeyExchangeIsObsoleteEnableAn));\n    }\n    if (certificateSecurityState.obsoleteSslCipher) {\n      recommendations.push(\n          i18nString(UIStrings.sIsObsoleteEnableAnAesgcmbased, {PH1: certificateSecurityState.cipher}));\n    }\n    if (certificateSecurityState.obsoleteSslSignature) {\n      recommendations.push(i18nString(UIStrings.theServerSignatureUsesShaWhichIs));\n    }\n\n    explanations.push(new SecurityStyleExplanation(\n        Protocol.Security.SecurityState.Info, title, i18nString(UIStrings.obsoleteConnectionSettings),\n        i18nString(UIStrings.theConnectionToThisSiteIs, {\n          PH1: certificateSecurityState.protocol,\n          PH2: certificateSecurityState.getKeyExchangeName(),\n          PH3: certificateSecurityState.getCipherFullName(),\n        }),\n        undefined, undefined, recommendations));\n  }\n\n  _explainContentSecurity(visibleSecurityState: PageVisibleSecurityState, explanations: SecurityStyleExplanation[]):\n      void {\n    // Add the secure explanation unless there is an issue.\n    let addSecureExplanation = true;\n    const title = i18nString(UIStrings.resources);\n    const securityStateIssueIds = visibleSecurityState.securityStateIssueIds;\n\n    if (securityStateIssueIds.includes('ran-mixed-content')) {\n      addSecureExplanation = false;\n      explanations.push(new SecurityStyleExplanation(\n          Protocol.Security.SecurityState.Insecure, title, i18nString(UIStrings.activeMixedContent),\n          i18nString(UIStrings.youHaveRecentlyAllowedNonsecure), [], Protocol.Security.MixedContentType.Blockable));\n    }\n\n    if (securityStateIssueIds.includes('displayed-mixed-content')) {\n      addSecureExplanation = false;\n      explanations.push(new SecurityStyleExplanation(\n          Protocol.Security.SecurityState.Neutral, title, i18nString(UIStrings.mixedContent),\n          i18nString(UIStrings.thisPageIncludesHttpResources), [],\n          Protocol.Security.MixedContentType.OptionallyBlockable));\n    }\n\n    if (securityStateIssueIds.includes('contained-mixed-form')) {\n      addSecureExplanation = false;\n      explanations.push(new SecurityStyleExplanation(\n          Protocol.Security.SecurityState.Neutral, title, i18nString(UIStrings.nonsecureForm),\n          i18nString(UIStrings.thisPageIncludesAFormWithA)));\n    }\n\n    if (visibleSecurityState.certificateSecurityState === null ||\n        visibleSecurityState.certificateSecurityState.certificateNetworkError === null) {\n      if (securityStateIssueIds.includes('ran-content-with-cert-error')) {\n        addSecureExplanation = false;\n        explanations.push(new SecurityStyleExplanation(\n            Protocol.Security.SecurityState.Insecure, title, i18nString(UIStrings.activeContentWithCertificate),\n            i18nString(UIStrings.youHaveRecentlyAllowedContent)));\n      }\n\n      if (securityStateIssueIds.includes('displayed-content-with-cert-errors')) {\n        addSecureExplanation = false;\n        explanations.push(new SecurityStyleExplanation(\n            Protocol.Security.SecurityState.Neutral, title, i18nString(UIStrings.contentWithCertificateErrors),\n            i18nString(UIStrings.thisPageIncludesResourcesThat)));\n      }\n    }\n\n    if (addSecureExplanation) {\n      if (!securityStateIssueIds.includes('scheme-is-not-cryptographic')) {\n        explanations.push(new SecurityStyleExplanation(\n            Protocol.Security.SecurityState.Secure, title, i18nString(UIStrings.allServedSecurely),\n            i18nString(UIStrings.allResourcesOnThisPageAreServed)));\n      }\n    }\n  }\n\n  _orderExplanations(explanations: SecurityStyleExplanation[]): SecurityStyleExplanation[] {\n    if (explanations.length === 0) {\n      return explanations;\n    }\n    const securityStateOrder = [\n      Protocol.Security.SecurityState.Insecure,\n      Protocol.Security.SecurityState.Neutral,\n      Protocol.Security.SecurityState.Secure,\n      Protocol.Security.SecurityState.Info,\n    ];\n    const orderedExplanations = [];\n    for (const securityState of securityStateOrder) {\n      orderedExplanations.push(...explanations.filter(explanation => explanation.securityState === securityState));\n    }\n    return orderedExplanations;\n  }\n\n  refreshExplanations(): void {\n    this._securityExplanationsMain.removeChildren();\n    this._securityExplanationsExtra.removeChildren();\n    if (!this._explanations) {\n      return;\n    }\n    for (const explanation of this._explanations) {\n      if (explanation.securityState === Protocol.Security.SecurityState.Info) {\n        this._addExplanation(this._securityExplanationsExtra, explanation);\n      } else {\n        switch (explanation.mixedContentType) {\n          case Protocol.Security.MixedContentType.Blockable:\n            this._addMixedContentExplanation(\n                this._securityExplanationsMain, explanation,\n                Network.NetworkLogView.MixedContentFilterValues.BlockOverridden);\n            break;\n          case Protocol.Security.MixedContentType.OptionallyBlockable:\n            this._addMixedContentExplanation(\n                this._securityExplanationsMain, explanation, Network.NetworkLogView.MixedContentFilterValues.Displayed);\n            break;\n          default:\n            this._addExplanation(this._securityExplanationsMain, explanation);\n            break;\n        }\n      }\n    }\n\n    if (this._panel.filterRequestCount(Network.NetworkLogView.MixedContentFilterValues.Blocked) > 0) {\n      const explanation = {\n        securityState: Protocol.Security.SecurityState.Info,\n        summary: i18nString(UIStrings.blockedMixedContent),\n        description: i18nString(UIStrings.yourPageRequestedNonsecure),\n        mixedContentType: Protocol.Security.MixedContentType.Blockable,\n        certificate: [],\n        title: '',\n      } as Protocol.Security.SecurityStateExplanation;\n      this._addMixedContentExplanation(\n          this._securityExplanationsMain, explanation, Network.NetworkLogView.MixedContentFilterValues.Blocked);\n    }\n  }\n\n  _addMixedContentExplanation(\n      parent: Element, explanation: Protocol.Security.SecurityStateExplanation|SecurityStyleExplanation,\n      filterKey: string): void {\n    const element = this._addExplanation(parent, explanation);\n\n    const filterRequestCount = this._panel.filterRequestCount(filterKey);\n    if (!filterRequestCount) {\n      // Network instrumentation might not have been enabled for the page\n      // load, so the security panel does not necessarily know a count of\n      // individual mixed requests at this point. Prompt them to refresh\n      // instead of pointing them to the Network panel to get prompted\n      // to refresh.\n      const refreshPrompt = element.createChild('div', 'security-mixed-content');\n      refreshPrompt.textContent = i18nString(UIStrings.reloadThePageToRecordRequestsFor);\n      return;\n    }\n\n    const requestsAnchor = element.createChild('div', 'security-mixed-content devtools-link') as HTMLElement;\n    UI.ARIAUtils.markAsLink(requestsAnchor);\n    requestsAnchor.tabIndex = 0;\n    requestsAnchor.textContent = i18nString(UIStrings.viewDRequestsInNetworkPanel, {n: filterRequestCount});\n\n    requestsAnchor.addEventListener('click', this.showNetworkFilter.bind(this, filterKey));\n    requestsAnchor.addEventListener('keydown', event => {\n      if (event.key === 'Enter') {\n        this.showNetworkFilter(filterKey, event);\n      }\n    });\n  }\n\n  showNetworkFilter(filterKey: string, e: Event): void {\n    e.consume();\n    Network.NetworkPanel.NetworkPanel.revealAndFilter(\n        [{filterType: Network.NetworkLogView.FilterType.MixedContent, filterValue: filterKey}]);\n  }\n}\n\nexport class SecurityOriginView extends UI.Widget.VBox {\n  _panel: SecurityPanel;\n  _originLockIcon: HTMLElement;\n  constructor(panel: SecurityPanel, origin: string, originState: OriginState) {\n    super();\n    this._panel = panel;\n    this.setMinimumSize(200, 100);\n\n    this.element.classList.add('security-origin-view');\n    this.registerRequiredCSS('panels/security/originView.css', {enableLegacyPatching: false});\n    this.registerRequiredCSS('panels/security/lockIcon.css', {enableLegacyPatching: false});\n\n    const titleSection = this.element.createChild('div', 'title-section');\n    const titleDiv = titleSection.createChild('div', 'title-section-header');\n    titleDiv.textContent = i18nString(UIStrings.origin);\n    UI.ARIAUtils.markAsHeading(titleDiv, 1);\n\n    const originDisplay = titleSection.createChild('div', 'origin-display');\n    this._originLockIcon = originDisplay.createChild('span', 'security-property');\n    this._originLockIcon.classList.add('security-property-' + originState.securityState);\n\n    originDisplay.appendChild(SecurityPanel.createHighlightedUrl(origin, originState.securityState));\n\n    const originNetworkDiv = titleSection.createChild('div', 'view-network-button');\n    const originNetworkButton = UI.UIUtils.createTextButton(i18nString(UIStrings.viewRequestsInNetworkPanel), event => {\n      event.consume();\n      const parsedURL = new Common.ParsedURL.ParsedURL(origin);\n      Network.NetworkPanel.NetworkPanel.revealAndFilter([\n        {filterType: Network.NetworkLogView.FilterType.Domain, filterValue: parsedURL.host},\n        {filterType: Network.NetworkLogView.FilterType.Scheme, filterValue: parsedURL.scheme},\n      ]);\n    });\n    originNetworkDiv.appendChild(originNetworkButton);\n    UI.ARIAUtils.markAsLink(originNetworkButton);\n\n    if (originState.securityDetails) {\n      const connectionSection = this.element.createChild('div', 'origin-view-section');\n      const connectionDiv = connectionSection.createChild('div', 'origin-view-section-title');\n      connectionDiv.textContent = i18nString(UIStrings.connection);\n      UI.ARIAUtils.markAsHeading(connectionDiv, 2);\n\n      let table: SecurityDetailsTable = new SecurityDetailsTable();\n      connectionSection.appendChild(table.element());\n      table.addRow(i18nString(UIStrings.protocol), originState.securityDetails.protocol);\n      if (originState.securityDetails.keyExchange) {\n        table.addRow(i18nString(UIStrings.keyExchange), originState.securityDetails.keyExchange);\n      }\n      if (originState.securityDetails.keyExchangeGroup) {\n        table.addRow(i18nString(UIStrings.keyExchangeGroup), originState.securityDetails.keyExchangeGroup);\n      }\n      table.addRow(\n          i18nString(UIStrings.cipher),\n          originState.securityDetails.cipher +\n              (originState.securityDetails.mac ? ' with ' + originState.securityDetails.mac : ''));\n\n      // Create the certificate section outside the callback, so that it appears in the right place.\n      const certificateSection = this.element.createChild('div', 'origin-view-section');\n      const certificateDiv = certificateSection.createChild('div', 'origin-view-section-title');\n      certificateDiv.textContent = i18nString(UIStrings.certificate);\n      UI.ARIAUtils.markAsHeading(certificateDiv, 2);\n\n      const sctListLength = originState.securityDetails.signedCertificateTimestampList.length;\n      const ctCompliance = originState.securityDetails.certificateTransparencyCompliance;\n      let sctSection;\n      if (sctListLength || ctCompliance !== Protocol.Network.CertificateTransparencyCompliance.Unknown) {\n        // Create the Certificate Transparency section outside the callback, so that it appears in the right place.\n        sctSection = this.element.createChild('div', 'origin-view-section');\n        const sctDiv = sctSection.createChild('div', 'origin-view-section-title');\n        sctDiv.textContent = i18nString(UIStrings.certificateTransparency);\n        UI.ARIAUtils.markAsHeading(sctDiv, 2);\n      }\n\n      const sanDiv = this._createSanDiv(originState.securityDetails.sanList);\n      const validFromString = new Date(1000 * originState.securityDetails.validFrom).toUTCString();\n      const validUntilString = new Date(1000 * originState.securityDetails.validTo).toUTCString();\n\n      table = new SecurityDetailsTable();\n      certificateSection.appendChild(table.element());\n      table.addRow(i18nString(UIStrings.subject), originState.securityDetails.subjectName);\n      table.addRow(i18n.i18n.lockedString('SAN'), sanDiv);\n      table.addRow(i18nString(UIStrings.validFrom), validFromString);\n      table.addRow(i18nString(UIStrings.validUntil), validUntilString);\n      table.addRow(i18nString(UIStrings.issuer), originState.securityDetails.issuer);\n\n      table.addRow(\n          '',\n          SecurityPanel.createCertificateViewerButtonForOrigin(\n              i18nString(UIStrings.openFullCertificateDetails), origin));\n\n      if (!sctSection) {\n        return;\n      }\n\n      // Show summary of SCT(s) of Certificate Transparency.\n      const sctSummaryTable = new SecurityDetailsTable();\n      sctSummaryTable.element().classList.add('sct-summary');\n      sctSection.appendChild(sctSummaryTable.element());\n      for (let i = 0; i < sctListLength; i++) {\n        const sct = originState.securityDetails.signedCertificateTimestampList[i];\n        sctSummaryTable.addRow(\n            i18nString(UIStrings.sct), sct.logDescription + ' (' + sct.origin + ', ' + sct.status + ')');\n      }\n\n      // Show detailed SCT(s) of Certificate Transparency.\n      const sctTableWrapper = sctSection.createChild('div', 'sct-details');\n      sctTableWrapper.classList.add('hidden');\n      for (let i = 0; i < sctListLength; i++) {\n        const sctTable = new SecurityDetailsTable();\n        sctTableWrapper.appendChild(sctTable.element());\n        const sct = originState.securityDetails.signedCertificateTimestampList[i];\n        sctTable.addRow(i18nString(UIStrings.logName), sct.logDescription);\n        sctTable.addRow(i18nString(UIStrings.logId), sct.logId.replace(/(.{2})/g, '$1 '));\n        sctTable.addRow(i18nString(UIStrings.validationStatus), sct.status);\n        sctTable.addRow(i18nString(UIStrings.source), sct.origin);\n        sctTable.addRow(i18nString(UIStrings.issuedAt), new Date(sct.timestamp).toUTCString());\n        sctTable.addRow(i18nString(UIStrings.hashAlgorithm), sct.hashAlgorithm);\n        sctTable.addRow(i18nString(UIStrings.signatureAlgorithm), sct.signatureAlgorithm);\n        sctTable.addRow(i18nString(UIStrings.signatureData), sct.signatureData.replace(/(.{2})/g, '$1 '));\n      }\n\n      // Add link to toggle between displaying of the summary of the SCT(s) and the detailed SCT(s).\n      if (sctListLength) {\n        function toggleSctDetailsDisplay(): void {\n          let buttonText;\n          const isDetailsShown = !sctTableWrapper.classList.contains('hidden');\n          if (isDetailsShown) {\n            buttonText = i18nString(UIStrings.showFullDetails);\n          } else {\n            buttonText = i18nString(UIStrings.hideFullDetails);\n          }\n          toggleSctsDetailsLink.textContent = buttonText;\n          UI.ARIAUtils.setAccessibleName(toggleSctsDetailsLink, buttonText);\n          UI.ARIAUtils.setExpanded(toggleSctsDetailsLink, !isDetailsShown);\n          sctSummaryTable.element().classList.toggle('hidden');\n          sctTableWrapper.classList.toggle('hidden');\n        }\n        const toggleSctsDetailsLink = UI.UIUtils.createTextButton(\n            i18nString(UIStrings.showFullDetails), toggleSctDetailsDisplay, 'details-toggle');\n        sctSection.appendChild(toggleSctsDetailsLink);\n      }\n\n      switch (ctCompliance) {\n        case Protocol.Network.CertificateTransparencyCompliance.Compliant:\n          sctSection.createChild('div', 'origin-view-section-notes').textContent =\n              i18nString(UIStrings.thisRequestCompliesWithChromes);\n          break;\n        case Protocol.Network.CertificateTransparencyCompliance.NotCompliant:\n          sctSection.createChild('div', 'origin-view-section-notes').textContent =\n              i18nString(UIStrings.thisRequestDoesNotComplyWith);\n          break;\n        case Protocol.Network.CertificateTransparencyCompliance.Unknown:\n          break;\n      }\n\n      const noteSection = this.element.createChild('div', 'origin-view-section origin-view-notes');\n      if (originState.loadedFromCache) {\n        noteSection.createChild('div').textContent = i18nString(UIStrings.thisResponseWasLoadedFromCache);\n      }\n      noteSection.createChild('div').textContent = i18nString(UIStrings.theSecurityDetailsAboveAreFrom);\n    } else if (originState.securityState === Protocol.Security.SecurityState.Secure) {\n      // If the security state is secure but there are no security details,\n      // this means that the origin is a non-cryptographic secure origin, e.g.\n      // chrome:// or about:.\n      const secureSection = this.element.createChild('div', 'origin-view-section');\n      const secureDiv = secureSection.createChild('div', 'origin-view-section-title');\n      secureDiv.textContent = i18nString(UIStrings.secure);\n      UI.ARIAUtils.markAsHeading(secureDiv, 2);\n      secureSection.createChild('div').textContent = i18nString(UIStrings.thisOriginIsANonhttpsSecure);\n    } else if (originState.securityState !== Protocol.Security.SecurityState.Unknown) {\n      const notSecureSection = this.element.createChild('div', 'origin-view-section');\n      const notSecureDiv = notSecureSection.createChild('div', 'origin-view-section-title');\n      notSecureDiv.textContent = i18nString(UIStrings.notSecure);\n      UI.ARIAUtils.markAsHeading(notSecureDiv, 2);\n      notSecureSection.createChild('div').textContent = i18nString(UIStrings.yourConnectionToThisOriginIsNot);\n    } else {\n      const noInfoSection = this.element.createChild('div', 'origin-view-section');\n      const noInfoDiv = noInfoSection.createChild('div', 'origin-view-section-title');\n      noInfoDiv.textContent = i18nString(UIStrings.noSecurityInformation);\n      UI.ARIAUtils.markAsHeading(noInfoDiv, 2);\n      noInfoSection.createChild('div').textContent = i18nString(UIStrings.noSecurityDetailsAreAvailableFor);\n    }\n  }\n\n  _createSanDiv(sanList: string[]): Element {\n    const sanDiv = document.createElement('div');\n    if (sanList.length === 0) {\n      sanDiv.textContent = i18nString(UIStrings.na);\n      sanDiv.classList.add('empty-san');\n    } else {\n      const truncatedNumToShow = 2;\n      const listIsTruncated = sanList.length > truncatedNumToShow + 1;\n      for (let i = 0; i < sanList.length; i++) {\n        const span = sanDiv.createChild('span', 'san-entry');\n        span.textContent = sanList[i];\n        if (listIsTruncated && i >= truncatedNumToShow) {\n          span.classList.add('truncated-entry');\n        }\n      }\n      if (listIsTruncated) {\n        function toggleSANTruncation(): void {\n          const isTruncated = sanDiv.classList.contains('truncated-san');\n          let buttonText;\n          if (isTruncated) {\n            sanDiv.classList.remove('truncated-san');\n            buttonText = i18nString(UIStrings.showLess);\n          } else {\n            sanDiv.classList.add('truncated-san');\n            buttonText = i18nString(UIStrings.showMoreSTotal, {PH1: sanList.length});\n          }\n          truncatedSANToggle.textContent = buttonText;\n          UI.ARIAUtils.setAccessibleName(truncatedSANToggle, buttonText);\n          UI.ARIAUtils.setExpanded(truncatedSANToggle, isTruncated);\n        }\n        const truncatedSANToggle = UI.UIUtils.createTextButton(\n            i18nString(UIStrings.showMoreSTotal, {PH1: sanList.length}), toggleSANTruncation);\n        sanDiv.appendChild(truncatedSANToggle);\n        toggleSANTruncation();\n      }\n    }\n    return sanDiv;\n  }\n\n  setSecurityState(newSecurityState: Protocol.Security.SecurityState): void {\n    for (const className of Array.prototype.slice.call(this._originLockIcon.classList)) {\n      if (className.startsWith('security-property-')) {\n        this._originLockIcon.classList.remove(className);\n      }\n    }\n\n    this._originLockIcon.classList.add('security-property-' + newSecurityState);\n  }\n}\n\nexport class SecurityDetailsTable {\n  _element: HTMLTableElement;\n\n  constructor() {\n    this._element = document.createElement('table');\n    this._element.classList.add('details-table');\n  }\n\n  element(): HTMLTableElement {\n    return this._element;\n  }\n\n  addRow(key: string, value: string|Node): void {\n    const row = this._element.createChild('div', 'details-table-row');\n    row.createChild('div').textContent = key;\n\n    const valueDiv = row.createChild('div');\n    if (typeof value === 'string') {\n      valueDiv.textContent = value;\n    } else {\n      valueDiv.appendChild(value);\n    }\n  }\n}\nexport interface OriginState {\n  securityState: Protocol.Security.SecurityState;\n  securityDetails: Protocol.Network.SecurityDetails|null;\n  loadedFromCache: boolean;\n  originView?: SecurityOriginView|null;\n}\n\nexport type Origin = string;\n"]}