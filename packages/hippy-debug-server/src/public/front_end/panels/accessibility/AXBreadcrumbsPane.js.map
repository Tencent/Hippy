{"version":3,"file":"AXBreadcrumbsPane.js","sourceRoot":"","sources":["../../../../../../front_end/panels/accessibility/AXBreadcrumbsPane.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2016 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/* eslint-disable rulesdir/no_underscored_properties */\n\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport type * as Protocol from '../../generated/protocol.js';\n\nimport type {AccessibilitySidebarView} from './AccessibilitySidebarView.js';\nimport {AccessibilitySubPane} from './AccessibilitySubPane.js';\n\nconst UIStrings = {\n  /**\n  *@description Text in AXBreadcrumbs Pane of the Accessibility panel\n  */\n  accessibilityTree: 'Accessibility Tree',\n  /**\n  *@description Text to scroll the displayed content into view\n  */\n  scrollIntoView: 'Scroll into view',\n  /**\n  *@description Ignored node element text content in AXBreadcrumbs Pane of the Accessibility panel\n  */\n  ignored: 'Ignored',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/accessibility/AXBreadcrumbsPane.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class AXBreadcrumbsPane extends AccessibilitySubPane {\n  _axSidebarView: AccessibilitySidebarView;\n  _preselectedBreadcrumb: AXBreadcrumb|null;\n  _inspectedNodeBreadcrumb: AXBreadcrumb|null;\n  _collapsingBreadcrumbId: number;\n  _hoveredBreadcrumb: AXBreadcrumb|null;\n  _rootElement: HTMLElement;\n\n  constructor(axSidebarView: AccessibilitySidebarView) {\n    super(i18nString(UIStrings.accessibilityTree));\n\n    this.element.classList.add('ax-subpane');\n    UI.ARIAUtils.markAsTree(this.element);\n    this.element.tabIndex = -1;\n\n    this._axSidebarView = axSidebarView;\n\n    this._preselectedBreadcrumb = null;\n    this._inspectedNodeBreadcrumb = null;\n\n    this._collapsingBreadcrumbId = -1;\n\n    this._hoveredBreadcrumb = null;\n    this._rootElement = this.element.createChild('div', 'ax-breadcrumbs');\n\n    this._rootElement.addEventListener('keydown', this._onKeyDown.bind(this), true);\n    this._rootElement.addEventListener('mousemove', this._onMouseMove.bind(this), false);\n    this._rootElement.addEventListener('mouseleave', this._onMouseLeave.bind(this), false);\n    this._rootElement.addEventListener('click', this._onClick.bind(this), false);\n    this._rootElement.addEventListener('contextmenu', this._contextMenuEventFired.bind(this), false);\n    this._rootElement.addEventListener('focusout', this._onFocusOut.bind(this), false);\n    this.registerRequiredCSS('panels/accessibility/axBreadcrumbs.css', {enableLegacyPatching: false});\n  }\n\n  focus(): void {\n    if (this._inspectedNodeBreadcrumb) {\n      this._inspectedNodeBreadcrumb.nodeElement().focus();\n    } else {\n      this.element.focus();\n    }\n  }\n\n  setAXNode(axNode: SDK.AccessibilityModel.AccessibilityNode|null): void {\n    const hadFocus = this.element.hasFocus();\n    super.setAXNode(axNode);\n\n    this._rootElement.removeChildren();\n\n    if (!axNode) {\n      return;\n    }\n\n    const ancestorChain = [];\n    let ancestor: (SDK.AccessibilityModel.AccessibilityNode|null)|SDK.AccessibilityModel.AccessibilityNode = axNode;\n    while (ancestor) {\n      ancestorChain.push(ancestor);\n      ancestor = ancestor.parentNode();\n    }\n    ancestorChain.reverse();\n\n    let depth = 0;\n    let parent: AXBreadcrumb|null = null;\n    this._inspectedNodeBreadcrumb = null;\n    for (ancestor of ancestorChain) {\n      const breadcrumb = new AXBreadcrumb(ancestor, depth, (ancestor === axNode));\n      if (parent) {\n        parent.appendChild(breadcrumb);\n      } else {\n        this._rootElement.appendChild(breadcrumb.element());\n      }\n      parent = breadcrumb;\n      depth++;\n      this._inspectedNodeBreadcrumb = breadcrumb;\n    }\n\n    if (this._inspectedNodeBreadcrumb) {\n      this._inspectedNodeBreadcrumb.setPreselected(true, hadFocus);\n    }\n\n    this._setPreselectedBreadcrumb(this._inspectedNodeBreadcrumb);\n\n    function append(\n        parentBreadcrumb: AXBreadcrumb, axNode: SDK.AccessibilityModel.AccessibilityNode, localDepth: number): void {\n      const childBreadcrumb = new AXBreadcrumb(axNode, localDepth, false);\n      parentBreadcrumb.appendChild(childBreadcrumb);\n\n      // In most cases there will be no children here, but there are some special cases.\n      for (const child of axNode.children()) {\n        append(childBreadcrumb, child, localDepth + 1);\n      }\n    }\n\n    if (this._inspectedNodeBreadcrumb) {\n      for (const child of axNode.children()) {\n        append(this._inspectedNodeBreadcrumb, child, depth);\n        if (child.backendDOMNodeId() === this._collapsingBreadcrumbId) {\n          this._setPreselectedBreadcrumb(this._inspectedNodeBreadcrumb.lastChild());\n        }\n      }\n    }\n    this._collapsingBreadcrumbId = -1;\n  }\n\n  willHide(): void {\n    this._setPreselectedBreadcrumb(null);\n  }\n\n  _onKeyDown(event: Event): void {\n    const preselectedBreadcrumb = this._preselectedBreadcrumb;\n    if (!preselectedBreadcrumb) {\n      return;\n    }\n    const keyboardEvent = event as KeyboardEvent;\n    if (!keyboardEvent.composedPath().some(element => element === preselectedBreadcrumb.element())) {\n      return;\n    }\n    if (keyboardEvent.shiftKey || keyboardEvent.metaKey || keyboardEvent.ctrlKey) {\n      return;\n    }\n\n    let handled = false;\n    if (keyboardEvent.key === 'ArrowUp' && !keyboardEvent.altKey) {\n      handled = this._preselectPrevious();\n    } else if ((keyboardEvent.key === 'ArrowDown') && !keyboardEvent.altKey) {\n      handled = this._preselectNext();\n    } else if (keyboardEvent.key === 'ArrowLeft' && !keyboardEvent.altKey) {\n      if (preselectedBreadcrumb.hasExpandedChildren()) {\n        this._collapseBreadcrumb(preselectedBreadcrumb);\n      } else {\n        handled = this._preselectParent();\n      }\n    } else if ((keyboardEvent.key === 'Enter' ||\n                (keyboardEvent.key === 'ArrowRight' && !keyboardEvent.altKey &&\n                 preselectedBreadcrumb.axNode().hasOnlyUnloadedChildren()))) {\n      handled = this._inspectDOMNode(preselectedBreadcrumb.axNode());\n    }\n\n    if (handled) {\n      keyboardEvent.consume(true);\n    }\n  }\n\n  _preselectPrevious(): boolean {\n    if (!this._preselectedBreadcrumb) {\n      return false;\n    }\n    const previousBreadcrumb = this._preselectedBreadcrumb.previousBreadcrumb();\n    if (!previousBreadcrumb) {\n      return false;\n    }\n    this._setPreselectedBreadcrumb(previousBreadcrumb);\n    return true;\n  }\n\n  _preselectNext(): boolean {\n    if (!this._preselectedBreadcrumb) {\n      return false;\n    }\n    const nextBreadcrumb = this._preselectedBreadcrumb.nextBreadcrumb();\n    if (!nextBreadcrumb) {\n      return false;\n    }\n    this._setPreselectedBreadcrumb(nextBreadcrumb);\n    return true;\n  }\n\n  _preselectParent(): boolean {\n    if (!this._preselectedBreadcrumb) {\n      return false;\n    }\n    const parentBreadcrumb = this._preselectedBreadcrumb.parentBreadcrumb();\n    if (!parentBreadcrumb) {\n      return false;\n    }\n    this._setPreselectedBreadcrumb(parentBreadcrumb);\n    return true;\n  }\n\n  _setPreselectedBreadcrumb(breadcrumb: AXBreadcrumb|null): void {\n    if (breadcrumb === this._preselectedBreadcrumb) {\n      return;\n    }\n    const hadFocus = this.element.hasFocus();\n    if (this._preselectedBreadcrumb) {\n      this._preselectedBreadcrumb.setPreselected(false, hadFocus);\n    }\n\n    if (breadcrumb) {\n      this._preselectedBreadcrumb = breadcrumb;\n    } else {\n      this._preselectedBreadcrumb = this._inspectedNodeBreadcrumb;\n    }\n    if (this._preselectedBreadcrumb) {\n      this._preselectedBreadcrumb.setPreselected(true, hadFocus);\n    }\n    if (!breadcrumb && hadFocus) {\n      SDK.OverlayModel.OverlayModel.hideDOMNodeHighlight();\n    }\n  }\n\n  _collapseBreadcrumb(breadcrumb: AXBreadcrumb): void {\n    if (!breadcrumb.parentBreadcrumb()) {\n      return;\n    }\n    const backendNodeId = breadcrumb.axNode().backendDOMNodeId();\n    if (backendNodeId !== null) {\n      this._collapsingBreadcrumbId = backendNodeId;\n    }\n    const parentBreadcrumb = breadcrumb.parentBreadcrumb();\n    if (parentBreadcrumb) {\n      this._inspectDOMNode(parentBreadcrumb.axNode());\n    }\n  }\n\n  _onMouseLeave(_event: Event): void {\n    this._setHoveredBreadcrumb(null);\n  }\n\n  _onMouseMove(event: Event): void {\n    const target = event.target as Element | null;\n    if (!target) {\n      return;\n    }\n    const breadcrumbElement = target.enclosingNodeOrSelfWithClass('ax-breadcrumb');\n    if (!breadcrumbElement) {\n      this._setHoveredBreadcrumb(null);\n      return;\n    }\n    const breadcrumb = elementsToAXBreadcrumb.get(breadcrumbElement);\n    if (!breadcrumb || !breadcrumb.isDOMNode()) {\n      return;\n    }\n    this._setHoveredBreadcrumb(breadcrumb);\n  }\n\n  _onFocusOut(event: Event): void {\n    if (!this._preselectedBreadcrumb || event.target !== this._preselectedBreadcrumb.nodeElement()) {\n      return;\n    }\n    this._setPreselectedBreadcrumb(null);\n  }\n\n  _onClick(event: Event): void {\n    const target = event.target as Element | null;\n    if (!target) {\n      return;\n    }\n    const breadcrumbElement = target.enclosingNodeOrSelfWithClass('ax-breadcrumb');\n    if (!breadcrumbElement) {\n      this._setHoveredBreadcrumb(null);\n      return;\n    }\n    const breadcrumb = elementsToAXBreadcrumb.get(breadcrumbElement);\n    if (!breadcrumb) {\n      return;\n    }\n    if (breadcrumb.inspected()) {\n      // This will collapse and preselect/focus the breadcrumb.\n      this._collapseBreadcrumb(breadcrumb);\n      breadcrumb.nodeElement().focus();\n      return;\n    }\n    if (!breadcrumb.isDOMNode()) {\n      return;\n    }\n    this._inspectDOMNode(breadcrumb.axNode());\n  }\n\n  _setHoveredBreadcrumb(breadcrumb: AXBreadcrumb|null): void {\n    if (breadcrumb === this._hoveredBreadcrumb) {\n      return;\n    }\n\n    if (this._hoveredBreadcrumb) {\n      this._hoveredBreadcrumb.setHovered(false);\n    }\n    const node = this.node();\n    if (breadcrumb) {\n      breadcrumb.setHovered(true);\n    } else if (node && node.id) {\n      // Highlight and scroll into view the currently inspected node.\n      node.domModel().overlayModel().nodeHighlightRequested({nodeId: node.id});\n    }\n\n    this._hoveredBreadcrumb = breadcrumb;\n  }\n\n  _inspectDOMNode(axNode: SDK.AccessibilityModel.AccessibilityNode): boolean {\n    if (!axNode.isDOMNode()) {\n      return false;\n    }\n\n    const deferredNode = axNode.deferredDOMNode();\n    if (deferredNode) {\n      deferredNode.resolve(domNode => {\n        this._axSidebarView.setNode(domNode, true /* fromAXTree */);\n        Common.Revealer.reveal(domNode, true /* omitFocus */);\n      });\n    }\n\n    return true;\n  }\n\n  _contextMenuEventFired(event: Event): void {\n    const target = event.target as Element | null;\n    if (!target) {\n      return;\n    }\n    const breadcrumbElement = target.enclosingNodeOrSelfWithClass('ax-breadcrumb');\n    if (!breadcrumbElement) {\n      return;\n    }\n\n    const breadcrumb = elementsToAXBreadcrumb.get(breadcrumbElement);\n    if (!breadcrumb) {\n      return;\n    }\n\n    const axNode = breadcrumb.axNode();\n    if (!axNode.isDOMNode() || !axNode.deferredDOMNode()) {\n      return;\n    }\n\n    const contextMenu = new UI.ContextMenu.ContextMenu(event);\n    contextMenu.viewSection().appendItem(i18nString(UIStrings.scrollIntoView), () => {\n      const deferredNode = axNode.deferredDOMNode();\n      if (!deferredNode) {\n        return;\n      }\n      deferredNode.resolvePromise().then(domNode => {\n        if (!domNode) {\n          return;\n        }\n        domNode.scrollIntoView();\n      });\n    });\n\n    const deferredNode = axNode.deferredDOMNode();\n    if (deferredNode) {\n      contextMenu.appendApplicableItems(deferredNode);\n    }\n    contextMenu.show();\n  }\n}\n\nconst elementsToAXBreadcrumb = new WeakMap<Element, AXBreadcrumb>();\n\nexport class AXBreadcrumb {\n  _axNode: SDK.AccessibilityModel.AccessibilityNode;\n  _element: HTMLDivElement;\n  _nodeElement: HTMLDivElement;\n  _nodeWrapper: HTMLDivElement;\n  _selectionElement: HTMLDivElement;\n  _childrenGroupElement: HTMLDivElement;\n  _children: AXBreadcrumb[];\n  _hovered: boolean;\n  _preselected: boolean;\n  _parent: AXBreadcrumb|null;\n  _inspected: boolean;\n  constructor(axNode: SDK.AccessibilityModel.AccessibilityNode, depth: number, inspected: boolean) {\n    this._axNode = axNode;\n\n    this._element = document.createElement('div');\n    this._element.classList.add('ax-breadcrumb');\n    elementsToAXBreadcrumb.set(this._element, this);\n\n    this._nodeElement = document.createElement('div');\n    this._nodeElement.classList.add('ax-node');\n    UI.ARIAUtils.markAsTreeitem(this._nodeElement);\n    this._nodeElement.tabIndex = -1;\n    this._element.appendChild(this._nodeElement);\n    this._nodeWrapper = document.createElement('div');\n    this._nodeWrapper.classList.add('wrapper');\n    this._nodeElement.appendChild(this._nodeWrapper);\n\n    this._selectionElement = document.createElement('div');\n    this._selectionElement.classList.add('selection');\n    this._selectionElement.classList.add('fill');\n    this._nodeElement.appendChild(this._selectionElement);\n\n    this._childrenGroupElement = document.createElement('div');\n    this._childrenGroupElement.classList.add('children');\n    UI.ARIAUtils.markAsGroup(this._childrenGroupElement);\n    this._element.appendChild(this._childrenGroupElement);\n\n    this._children = [];\n    this._hovered = false;\n    this._preselected = false;\n    this._parent = null;\n\n    this._inspected = inspected;\n    this._nodeElement.classList.toggle('inspected', inspected);\n\n    this._nodeElement.style.paddingLeft = (16 * depth + 4) + 'px';\n\n    if (this._axNode.ignored()) {\n      this._appendIgnoredNodeElement();\n    } else {\n      this._appendRoleElement(this._axNode.role());\n      const axNodeName = this._axNode.name();\n      if (axNodeName && axNodeName.value) {\n        this._nodeWrapper.createChild('span', 'separator').textContent = '\\xA0';\n        this._appendNameElement(axNodeName.value as string);\n      }\n    }\n\n    if (this._axNode.hasOnlyUnloadedChildren()) {\n      this._nodeElement.classList.add('children-unloaded');\n      UI.ARIAUtils.setExpanded(this._nodeElement, false);\n    }\n\n    if (!this._axNode.isDOMNode()) {\n      this._nodeElement.classList.add('no-dom-node');\n    }\n  }\n\n  element(): HTMLElement {\n    return /** @type {!HTMLElement} */ this._element as HTMLElement;\n  }\n\n  nodeElement(): HTMLElement {\n    return /** @type {!HTMLElement} */ this._nodeElement as HTMLElement;\n  }\n\n  appendChild(breadcrumb: AXBreadcrumb): void {\n    this._children.push(breadcrumb);\n    breadcrumb.setParent(this);\n    this._nodeElement.classList.add('parent');\n    UI.ARIAUtils.setExpanded(this._nodeElement, true);\n    this._childrenGroupElement.appendChild(breadcrumb.element());\n  }\n\n  hasExpandedChildren(): number {\n    return this._children.length;\n  }\n\n  setParent(breadcrumb: AXBreadcrumb): void {\n    this._parent = breadcrumb;\n  }\n\n  preselected(): boolean {\n    return this._preselected;\n  }\n\n  setPreselected(preselected: boolean, selectedByUser: boolean): void {\n    if (this._preselected === preselected) {\n      return;\n    }\n    this._preselected = preselected;\n    this._nodeElement.classList.toggle('preselected', preselected);\n    if (preselected) {\n      this._nodeElement.tabIndex = 0;\n    } else {\n      this._nodeElement.tabIndex = -1;\n    }\n    if (this._preselected) {\n      if (selectedByUser) {\n        this._nodeElement.focus();\n      }\n      if (!this._inspected) {\n        this._axNode.highlightDOMNode();\n      } else {\n        SDK.OverlayModel.OverlayModel.hideDOMNodeHighlight();\n      }\n    }\n  }\n\n  setHovered(hovered: boolean): void {\n    if (this._hovered === hovered) {\n      return;\n    }\n    this._hovered = hovered;\n    this._nodeElement.classList.toggle('hovered', hovered);\n    if (this._hovered) {\n      this._nodeElement.classList.toggle('hovered', true);\n      this._axNode.highlightDOMNode();\n    }\n  }\n\n  axNode(): SDK.AccessibilityModel.AccessibilityNode {\n    return this._axNode;\n  }\n\n  inspected(): boolean {\n    return this._inspected;\n  }\n\n  isDOMNode(): boolean {\n    return this._axNode.isDOMNode();\n  }\n\n  nextBreadcrumb(): AXBreadcrumb|null {\n    if (this._children.length) {\n      return this._children[0];\n    }\n    const nextSibling = this.element().nextSibling;\n    if (nextSibling) {\n      return elementsToAXBreadcrumb.get(nextSibling as HTMLElement) || null;\n    }\n    return null;\n  }\n\n  previousBreadcrumb(): AXBreadcrumb|null {\n    const previousSibling = this.element().previousSibling;\n    if (previousSibling) {\n      return elementsToAXBreadcrumb.get(previousSibling as HTMLElement) || null;\n    }\n\n    return this._parent;\n  }\n\n  parentBreadcrumb(): AXBreadcrumb|null {\n    return this._parent;\n  }\n\n  lastChild(): AXBreadcrumb {\n    return this._children[this._children.length - 1];\n  }\n\n  _appendNameElement(name: string): void {\n    const nameElement = document.createElement('span');\n    nameElement.textContent = '\"' + name + '\"';\n    nameElement.classList.add('ax-readable-string');\n    this._nodeWrapper.appendChild(nameElement);\n  }\n\n  _appendRoleElement(role: Protocol.Accessibility.AXValue|null): void {\n    if (!role) {\n      return;\n    }\n\n    const roleElement = document.createElement('span');\n    roleElement.classList.add('monospace');\n    roleElement.classList.add(RoleStyles[role.type]);\n    roleElement.setTextContentTruncatedIfNeeded(role.value || '');\n\n    this._nodeWrapper.appendChild(roleElement);\n  }\n\n  _appendIgnoredNodeElement(): void {\n    const ignoredNodeElement = document.createElement('span');\n    ignoredNodeElement.classList.add('monospace');\n    ignoredNodeElement.textContent = i18nString(UIStrings.ignored);\n    ignoredNodeElement.classList.add('ax-breadcrumbs-ignored-node');\n    this._nodeWrapper.appendChild(ignoredNodeElement);\n  }\n}\n\ntype RoleStyles = {\n  [type: string]: string,\n};\n\nexport const RoleStyles: RoleStyles = {\n  internalRole: 'ax-internal-role',\n  role: 'ax-role',\n};\n"]}