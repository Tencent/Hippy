{"version":3,"file":"MainImpl.js","sourceRoot":"","sources":["../../../../../../front_end/entrypoints/main/MainImpl.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/*\n * Copyright (C) 2006, 2007, 2008 Apple Inc.  All rights reserved.\n * Copyright (C) 2007 Matt Lilek (pewtermoose@gmail.com).\n * Copyright (C) 2009 Joseph Pecoraro\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *\n * 1.  Redistributions of source code must retain the above copyright\n *     notice, this list of conditions and the following disclaimer.\n * 2.  Redistributions in binary form must reproduce the above copyright\n *     notice, this list of conditions and the following disclaimer in the\n *     documentation and/or other materials provided with the distribution.\n * 3.  Neither the name of Apple Computer, Inc. (\"Apple\") nor the names of\n *     its contributors may be used to endorse or promote products derived\n *     from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY APPLE AND ITS CONTRIBUTORS \"AS IS\" AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL APPLE OR ITS CONTRIBUTORS BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/* eslint-disable rulesdir/no_underscored_properties */\n\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as ProtocolClient from '../../core/protocol_client/protocol_client.js';\nimport * as Root from '../../core/root/root.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Bindings from '../../models/bindings/bindings.js';\nimport * as Extensions from '../../models/extensions/extensions.js';\nimport * as IssuesManager from '../../models/issues_manager/issues_manager.js';\nimport * as Logs from '../../models/logs/logs.js';\nimport * as Persistence from '../../models/persistence/persistence.js';\nimport * as Recorder from '../../models/recorder/recorder.js';\nimport * as Workspace from '../../models/workspace/workspace.js';\nimport * as Snippets from '../../panels/snippets/snippets.js';\nimport * as Timeline from '../../panels/timeline/timeline.js';\nimport * as PerfUI from '../../ui/legacy/components/perf_ui/perf_ui.js';\nimport * as Components from '../../ui/legacy/components/utils/utils.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as ThemeSupport from '../../ui/legacy/theme_support/theme_support.js';\n\nimport {ExecutionContextSelector} from './ExecutionContextSelector.js';\n\nconst UIStrings = {\n  /**\n  *@description A message to display prompting the user to reload DevTools if the OS color scheme changes.\n  */\n  theSystempreferredColorSchemeHas:\n      'The system-preferred color scheme has changed. To apply this change to DevTools, reload.',\n  /**\n  *@description Title of item in main\n  */\n  customizeAndControlDevtools: 'Customize and control DevTools',\n  /**\n  *@description Title element text content in Main\n  */\n  dockSide: 'Dock side',\n  /**\n  *@description Title element title in Main\n  *@example {Ctrl+Shift+D} PH1\n  */\n  placementOfDevtoolsRelativeToThe: 'Placement of DevTools relative to the page. ({PH1} to restore last position)',\n  /**\n  *@description Text to undock the DevTools\n  */\n  undockIntoSeparateWindow: 'Undock into separate window',\n  /**\n  *@description Text to dock the DevTools to the bottom of the browser tab\n  */\n  dockToBottom: 'Dock to bottom',\n  /**\n  *@description Text to dock the DevTools to the right of the browser tab\n  */\n  dockToRight: 'Dock to right',\n  /**\n  *@description Text to dock the DevTools to the left of the browser tab\n  */\n  dockToLeft: 'Dock to left',\n  /**\n  *@description Text in Main\n  */\n  focusDebuggee: 'Focus debuggee',\n  /**\n  *@description Text in Main\n  */\n  hideConsoleDrawer: 'Hide console drawer',\n  /**\n  *@description Text in Main\n  */\n  showConsoleDrawer: 'Show console drawer',\n  /**\n  *@description A context menu item in the Main\n  */\n  moreTools: 'More tools',\n  /**\n  *@description Text for the viewing the help options\n  */\n  help: 'Help',\n};\nconst str_ = i18n.i18n.registerUIStrings('entrypoints/main/MainImpl.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport class MainImpl {\n  _lateInitDonePromise!: Promise<void>;\n\n  constructor() {\n    MainImpl._instanceForTest = this;\n    Platform.runOnWindowLoad(() => {\n      this._loaded();\n    });\n  }\n\n  static time(label: string): void {\n    if (Host.InspectorFrontendHost.isUnderTest()) {\n      return;\n    }\n    console.time(label);\n  }\n\n  static timeEnd(label: string): void {\n    if (Host.InspectorFrontendHost.isUnderTest()) {\n      return;\n    }\n    console.timeEnd(label);\n  }\n\n  async _loaded(): Promise<void> {\n    console.timeStamp('Main._loaded');\n    await Root.Runtime.appStarted;\n    Root.Runtime.Runtime.setPlatform(Host.Platform.platform());\n    const prefs = await new Promise<{[key: string]: string}>(resolve => {\n      Host.InspectorFrontendHost.InspectorFrontendHostInstance.getPreferences(resolve);\n    });\n\n    console.timeStamp('Main._gotPreferences');\n    this._createSettings(prefs);\n    await this.requestAndRegisterLocaleData();\n    this._createAppUI();\n  }\n\n  async requestAndRegisterLocaleData(): Promise<void> {\n    // The language setting is only available when the experiment is enabled.\n    // TODO(crbug.com/1163928): Remove the check when the experiment is gone.\n    let settingLanguage = 'en-US';\n    if (Root.Runtime.experiments.isEnabled(Root.Runtime.ExperimentName.LOCALIZED_DEVTOOLS)) {\n      settingLanguage = Common.Settings.Settings.instance().moduleSetting<string>('language').get();\n    }\n\n    const devToolsLocale = i18n.DevToolsLocale.DevToolsLocale.instance({\n      create: true,\n      data: {\n        navigatorLanguage: navigator.language,\n        settingLanguage,\n        lookupClosestDevToolsLocale: i18n.i18n.lookupClosestSupportedDevToolsLocale,\n      },\n    });\n\n    if (devToolsLocale.locale !== 'en-US') {\n      // Always load en-US locale data as a fallback. This is important, newly added\n      // strings won't have a translation. If fetching en-US.json fails, something\n      // is seriously wrong and the exception should bubble up.\n      await i18n.i18n.fetchAndRegisterLocaleData('en-US');\n    }\n\n    try {\n      await i18n.i18n.fetchAndRegisterLocaleData(devToolsLocale.locale);\n    } catch (error) {\n      console.error(error);\n      // Loading the actual locale data failed, tell DevTools to use 'en-US'.\n      devToolsLocale.forceFallbackLocale();\n    }\n  }\n\n  _createSettings(prefs: {\n    [x: string]: string,\n  }): void {\n    this._initializeExperiments();\n    let storagePrefix = '';\n    if (Host.Platform.isCustomDevtoolsFrontend()) {\n      storagePrefix = '__custom__';\n    } else if (\n        !Root.Runtime.Runtime.queryParam('can_dock') && Boolean(Root.Runtime.Runtime.queryParam('debugFrontend')) &&\n        !Host.InspectorFrontendHost.isUnderTest()) {\n      storagePrefix = '__bundled__';\n    }\n\n    let localStorage;\n    if (!Host.InspectorFrontendHost.isUnderTest() && window.localStorage) {\n      localStorage = new Common.Settings.SettingsStorage(\n          window.localStorage, undefined, undefined, () => window.localStorage.clear(), storagePrefix);\n    } else {\n      localStorage = new Common.Settings.SettingsStorage({}, undefined, undefined, undefined, storagePrefix);\n    }\n    const globalStorage = new Common.Settings.SettingsStorage(\n        prefs, Host.InspectorFrontendHost.InspectorFrontendHostInstance.setPreference,\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance.removePreference,\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance.clearPreferences, storagePrefix);\n    Common.Settings.Settings.instance({forceNew: true, globalStorage, localStorage});\n\n    // @ts-ignore layout test global\n    self.Common.settings = Common.Settings.Settings.instance();\n\n    if (!Host.InspectorFrontendHost.isUnderTest()) {\n      new Common.Settings.VersionController().updateVersion();\n    }\n  }\n\n  _initializeExperiments(): void {\n    Root.Runtime.experiments.register('applyCustomStylesheet', 'Allow extensions to load custom stylesheets');\n    Root.Runtime.experiments.register('captureNodeCreationStacks', 'Capture node creation stacks');\n    Root.Runtime.experiments.register('sourcesPrettyPrint', 'Automatically pretty print in the Sources Panel');\n    Root.Runtime.experiments.register('backgroundServices', 'Background web platform feature events', true);\n    Root.Runtime.experiments.register(\n        'backgroundServicesNotifications', 'Background services section for Notifications');\n    Root.Runtime.experiments.register(\n        'backgroundServicesPaymentHandler', 'Background services section for Payment Handler');\n    Root.Runtime.experiments.register(\n        'backgroundServicesPushMessaging', 'Background services section for Push Messaging');\n    // TODO(crbug.com/1161439): remove 'blackboxJSFramesOnTimeline', keep 'ignoreListJSFramesOnTimeline'\n    Root.Runtime.experiments.register(\n        'blackboxJSFramesOnTimeline', 'Ignore List for JavaScript frames on Timeline', true);\n    Root.Runtime.experiments.register(\n        'ignoreListJSFramesOnTimeline', 'Ignore List for JavaScript frames on Timeline', true);\n    Root.Runtime.experiments.register('cssOverview', 'CSS Overview');\n    Root.Runtime.experiments.register('emptySourceMapAutoStepping', 'Empty sourcemap auto-stepping');\n    Root.Runtime.experiments.register('inputEventsOnTimelineOverview', 'Input events on Timeline overview', true);\n    Root.Runtime.experiments.register('liveHeapProfile', 'Live heap profile', true);\n    Root.Runtime.experiments.register('protocolMonitor', 'Protocol Monitor');\n    Root.Runtime.experiments.register('developerResourcesView', 'Show developer resources view');\n    Root.Runtime.experiments.register('cspViolationsView', 'Show CSP Violations view');\n    Root.Runtime.experiments.register(\n        'recordCoverageWithPerformanceTracing', 'Record coverage while performance tracing');\n    Root.Runtime.experiments.register('samplingHeapProfilerTimeline', 'Sampling heap profiler timeline', true);\n    Root.Runtime.experiments.register(\n        'showOptionToNotTreatGlobalObjectsAsRoots',\n        'Show option to take heap snapshot where globals are not treated as root');\n    Root.Runtime.experiments.register('sourceDiff', 'Source diff');\n    Root.Runtime.experiments.register('sourceOrderViewer', 'Source order viewer');\n    Root.Runtime.experiments.register('spotlight', 'Spotlight', true);\n    Root.Runtime.experiments.register('webauthnPane', 'WebAuthn Pane');\n    Root.Runtime.experiments.register('keyboardShortcutEditor', 'Enable keyboard shortcut editor', true);\n    Root.Runtime.experiments.register('recorder', 'Recorder');\n\n    // Back-forward cache\n    Root.Runtime.experiments.register('bfcacheDebugging', 'Enable back-forward cache debugging support');\n\n    // Timeline\n    Root.Runtime.experiments.register('timelineEventInitiators', 'Timeline: event initiators');\n    Root.Runtime.experiments.register('timelineInvalidationTracking', 'Timeline: invalidation tracking', true);\n    Root.Runtime.experiments.register('timelineShowAllEvents', 'Timeline: show all events', true);\n    Root.Runtime.experiments.register(\n        'timelineV8RuntimeCallStats', 'Timeline: V8 Runtime Call Stats on Timeline', true);\n    Root.Runtime.experiments.register('timelineWebGL', 'Timeline: WebGL-based flamechart');\n    Root.Runtime.experiments.register('timelineReplayEvent', 'Timeline: Replay input events', true);\n    Root.Runtime.experiments.register('wasmDWARFDebugging', 'WebAssembly Debugging: Enable DWARF support');\n\n    // Dual-screen\n    Root.Runtime.experiments.register('dualScreenSupport', 'Emulation: Support dual screen mode');\n    Root.Runtime.experiments.setEnabled('dualScreenSupport', true);\n\n    // Advanced Perceptual Contrast Algorithm.\n    Root.Runtime.experiments.register(\n        'APCA',\n        'Enable new Advanced Perceptual Contrast Algorithm (APCA) replacing previous contrast ratio and AA/AAA guidelines');\n\n    // Full Accessibility Tree\n    Root.Runtime.experiments.register(\n        'fullAccessibilityTree', 'Enable full accessibility tree view in the Elements panel');\n\n    // Font Editor\n    Root.Runtime.experiments.register('fontEditor', 'Enable new Font Editor tool within the Styles Pane.');\n\n    // Contrast issues reported via the Issues panel.\n    Root.Runtime.experiments.register(\n        'contrastIssues', 'Enable automatic contrast issue reporting via the Issues panel');\n\n    // New cookie features.\n    Root.Runtime.experiments.register('experimentalCookieFeatures', 'Enable experimental cookie features');\n\n    Root.Runtime.experiments.enableExperimentsByDefault([\n      'sourceOrderViewer',\n    ]);\n\n    // Localized DevTools, hide \"locale selector\" setting behind an experiment.\n    Root.Runtime.experiments.register(Root.Runtime.ExperimentName.LOCALIZED_DEVTOOLS, 'Enable localized DevTools');\n\n    Root.Runtime.experiments.cleanUpStaleExperiments();\n    const enabledExperiments = Root.Runtime.Runtime.queryParam('enabledExperiments');\n    if (enabledExperiments) {\n      Root.Runtime.experiments.setServerEnabledExperiments(enabledExperiments.split(';'));\n    }\n    Root.Runtime.experiments.enableExperimentsTransiently([\n      'backgroundServices',\n      'backgroundServicesNotifications',\n      'backgroundServicesPushMessaging',\n      'backgroundServicesPaymentHandler',\n      'webauthnPane',\n      'developerResourcesView',\n    ]);\n\n    if (Host.InspectorFrontendHost.isUnderTest()) {\n      const testParam = Root.Runtime.Runtime.queryParam('test');\n      if (testParam && testParam.includes('live-line-level-heap-profile.js')) {\n        Root.Runtime.experiments.enableForTest('liveHeapProfile');\n      }\n    }\n\n    // TODO(crbug.com/1161439): remove experiment duplication\n    const isBlackboxJSFramesOnTimelineEnabled = Root.Runtime.experiments.isEnabled('blackboxJSFramesOnTimeline');\n    Root.Runtime.experiments.setEnabled('ignoreListJSFramesOnTimeline', isBlackboxJSFramesOnTimelineEnabled);\n\n    for (const experiment of Root.Runtime.experiments.enabledExperiments()) {\n      Host.userMetrics.experimentEnabledAtLaunch(experiment.name);\n    }\n  }\n  async _createAppUI(): Promise<void> {\n    MainImpl.time('Main._createAppUI');\n\n    // @ts-ignore layout test global\n    self.UI.viewManager = UI.ViewManager.ViewManager.instance();\n\n    // Request filesystems early, we won't create connections until callback is fired. Things will happen in parallel.\n    // @ts-ignore layout test global\n    self.Persistence.isolatedFileSystemManager =\n        Persistence.IsolatedFileSystemManager.IsolatedFileSystemManager.instance();\n\n    const defaultThemeSetting = 'systemPreferred';\n    const themeSetting = Common.Settings.Settings.instance().createSetting('uiTheme', defaultThemeSetting);\n    UI.UIUtils.initializeUIUtils(document, themeSetting);\n    if (themeSetting.get() === defaultThemeSetting) {\n      const darkThemeMediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n      darkThemeMediaQuery.addEventListener('change', () => {\n        UI.InspectorView.InspectorView.instance().displayReloadRequiredWarning(\n            i18nString(UIStrings.theSystempreferredColorSchemeHas));\n      });\n    }\n    UI.UIUtils.installComponentRootStyles((document.body as Element));\n\n    this._addMainEventListeners(document);\n\n    const canDock = Boolean(Root.Runtime.Runtime.queryParam('can_dock'));\n    // @ts-ignore layout test global\n    self.UI.zoomManager = UI.ZoomManager.ZoomManager.instance(\n        {forceNew: true, win: window, frontendHost: Host.InspectorFrontendHost.InspectorFrontendHostInstance});\n    // @ts-ignore layout test global\n    self.UI.inspectorView = UI.InspectorView.InspectorView.instance();\n    UI.ContextMenu.ContextMenu.initialize();\n    UI.ContextMenu.ContextMenu.installHandler(document);\n    UI.Tooltip.Tooltip.installHandler(document);\n\n\n    // These instances need to be created early so they don't miss any events about requests/issues/etc.\n    Logs.NetworkLog.NetworkLog.instance();\n    SDK.FrameManager.FrameManager.instance();\n    Logs.LogManager.LogManager.instance();\n    IssuesManager.IssuesManager.IssuesManager.instance({\n      forceNew: true,\n      ensureFirst: true,\n      showThirdPartyIssuesSetting: IssuesManager.Issue.getShowThirdPartyIssuesSetting(),\n    });\n    IssuesManager.ContrastCheckTrigger.ContrastCheckTrigger.instance();\n\n    // @ts-ignore layout test global\n    self.SDK.consoleModel = SDK.ConsoleModel.ConsoleModel.instance();\n    // @ts-ignore layout test global\n    self.UI.dockController = UI.DockController.DockController.instance({forceNew: true, canDock});\n    // @ts-ignore layout test global\n    self.SDK.multitargetNetworkManager = SDK.NetworkManager.MultitargetNetworkManager.instance({forceNew: true});\n    // @ts-ignore layout test global\n    self.SDK.domDebuggerManager = SDK.DOMDebuggerModel.DOMDebuggerManager.instance({forceNew: true});\n    SDK.TargetManager.TargetManager.instance().addEventListener(\n        SDK.TargetManager.Events.SuspendStateChanged, this._onSuspendStateChanged.bind(this));\n\n    // @ts-ignore layout test global\n    self.Workspace.fileManager = Workspace.FileManager.FileManager.instance({forceNew: true});\n    // @ts-ignore layout test global\n    self.Workspace.workspace = Workspace.Workspace.WorkspaceImpl.instance();\n\n    // @ts-ignore layout test global\n    self.Bindings.networkProjectManager = Bindings.NetworkProject.NetworkProjectManager.instance();\n    // @ts-ignore layout test global\n    self.Bindings.resourceMapping = Bindings.ResourceMapping.ResourceMapping.instance({\n      forceNew: true,\n      targetManager: SDK.TargetManager.TargetManager.instance(),\n      workspace: Workspace.Workspace.WorkspaceImpl.instance(),\n    });\n    new Bindings.PresentationConsoleMessageHelper.PresentationConsoleMessageManager();\n    // @ts-ignore layout test global\n    self.Bindings.cssWorkspaceBinding = Bindings.CSSWorkspaceBinding.CSSWorkspaceBinding.instance({\n      forceNew: true,\n      targetManager: SDK.TargetManager.TargetManager.instance(),\n      workspace: Workspace.Workspace.WorkspaceImpl.instance(),\n    });\n    // @ts-ignore layout test global\n    self.Bindings.debuggerWorkspaceBinding = Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance({\n      forceNew: true,\n      targetManager: SDK.TargetManager.TargetManager.instance(),\n      workspace: Workspace.Workspace.WorkspaceImpl.instance(),\n    });\n    // @ts-ignore layout test global\n    self.Bindings.breakpointManager = Bindings.BreakpointManager.BreakpointManager.instance({\n      forceNew: true,\n      workspace: Workspace.Workspace.WorkspaceImpl.instance(),\n      targetManager: SDK.TargetManager.TargetManager.instance(),\n      debuggerWorkspaceBinding: Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance(),\n    });\n    // @ts-ignore layout test global\n    self.Extensions.extensionServer = Extensions.ExtensionServer.ExtensionServer.instance({forceNew: true});\n\n    new Persistence.FileSystemWorkspaceBinding.FileSystemWorkspaceBinding(\n        Persistence.IsolatedFileSystemManager.IsolatedFileSystemManager.instance(),\n        Workspace.Workspace.WorkspaceImpl.instance());\n    Persistence.IsolatedFileSystemManager.IsolatedFileSystemManager.instance().addPlatformFileSystem(\n        // @ts-ignore https://github.com/microsoft/TypeScript/issues/41397\n        'snippet://', new Snippets.ScriptSnippetFileSystem.SnippetFileSystem());\n\n    if (Root.Runtime.experiments.isEnabled('recorder')) {\n      Persistence.IsolatedFileSystemManager.IsolatedFileSystemManager.instance().addPlatformFileSystem(\n          // @ts-ignore https://github.com/microsoft/TypeScript/issues/41397\n          'recording://', new Recorder.RecordingFileSystem.RecordingFileSystem());\n    }\n\n    // @ts-ignore layout test global\n    self.Persistence.persistence = Persistence.Persistence.PersistenceImpl.instance({\n      forceNew: true,\n      workspace: Workspace.Workspace.WorkspaceImpl.instance(),\n      breakpointManager: Bindings.BreakpointManager.BreakpointManager.instance(),\n    });\n    // @ts-ignore layout test global\n    self.Persistence.networkPersistenceManager =\n        Persistence.NetworkPersistenceManager.NetworkPersistenceManager.instance(\n            {forceNew: true, workspace: Workspace.Workspace.WorkspaceImpl.instance()});\n\n    new ExecutionContextSelector(SDK.TargetManager.TargetManager.instance(), UI.Context.Context.instance());\n    // @ts-ignore layout test global\n    self.Bindings.ignoreListManager = Bindings.IgnoreListManager.IgnoreListManager.instance({\n      forceNew: true,\n      debuggerWorkspaceBinding: Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance(),\n    });\n\n    new PauseListener();\n\n    const actionRegistryInstance = UI.ActionRegistry.ActionRegistry.instance({forceNew: true});\n    // Required for legacy a11y layout tests\n    // @ts-ignore layout test global\n    self.UI.actionRegistry = actionRegistryInstance;\n    // @ts-ignore layout test global\n    self.UI.shortcutRegistry =\n        UI.ShortcutRegistry.ShortcutRegistry.instance({forceNew: true, actionRegistry: actionRegistryInstance});\n    this._registerMessageSinkListener();\n\n    MainImpl.timeEnd('Main._createAppUI');\n\n    const appProvider = Common.AppProvider.getRegisteredAppProviders()[0];\n    if (!appProvider) {\n      throw new Error('Unable to boot DevTools, as the appprovider is missing');\n    }\n    await this._showAppUI(await appProvider.loadAppProvider());\n  }\n\n  async _showAppUI(appProvider: Object): Promise<void> {\n    MainImpl.time('Main._showAppUI');\n    const app = (appProvider as Common.AppProvider.AppProvider).createApp();\n    // It is important to kick controller lifetime after apps are instantiated.\n    UI.DockController.DockController.instance().initialize();\n    app.presentUI(document);\n\n    const toggleSearchNodeAction = UI.ActionRegistry.ActionRegistry.instance().action('elements.toggle-element-search');\n    // TODO: we should not access actions from other modules.\n    if (toggleSearchNodeAction) {\n      Host.InspectorFrontendHost.InspectorFrontendHostInstance.events.addEventListener(\n          Host.InspectorFrontendHostAPI.Events.EnterInspectElementMode, () => {\n            toggleSearchNodeAction.execute();\n          }, this);\n    }\n    Host.InspectorFrontendHost.InspectorFrontendHostInstance.events.addEventListener(\n        Host.InspectorFrontendHostAPI.Events.RevealSourceLine, this._revealSourceLine, this);\n\n    await UI.InspectorView.InspectorView.instance().createToolbars();\n    Host.InspectorFrontendHost.InspectorFrontendHostInstance.loadCompleted();\n\n    const value = Root.Runtime.Runtime.queryParam('loadTimelineFromURL');\n    if (value !== null) {\n      Timeline.TimelinePanel.LoadTimelineHandler.instance().handleQueryParam(value);\n    }\n\n    // Allow UI cycles to repaint prior to creating connection.\n    setTimeout(this._initializeTarget.bind(this), 0);\n    MainImpl.timeEnd('Main._showAppUI');\n  }\n\n  async _initializeTarget(): Promise<void> {\n    MainImpl.time('Main._initializeTarget');\n\n    // We rely on having the early initialization runnables registered in Common when an app loads its\n    // modules, so that we don't have to exhaustively check the app DevTools is running as to\n    // start the applicable runnables.\n    for (const runnableInstanceFunction of Common.Runnable.earlyInitializationRunnables()) {\n      await runnableInstanceFunction().run();\n    }\n    // Used for browser tests.\n    Host.InspectorFrontendHost.InspectorFrontendHostInstance.readyForTest();\n    // Asynchronously run the extensions.\n    setTimeout(this._lateInitialization.bind(this), 100);\n    MainImpl.timeEnd('Main._initializeTarget');\n  }\n\n  _lateInitialization(): void {\n    MainImpl.time('Main._lateInitialization');\n    Extensions.ExtensionServer.ExtensionServer.instance().initializeExtensions();\n    const promises: Promise<void>[] =\n        Common.Runnable.lateInitializationRunnables().map(runnableInstance => runnableInstance().run());\n    if (Root.Runtime.experiments.isEnabled('liveHeapProfile')) {\n      const setting = 'memoryLiveHeapProfile';\n      if (Common.Settings.Settings.instance().moduleSetting(setting).get()) {\n        promises.push(PerfUI.LiveHeapProfile.LiveHeapProfile.instance().run());\n      } else {\n        const changeListener = async(event: Common.EventTarget.EventTargetEvent): Promise<void> => {\n          if (!event.data) {\n            return;\n          }\n          Common.Settings.Settings.instance().moduleSetting(setting).removeChangeListener(changeListener);\n          PerfUI.LiveHeapProfile.LiveHeapProfile.instance().run();\n        };\n        Common.Settings.Settings.instance().moduleSetting(setting).addChangeListener(changeListener);\n      }\n    }\n    this._lateInitDonePromise = Promise.all(promises).then(() => undefined);\n    MainImpl.timeEnd('Main._lateInitialization');\n  }\n\n  lateInitDonePromiseForTest(): Promise<void>|null {\n    return this._lateInitDonePromise;\n  }\n\n  _registerMessageSinkListener(): void {\n    Common.Console.Console.instance().addEventListener(Common.Console.Events.MessageAdded, messageAdded);\n\n    function messageAdded(event: Common.EventTarget.EventTargetEvent): void {\n      const message = (event.data as Common.Console.Message);\n      if (message.show) {\n        Common.Console.Console.instance().show();\n      }\n    }\n  }\n\n  _revealSourceLine(event: Common.EventTarget.EventTargetEvent): void {\n    const url = (event.data['url'] as string);\n    const lineNumber = (event.data['lineNumber'] as number);\n    const columnNumber = (event.data['columnNumber'] as number);\n\n    const uiSourceCode = Workspace.Workspace.WorkspaceImpl.instance().uiSourceCodeForURL(url);\n    if (uiSourceCode) {\n      Common.Revealer.reveal(uiSourceCode.uiLocation(lineNumber, columnNumber));\n      return;\n    }\n\n    function listener(event: Common.EventTarget.EventTargetEvent): void {\n      const uiSourceCode = (event.data as Workspace.UISourceCode.UISourceCode);\n      if (uiSourceCode.url() === url) {\n        Common.Revealer.reveal(uiSourceCode.uiLocation(lineNumber, columnNumber));\n        Workspace.Workspace.WorkspaceImpl.instance().removeEventListener(\n            Workspace.Workspace.Events.UISourceCodeAdded, listener);\n      }\n    }\n\n    Workspace.Workspace.WorkspaceImpl.instance().addEventListener(\n        Workspace.Workspace.Events.UISourceCodeAdded, listener);\n  }\n\n  _postDocumentKeyDown(event: Event): void {\n    if (!event.handled) {\n      UI.ShortcutRegistry.ShortcutRegistry.instance().handleShortcut((event as KeyboardEvent));\n    }\n  }\n\n  _redispatchClipboardEvent(event: Event): void {\n    const eventCopy = new CustomEvent('clipboard-' + event.type, {bubbles: true});\n    // @ts-ignore Used in ElementsTreeOutline\n    eventCopy['original'] = event;\n    const document = event.target && (event.target as HTMLElement).ownerDocument;\n    const target = document ? document.deepActiveElement() : null;\n    if (target) {\n      target.dispatchEvent(eventCopy);\n    }\n    if (eventCopy.handled) {\n      event.preventDefault();\n    }\n  }\n\n  _contextMenuEventFired(event: Event): void {\n    if (event.handled || (event.target as HTMLElement).classList.contains('popup-glasspane')) {\n      event.preventDefault();\n    }\n  }\n\n  _addMainEventListeners(document: Document): void {\n    document.addEventListener('keydown', this._postDocumentKeyDown.bind(this), false);\n    document.addEventListener('beforecopy', this._redispatchClipboardEvent.bind(this), true);\n    document.addEventListener('copy', this._redispatchClipboardEvent.bind(this), false);\n    document.addEventListener('cut', this._redispatchClipboardEvent.bind(this), false);\n    document.addEventListener('paste', this._redispatchClipboardEvent.bind(this), false);\n    document.addEventListener('contextmenu', this._contextMenuEventFired.bind(this), true);\n  }\n\n  _onSuspendStateChanged(): void {\n    const suspended = SDK.TargetManager.TargetManager.instance().allTargetsSuspended();\n    UI.InspectorView.InspectorView.instance().onSuspendStateChanged(suspended);\n  }\n\n  static _instanceForTest: MainImpl|null = null;\n}\n\n// @ts-ignore Exported for Tests.js\nglobalThis.Main = globalThis.Main || {};\n// @ts-ignore Exported for Tests.js\nglobalThis.Main.Main = MainImpl;\n\nlet zoomActionDelegateInstance: ZoomActionDelegate;\n\nexport class ZoomActionDelegate implements UI.ActionRegistration.ActionDelegate {\n  static instance(opts: {\n    forceNew: boolean|null,\n  } = {forceNew: null}): ZoomActionDelegate {\n    const {forceNew} = opts;\n    if (!zoomActionDelegateInstance || forceNew) {\n      zoomActionDelegateInstance = new ZoomActionDelegate();\n    }\n\n    return zoomActionDelegateInstance;\n  }\n\n  handleAction(context: UI.Context.Context, actionId: string): boolean {\n    if (Host.InspectorFrontendHost.InspectorFrontendHostInstance.isHostedMode()) {\n      return false;\n    }\n\n    switch (actionId) {\n      case 'main.zoom-in':\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance.zoomIn();\n        return true;\n      case 'main.zoom-out':\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance.zoomOut();\n        return true;\n      case 'main.zoom-reset':\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance.resetZoom();\n        return true;\n    }\n    return false;\n  }\n}\n\nlet searchActionDelegateInstance: SearchActionDelegate;\n\nexport class SearchActionDelegate implements UI.ActionRegistration.ActionDelegate {\n  static instance(opts: {\n    forceNew: boolean|null,\n  } = {forceNew: null}): SearchActionDelegate {\n    const {forceNew} = opts;\n    if (!searchActionDelegateInstance || forceNew) {\n      searchActionDelegateInstance = new SearchActionDelegate();\n    }\n\n    return searchActionDelegateInstance;\n  }\n\n  handleAction(context: UI.Context.Context, actionId: string): boolean {\n    let searchableView = UI.SearchableView.SearchableView.fromElement(document.deepActiveElement());\n    if (!searchableView) {\n      const currentPanel = (UI.InspectorView.InspectorView.instance().currentPanelDeprecated() as UI.Panel.Panel);\n      if (currentPanel && currentPanel.searchableView) {\n        searchableView = currentPanel.searchableView();\n      }\n      if (!searchableView) {\n        return false;\n      }\n    }\n    switch (actionId) {\n      case 'main.search-in-panel.find':\n        return searchableView.handleFindShortcut();\n      case 'main.search-in-panel.cancel':\n        return searchableView.handleCancelSearchShortcut();\n      case 'main.search-in-panel.find-next':\n        return searchableView.handleFindNextShortcut();\n      case 'main.search-in-panel.find-previous':\n        return searchableView.handleFindPreviousShortcut();\n    }\n    return false;\n  }\n}\nlet mainMenuItemInstance: MainMenuItem;\n\nexport class MainMenuItem implements UI.Toolbar.Provider {\n  _item: UI.Toolbar.ToolbarMenuButton;\n  constructor() {\n    this._item = new UI.Toolbar.ToolbarMenuButton(this._handleContextMenu.bind(this), true);\n    this._item.element.classList.add('main-menu');\n    this._item.setTitle(i18nString(UIStrings.customizeAndControlDevtools));\n  }\n\n  static instance(opts: {\n    forceNew: boolean|null,\n  } = {forceNew: null}): MainMenuItem {\n    const {forceNew} = opts;\n    if (!mainMenuItemInstance || forceNew) {\n      mainMenuItemInstance = new MainMenuItem();\n    }\n\n    return mainMenuItemInstance;\n  }\n\n  item(): UI.Toolbar.ToolbarItem|null {\n    return this._item;\n  }\n\n  _handleContextMenu(contextMenu: UI.ContextMenu.ContextMenu): void {\n    if (UI.DockController.DockController.instance().canDock()) {\n      const dockItemElement = document.createElement('div');\n      dockItemElement.classList.add('flex-centered');\n      dockItemElement.classList.add('flex-auto');\n      dockItemElement.tabIndex = -1;\n      UI.ARIAUtils.setAccessibleName(dockItemElement, UIStrings.dockSide);\n      const titleElement = dockItemElement.createChild('span', 'flex-auto');\n      titleElement.textContent = i18nString(UIStrings.dockSide);\n      const toggleDockSideShorcuts =\n          UI.ShortcutRegistry.ShortcutRegistry.instance().shortcutsForAction('main.toggle-dock');\n      UI.Tooltip.Tooltip.install(\n          titleElement,\n          i18nString(UIStrings.placementOfDevtoolsRelativeToThe, {PH1: toggleDockSideShorcuts[0].title()}));\n      dockItemElement.appendChild(titleElement);\n      const dockItemToolbar = new UI.Toolbar.Toolbar('', dockItemElement);\n      if (Host.Platform.isMac() && !ThemeSupport.ThemeSupport.instance().hasTheme()) {\n        dockItemToolbar.makeBlueOnHover();\n      }\n      const undock = new UI.Toolbar.ToolbarToggle(i18nString(UIStrings.undockIntoSeparateWindow), 'largeicon-undock');\n      const bottom = new UI.Toolbar.ToolbarToggle(i18nString(UIStrings.dockToBottom), 'largeicon-dock-to-bottom');\n      const right = new UI.Toolbar.ToolbarToggle(i18nString(UIStrings.dockToRight), 'largeicon-dock-to-right');\n      const left = new UI.Toolbar.ToolbarToggle(i18nString(UIStrings.dockToLeft), 'largeicon-dock-to-left');\n      undock.addEventListener(UI.Toolbar.ToolbarButton.Events.MouseDown, event => event.data.consume());\n      bottom.addEventListener(UI.Toolbar.ToolbarButton.Events.MouseDown, event => event.data.consume());\n      right.addEventListener(UI.Toolbar.ToolbarButton.Events.MouseDown, event => event.data.consume());\n      left.addEventListener(UI.Toolbar.ToolbarButton.Events.MouseDown, event => event.data.consume());\n      undock.addEventListener(\n          UI.Toolbar.ToolbarButton.Events.Click, setDockSide.bind(null, UI.DockController.State.Undocked));\n      bottom.addEventListener(\n          UI.Toolbar.ToolbarButton.Events.Click, setDockSide.bind(null, UI.DockController.State.DockedToBottom));\n      right.addEventListener(\n          UI.Toolbar.ToolbarButton.Events.Click, setDockSide.bind(null, UI.DockController.State.DockedToRight));\n      left.addEventListener(\n          UI.Toolbar.ToolbarButton.Events.Click, setDockSide.bind(null, UI.DockController.State.DockedToLeft));\n      undock.setToggled(UI.DockController.DockController.instance().dockSide() === UI.DockController.State.Undocked);\n      bottom.setToggled(\n          UI.DockController.DockController.instance().dockSide() === UI.DockController.State.DockedToBottom);\n      right.setToggled(\n          UI.DockController.DockController.instance().dockSide() === UI.DockController.State.DockedToRight);\n      left.setToggled(UI.DockController.DockController.instance().dockSide() === UI.DockController.State.DockedToLeft);\n      dockItemToolbar.appendToolbarItem(undock);\n      dockItemToolbar.appendToolbarItem(left);\n      dockItemToolbar.appendToolbarItem(bottom);\n      dockItemToolbar.appendToolbarItem(right);\n      dockItemElement.addEventListener('keydown', event => {\n        let dir = 0;\n        if (event.key === 'ArrowLeft') {\n          dir = -1;\n        } else if (event.key === 'ArrowRight') {\n          dir = 1;\n        } else {\n          return;\n        }\n\n        const buttons = [undock, left, bottom, right];\n        let index = buttons.findIndex(button => button.element.hasFocus());\n        index = Platform.NumberUtilities.clamp(index + dir, 0, buttons.length - 1);\n\n        buttons[index].element.focus();\n        event.consume(true);\n      });\n      contextMenu.headerSection().appendCustomItem(dockItemElement);\n    }\n\n    const button = (this._item.element as HTMLButtonElement);\n\n    function setDockSide(side: string): void {\n      UI.DockController.DockController.instance().once(UI.DockController.Events.AfterDockSideChanged).then(() => {\n        button.focus();\n      });\n      UI.DockController.DockController.instance().setDockSide(side);\n      contextMenu.discard();\n    }\n\n    if (UI.DockController.DockController.instance().dockSide() === UI.DockController.State.Undocked) {\n      const mainTarget = SDK.TargetManager.TargetManager.instance().mainTarget();\n      if (mainTarget && mainTarget.type() === SDK.Target.Type.Frame) {\n        contextMenu.defaultSection().appendAction('inspector_main.focus-debuggee', i18nString(UIStrings.focusDebuggee));\n      }\n    }\n\n    contextMenu.defaultSection().appendAction(\n        'main.toggle-drawer',\n        UI.InspectorView.InspectorView.instance().drawerVisible() ? i18nString(UIStrings.hideConsoleDrawer) :\n                                                                    i18nString(UIStrings.showConsoleDrawer));\n    contextMenu.appendItemsAtLocation('mainMenu');\n    const moreTools = contextMenu.defaultSection().appendSubMenuItem(i18nString(UIStrings.moreTools));\n    const viewExtensions = UI.ViewManager.getRegisteredViewExtensions();\n    viewExtensions.sort((extension1, extension2) => {\n      const title1 = extension1.title();\n      const title2 = extension2.title();\n      return title1.localeCompare(title2);\n    });\n\n    for (const viewExtension of viewExtensions) {\n      const location = viewExtension.location();\n      const persistence = viewExtension.persistence();\n      const title = viewExtension.title();\n      const id = viewExtension.viewId();\n\n      if (id === 'issues-pane') {\n        moreTools.defaultSection().appendItem(title, () => {\n          Host.userMetrics.issuesPanelOpenedFrom(Host.UserMetrics.IssueOpener.HamburgerMenu);\n          UI.ViewManager.ViewManager.instance().showView('issues-pane', /* userGesture */ true);\n        });\n        continue;\n      }\n\n      if (persistence !== 'closeable') {\n        continue;\n      }\n      if (location !== 'drawer-view' && location !== 'panel') {\n        continue;\n      }\n      moreTools.defaultSection().appendItem(title, () => {\n        UI.ViewManager.ViewManager.instance().showView(id, true, false);\n      });\n    }\n\n    const helpSubMenu = contextMenu.footerSection().appendSubMenuItem(i18nString(UIStrings.help));\n    helpSubMenu.appendItemsAtLocation('mainMenuHelp');\n  }\n}\n\nlet settingsButtonProviderInstance: SettingsButtonProvider;\n\nexport class SettingsButtonProvider implements UI.Toolbar.Provider {\n  _settingsButton: UI.Toolbar.ToolbarButton;\n  private constructor() {\n    const settingsActionId = 'settings.show';\n    this._settingsButton =\n        UI.Toolbar.Toolbar.createActionButtonForId(settingsActionId, {showLabel: false, userActionCode: undefined});\n  }\n\n  static instance(opts: {\n    forceNew: boolean|null,\n  } = {forceNew: null}): SettingsButtonProvider {\n    const {forceNew} = opts;\n    if (!settingsButtonProviderInstance || forceNew) {\n      settingsButtonProviderInstance = new SettingsButtonProvider();\n    }\n\n    return settingsButtonProviderInstance;\n  }\n\n  item(): UI.Toolbar.ToolbarItem|null {\n    return this._settingsButton;\n  }\n}\n\nexport class PauseListener {\n  constructor() {\n    SDK.TargetManager.TargetManager.instance().addModelListener(\n        SDK.DebuggerModel.DebuggerModel, SDK.DebuggerModel.Events.DebuggerPaused, this._debuggerPaused, this);\n  }\n\n  _debuggerPaused(event: Common.EventTarget.EventTargetEvent): void {\n    SDK.TargetManager.TargetManager.instance().removeModelListener(\n        SDK.DebuggerModel.DebuggerModel, SDK.DebuggerModel.Events.DebuggerPaused, this._debuggerPaused, this);\n    const debuggerModel = (event.data as SDK.DebuggerModel.DebuggerModel);\n    const debuggerPausedDetails = debuggerModel.debuggerPausedDetails();\n    UI.Context.Context.instance().setFlavor(SDK.Target.Target, debuggerModel.target());\n    Common.Revealer.reveal(debuggerPausedDetails);\n  }\n}\n\n// TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function sendOverProtocol(method: string, params: Object|null): Promise<any[]|null> {\n  return new Promise((resolve, reject) => {\n    const sendRawMessage = ProtocolClient.InspectorBackend.test.sendRawMessage;\n    if (!sendRawMessage) {\n      return reject('Unable to send message to test client');\n    }\n    sendRawMessage(method, params, (err, ...results) => {\n      if (err) {\n        return reject(err);\n      }\n      return resolve(results);\n    });\n  });\n}\n\nlet reloadActionDelegateInstance: ReloadActionDelegate;\n\nexport class ReloadActionDelegate implements UI.ActionRegistration.ActionDelegate {\n  static instance(opts: {\n    forceNew: boolean|null,\n  } = {forceNew: null}): ReloadActionDelegate {\n    const {forceNew} = opts;\n    if (!reloadActionDelegateInstance || forceNew) {\n      reloadActionDelegateInstance = new ReloadActionDelegate();\n    }\n\n    return reloadActionDelegateInstance;\n  }\n\n  handleAction(context: UI.Context.Context, actionId: string): boolean {\n    switch (actionId) {\n      case 'main.debug-reload':\n        Components.Reload.reload();\n        return true;\n    }\n    return false;\n  }\n}\n\nnew MainImpl();\n"]}