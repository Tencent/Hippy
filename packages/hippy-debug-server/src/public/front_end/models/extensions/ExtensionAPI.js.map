{"version":3,"file":"ExtensionAPI.js","sourceRoot":"","sources":["../../../../../../front_end/models/extensions/ExtensionAPI.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright (C) 2012 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n// @ts-nocheck\n// TODO(crbug.com/1011811): Enable TypeScript compiler checks\n\n// TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration\n/* eslint-disable @typescript-eslint/no-explicit-any,@typescript-eslint/naming-convention */\n\nexport function defineCommonExtensionSymbols(apiPrivate: any): void {\n  if (!apiPrivate.panels) {\n    apiPrivate.panels = {};\n  }\n  apiPrivate.panels.SearchAction = {\n    CancelSearch: 'cancelSearch',\n    PerformSearch: 'performSearch',\n    NextSearchResult: 'nextSearchResult',\n    PreviousSearchResult: 'previousSearchResult',\n  };\n\n  /** @enum {string} */\n  apiPrivate.Events = {\n    ButtonClicked: 'button-clicked-',\n    PanelObjectSelected: 'panel-objectSelected-',\n    NetworkRequestFinished: 'network-request-finished',\n    OpenResource: 'open-resource',\n    PanelSearch: 'panel-search-',\n    RecordingStarted: 'trace-recording-started-',\n    RecordingStopped: 'trace-recording-stopped-',\n    ResourceAdded: 'resource-added',\n    ResourceContentCommitted: 'resource-content-committed',\n    ViewShown: 'view-shown-',\n    ViewHidden: 'view-hidden-',\n  };\n\n  /** @enum {string} */\n  apiPrivate.Commands = {\n    AddRequestHeaders: 'addRequestHeaders',\n    AddTraceProvider: 'addTraceProvider',\n    ApplyStyleSheet: 'applyStyleSheet',\n    CompleteTraceSession: 'completeTraceSession',\n    CreatePanel: 'createPanel',\n    CreateSidebarPane: 'createSidebarPane',\n    CreateToolbarButton: 'createToolbarButton',\n    EvaluateOnInspectedPage: 'evaluateOnInspectedPage',\n    ForwardKeyboardEvent: '_forwardKeyboardEvent',\n    GetHAR: 'getHAR',\n    GetPageResources: 'getPageResources',\n    GetRequestContent: 'getRequestContent',\n    GetResourceContent: 'getResourceContent',\n    InspectedURLChanged: 'inspectedURLChanged',\n    OpenResource: 'openResource',\n    Reload: 'Reload',\n    Subscribe: 'subscribe',\n    SetOpenResourceHandler: 'setOpenResourceHandler',\n    SetResourceContent: 'setResourceContent',\n    SetSidebarContent: 'setSidebarContent',\n    SetSidebarHeight: 'setSidebarHeight',\n    SetSidebarPage: 'setSidebarPage',\n    ShowPanel: 'showPanel',\n    Unsubscribe: 'unsubscribe',\n    UpdateButton: 'updateButton',\n    RegisterLanguageExtensionPlugin: 'registerLanguageExtensionPlugin',\n  };\n\n  /** @enum {string} */\n  apiPrivate.LanguageExtensionPluginCommands = {\n    AddRawModule: 'addRawModule',\n    RemoveRawModule: 'removeRawModule',\n    SourceLocationToRawLocation: 'sourceLocationToRawLocation',\n    RawLocationToSourceLocation: 'rawLocationToSourceLocation',\n    GetScopeInfo: 'getScopeInfo',\n    ListVariablesInScope: 'listVariablesInScope',\n    GetTypeInfo: 'getTypeInfo',\n    GetFormatter: 'getFormatter',\n    GetInspectableAddress: 'getInspectableAddress',\n    GetFunctionInfo: 'getFunctionInfo',\n    GetInlinedFunctionRanges: 'getInlinedFunctionRanges',\n    GetInlinedCalleesRanges: 'getInlinedCalleesRanges',\n    GetMappedLines: 'getMappedLines',\n  };\n\n  /** @enum {string} */\n  apiPrivate.LanguageExtensionPluginEvents = {\n    UnregisteredLanguageExtensionPlugin: 'unregisteredLanguageExtensionPlugin',\n  };\n}\n\nself.injectedExtensionAPI = function(\n    extensionInfo: any, inspectedTabId: string, themeName: string, keysToForward: number[],\n    testHook: (arg0: Object, arg1: Object) => any, injectedScriptId: number): void {\n  const keysToForwardSet = new Set<number>(keysToForward);\n  const chrome = window.chrome || {};\n\n  const devtools_descriptor = Object.getOwnPropertyDescriptor(chrome, 'devtools');\n  if (devtools_descriptor) {\n    return;\n  }\n\n  const apiPrivate = {};\n\n  defineCommonExtensionSymbols(apiPrivate);\n\n  const commands = apiPrivate.Commands;\n  const languageExtensionPluginCommands = apiPrivate.LanguageExtensionPluginCommands;\n  const languageExtensionPluginEvents = apiPrivate.LanguageExtensionPluginEvents;\n  const events = apiPrivate.Events;\n  let userAction = false;\n\n  // Here and below, all constructors are private to API implementation.\n  // For a public type Foo, if internal fields are present, these are on\n  // a private FooImpl type, an instance of FooImpl is used in a closure\n  // by Foo consutrctor to re-bind publicly exported members to an instance\n  // of Foo.\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/naming-convention\n  function EventSinkImpl(type: any, customDispatch: any): void {\n    this._type = type;\n    this._listeners = [];\n    this._customDispatch = customDispatch;\n  }\n\n  EventSinkImpl.prototype = {\n\n    addListener: function(callback: any): void {\n      if (typeof callback !== 'function') {\n        throw 'addListener: callback is not a function';\n      }\n      if (this._listeners.length === 0) {\n        extensionServer.sendRequest({command: commands.Subscribe, type: this._type});\n      }\n      this._listeners.push(callback);\n      extensionServer.registerHandler('notify-' + this._type, this._dispatch.bind(this));\n    },\n\n\n    removeListener: function(callback: any): void {\n      const listeners = this._listeners;\n\n      for (let i = 0; i < listeners.length; ++i) {\n        if (listeners[i] === callback) {\n          listeners.splice(i, 1);\n          break;\n        }\n      }\n      if (this._listeners.length === 0) {\n        extensionServer.sendRequest({command: commands.Unsubscribe, type: this._type});\n      }\n    },\n\n\n    _fire: function _(_vararg: any): void {\n      const listeners = this._listeners.slice();\n      for (let i = 0; i < listeners.length; ++i) {\n        listeners[i].apply(null, arguments);\n      }\n    },\n\n\n    _dispatch: function(request: any): void {\n      if (this._customDispatch) {\n        this._customDispatch.call(this, request);\n      } else {\n        this._fire.apply(this, request.arguments);\n      }\n    },\n  };\n\n  /**\n   * @constructor\n   */\n\n  function InspectorExtensionAPI(): void {\n    this.inspectedWindow = new InspectedWindow();\n    this.panels = new Panels();\n    this.network = new Network();\n    this.timeline = new Timeline();\n    this.languageServices = new LanguageServicesAPI();\n    defineDeprecatedProperty(this, 'webInspector', 'resources', 'network');\n  }\n\n  /**\n   * @constructor\n   */\n\n  function Network(): void {\n    function dispatchRequestEvent(this: EventSinkImpl, message: any): void {\n      const request = message.arguments[1];\n      request.__proto__ = new Request(message.arguments[0]);\n      this._fire(request);\n    }\n    this.onRequestFinished = new EventSink(events.NetworkRequestFinished, dispatchRequestEvent);\n    defineDeprecatedProperty(this, 'network', 'onFinished', 'onRequestFinished');\n    this.onNavigated = new EventSink(events.InspectedURLChanged);\n  }\n\n  Network.prototype = {\n    getHAR: function(callback: any): void {\n      function callbackWrapper(result: any): void {\n        const entries = (result && result.entries) || [];\n        for (let i = 0; i < entries.length; ++i) {\n          entries[i].__proto__ = new Request(entries[i]._requestId);\n          delete entries[i]._requestId;\n        }\n        callback(result);\n      }\n      extensionServer.sendRequest({command: commands.GetHAR}, callback && callbackWrapper);\n    },\n\n    addRequestHeaders: function(headers: any): void {\n      extensionServer.sendRequest(\n          {command: commands.AddRequestHeaders, headers: headers, extensionId: window.location.hostname});\n    },\n  };\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/naming-convention\n  function RequestImpl(id: any): void {\n    this._id = id;\n  }\n\n  RequestImpl.prototype = {\n    getContent: function(callback: any): void {\n      function callbackWrapper(response: any): void {\n        callback(response.content, response.encoding);\n      }\n      extensionServer.sendRequest({command: commands.GetRequestContent, id: this._id}, callback && callbackWrapper);\n    },\n  };\n\n  /**\n   * @constructor\n   */\n  function Panels(): void {\n    const panels = {\n      elements: new ElementsPanel(),\n      sources: new SourcesPanel(),\n    };\n\n    function panelGetter(name: any): any {\n      return panels[name];\n    }\n    for (const panel in panels) {\n      Object.defineProperty(this, panel, {get: panelGetter.bind(null, panel), enumerable: true});\n    }\n    this.applyStyleSheet = function(styleSheet: any): void {\n      extensionServer.sendRequest({command: commands.ApplyStyleSheet, styleSheet: styleSheet});\n    };\n  }\n\n  Panels.prototype = {\n    create: function(title: any, icon: any, page: any, callback: any): void {\n      const id = 'extension-panel-' + extensionServer.nextObjectId();\n      const request = {command: commands.CreatePanel, id: id, title: title, icon: icon, page: page};\n      extensionServer.sendRequest(request, callback && callback.bind(this, new ExtensionPanel(id)));\n    },\n\n    setOpenResourceHandler: function(callback: any): void {\n      const hadHandler = extensionServer.hasHandler(events.OpenResource);\n\n      function callbackWrapper(message: any): void {\n        // Allow the panel to show itself when handling the event.\n        userAction = true;\n        try {\n          callback.call(null, new Resource(message.resource), message.lineNumber);\n        } finally {\n          userAction = false;\n        }\n      }\n\n      if (!callback) {\n        extensionServer.unregisterHandler(events.OpenResource);\n      } else {\n        extensionServer.registerHandler(events.OpenResource, callbackWrapper);\n      }\n\n      // Only send command if we either removed an existing handler or added handler and had none before.\n      if (hadHandler === !callback) {\n        extensionServer.sendRequest({command: commands.SetOpenResourceHandler, 'handlerPresent': Boolean(callback)});\n      }\n    },\n\n    openResource: function(url: any, lineNumber: any, callback: any): void {\n      extensionServer.sendRequest({command: commands.OpenResource, 'url': url, 'lineNumber': lineNumber}, callback);\n    },\n\n    get SearchAction(): any {\n      return apiPrivate.panels.SearchAction;\n    },\n  };\n\n  /**\n   * @constructor\n   */\n  function ExtensionViewImpl(id: any): void {\n    this._id = id;\n\n    function dispatchShowEvent(this: EventSinkImpl, message: any): void {\n      const frameIndex = message.arguments[0];\n      if (typeof frameIndex === 'number') {\n        this._fire(window.parent.frames[frameIndex]);\n      } else {\n        this._fire();\n      }\n    }\n\n    if (id) {\n      this.onShown = new EventSink(events.ViewShown + id, dispatchShowEvent);\n      this.onHidden = new EventSink(events.ViewHidden + id);\n    }\n  }\n\n  /**\n   * @constructor\n   * @extends {ExtensionViewImpl}\n   */\n  function PanelWithSidebarImpl(hostPanelName: string): void {\n    ExtensionViewImpl.call(this, null);\n    this._hostPanelName = hostPanelName;\n    this.onSelectionChanged = new EventSink(events.PanelObjectSelected + hostPanelName);\n  }\n\n  PanelWithSidebarImpl.prototype = {\n    createSidebarPane: function(title: any, callback: any): void {\n      const id = 'extension-sidebar-' + extensionServer.nextObjectId();\n      const request = {command: commands.CreateSidebarPane, panel: this._hostPanelName, id: id, title: title};\n      function callbackWrapper(): void {\n        callback(new ExtensionSidebarPane(id));\n      }\n      extensionServer.sendRequest(request, callback && callbackWrapper);\n    },\n\n    __proto__: ExtensionViewImpl.prototype,\n  };\n\n  /**\n   * @constructor\n   */\n  function LanguageServicesAPIImpl(): void {\n    /** @type {!Map<*, !MessagePort>} */\n    this._plugins = new Map();\n  }\n\n  LanguageServicesAPIImpl.prototype = {\n    registerLanguageExtensionPlugin: async function(plugin: any, pluginName: string, supportedScriptTypes: {\n      language: string,\n      symbol_types: string[],\n    }): Promise<void> {\n      if (this._plugins.has(plugin)) {\n        throw new Error(`Tried to register plugin '${pluginName}' twice`);\n      }\n      const channel = new MessageChannel();\n      const port = channel.port1;\n      this._plugins.set(plugin, port);\n      port.onmessage = ({data: {requestId, method, parameters}}: MessageEvent<any>): void => {\n        console.time(`${requestId}: ${method}`);\n        dispatchMethodCall(method, parameters)\n            .then(result => port.postMessage({requestId, result}))\n            .catch(error => port.postMessage({requestId, error: {message: error.message}}))\n            .finally(() => console.timeEnd(`${requestId}: ${method}`));\n      };\n\n      function dispatchMethodCall(method: string, parameters: any): Promise<any> {\n        switch (method) {\n          case languageExtensionPluginCommands.AddRawModule:\n            return plugin.addRawModule(parameters.rawModuleId, parameters.symbolsURL, parameters.rawModule);\n          case languageExtensionPluginCommands.RemoveRawModule:\n            return plugin.removeRawModule(parameters.rawModuleId);\n          case languageExtensionPluginCommands.SourceLocationToRawLocation:\n            return plugin.sourceLocationToRawLocation(parameters.sourceLocation);\n          case languageExtensionPluginCommands.RawLocationToSourceLocation:\n            return plugin.rawLocationToSourceLocation(parameters.rawLocation);\n          case languageExtensionPluginCommands.GetScopeInfo:\n            return plugin.getScopeInfo(parameters.type);\n          case languageExtensionPluginCommands.ListVariablesInScope:\n            return plugin.listVariablesInScope(parameters.rawLocation);\n          case languageExtensionPluginCommands.GetTypeInfo:\n            return plugin.getTypeInfo(parameters.expression, parameters.context);\n          case languageExtensionPluginCommands.GetFormatter:\n            return plugin.getFormatter(parameters.expressionOrField, parameters.context);\n          case languageExtensionPluginCommands.GetInspectableAddress:\n            if ('getInspectableAddress' in plugin) {\n              return plugin.getInspectableAddress(parameters.field);\n            }\n            return Promise.resolve({js: ''});\n          case languageExtensionPluginCommands.GetFunctionInfo:\n            return plugin.getFunctionInfo(parameters.rawLocation);\n          case languageExtensionPluginCommands.GetInlinedFunctionRanges:\n            return plugin.getInlinedFunctionRanges(parameters.rawLocation);\n          case languageExtensionPluginCommands.GetInlinedCalleesRanges:\n            return plugin.getInlinedCalleesRanges(parameters.rawLocation);\n          case languageExtensionPluginCommands.GetMappedLines:\n            if ('getMappedLines' in plugin) {\n              return plugin.getMappedLines(parameters.rawModuleId, parameters.sourceFileURL);\n            }\n            return Promise.resolve(undefined);\n        }\n        throw new Error(`Unknown language plugin method ${method}`);\n      }\n\n      await new Promise(resolve => {\n        extensionServer.sendRequest(\n            {command: commands.RegisterLanguageExtensionPlugin, pluginName, port: channel.port2, supportedScriptTypes},\n            () => resolve(), [channel.port2]);\n      });\n    },\n\n    unregisterLanguageExtensionPlugin: async function(plugin: any): Promise<void> {\n      const port = this._plugins.get(plugin);\n      if (!port) {\n        throw new Error('Tried to unregister a plugin that was not previously registered');\n      }\n      this._plugins.delete(plugin);\n      port.postMessage({event: languageExtensionPluginEvents.UnregisteredLanguageExtensionPlugin});\n      port.close();\n    },\n  };\n\n  function declareInterfaceClass(implConstructor: any): (...args: any[]) => void {\n    return function(): void {\n      const impl = {__proto__: implConstructor.prototype};\n      implConstructor.apply(impl, arguments);\n      populateInterfaceClass(this, impl);\n    };\n  }\n\n  function defineDeprecatedProperty(object: any, className: any, oldName: any, newName: any): void {\n    let warningGiven = false;\n    function getter(): any {\n      if (!warningGiven) {\n        console.warn(className + '.' + oldName + ' is deprecated. Use ' + className + '.' + newName + ' instead');\n        warningGiven = true;\n      }\n      return object[newName];\n    }\n    object.__defineGetter__(oldName, getter);\n  }\n\n  function extractCallbackArgument(args: any): any {\n    const lastArgument = args[args.length - 1];\n    return typeof lastArgument === 'function' ? lastArgument : undefined;\n  }\n\n  const LanguageServicesAPI = declareInterfaceClass(LanguageServicesAPIImpl);\n  const Button = declareInterfaceClass(ButtonImpl);\n  const EventSink = declareInterfaceClass(EventSinkImpl);\n  const ExtensionPanel = declareInterfaceClass(ExtensionPanelImpl);\n  const ExtensionSidebarPane = declareInterfaceClass(ExtensionSidebarPaneImpl);\n  /**\n   * @constructor\n   * @param {string} hostPanelName\n   */\n  const PanelWithSidebarClass = declareInterfaceClass(PanelWithSidebarImpl);\n  const Request = declareInterfaceClass(RequestImpl);\n  const Resource = declareInterfaceClass(ResourceImpl);\n  const TraceSession = declareInterfaceClass(TraceSessionImpl);\n\n  class ElementsPanel extends PanelWithSidebarClass {\n    constructor() {\n      super('elements');\n    }\n  }\n\n  class SourcesPanel extends PanelWithSidebarClass {\n    constructor() {\n      super('sources');\n    }\n  }\n\n  /**\n   * @constructor\n   * @extends {ExtensionViewImpl}\n   */\n  function ExtensionPanelImpl(id: any): void {\n    ExtensionViewImpl.call(this, id);\n    this.onSearch = new EventSink(events.PanelSearch + id);\n  }\n\n  ExtensionPanelImpl.prototype = {\n    createStatusBarButton: function(iconPath: any, tooltipText: any, disabled: any): Object {\n      const id = 'button-' + extensionServer.nextObjectId();\n      const request = {\n        command: commands.CreateToolbarButton,\n        panel: this._id,\n        id: id,\n        icon: iconPath,\n        tooltip: tooltipText,\n        disabled: Boolean(disabled),\n      };\n      extensionServer.sendRequest(request);\n      return new Button(id);\n    },\n\n    show: function(): void {\n      if (!userAction) {\n        return;\n      }\n\n      const request = {command: commands.ShowPanel, id: this._id};\n      extensionServer.sendRequest(request);\n    },\n\n    __proto__: ExtensionViewImpl.prototype,\n  };\n\n  /**\n   * @constructor\n   * @extends {ExtensionViewImpl}\n   */\n  function ExtensionSidebarPaneImpl(id: any): void {\n    ExtensionViewImpl.call(this, id);\n  }\n\n  ExtensionSidebarPaneImpl.prototype = {\n    setHeight: function(height: any): void {\n      extensionServer.sendRequest({command: commands.SetSidebarHeight, id: this._id, height: height});\n    },\n\n    setExpression: function(expression: any, rootTitle: any, evaluateOptions: any): void {\n      const request = {\n        command: commands.SetSidebarContent,\n        id: this._id,\n        expression: expression,\n        rootTitle: rootTitle,\n        evaluateOnPage: true,\n      };\n      if (typeof evaluateOptions === 'object') {\n        request.evaluateOptions = evaluateOptions;\n      }\n      extensionServer.sendRequest(request, extractCallbackArgument(arguments));\n    },\n\n    setObject: function(jsonObject: any, rootTitle: any, callback: any): void {\n      extensionServer.sendRequest(\n          {command: commands.SetSidebarContent, id: this._id, expression: jsonObject, rootTitle: rootTitle}, callback);\n    },\n\n    setPage: function(page: any): void {\n      extensionServer.sendRequest({command: commands.SetSidebarPage, id: this._id, page: page});\n    },\n\n    __proto__: ExtensionViewImpl.prototype,\n  };\n\n  /**\n   * @constructor\n   */\n  function ButtonImpl(id: any): void {\n    this._id = id;\n    this.onClicked = new EventSink(events.ButtonClicked + id);\n  }\n\n  ButtonImpl.prototype = {\n    update: function(iconPath: any, tooltipText: any, disabled: any): void {\n      const request = {\n        command: commands.UpdateButton,\n        id: this._id,\n        icon: iconPath,\n        tooltip: tooltipText,\n        disabled: Boolean(disabled),\n      };\n      extensionServer.sendRequest(request);\n    },\n  };\n\n  /**\n   * @constructor\n   */\n  function Timeline(): void {\n  }\n\n  Timeline.prototype = {\n    addTraceProvider: function(categoryName: string, categoryTooltip: string): TraceProvider {\n      const id = 'extension-trace-provider-' + extensionServer.nextObjectId();\n      extensionServer.sendRequest(\n          {command: commands.AddTraceProvider, id: id, categoryName: categoryName, categoryTooltip: categoryTooltip});\n      return new TraceProvider(id);\n    },\n  };\n\n  /**\n   * @constructor\n   */\n  function TraceSessionImpl(id: string): void {\n    this._id = id;\n  }\n\n  TraceSessionImpl.prototype = {\n    complete: function(url?: string, timeOffset?: number): void {\n      const request =\n          {command: commands.CompleteTraceSession, id: this._id, url: url || '', timeOffset: timeOffset || 0};\n      extensionServer.sendRequest(request);\n    },\n  };\n\n  /**\n   * @constructor\n   */\n  function TraceProvider(id: string): void {\n    function dispatchRecordingStarted(this: EventSinkImpl, message: any): void {\n      const sessionId = message.arguments[0];\n      this._fire(new TraceSession(sessionId));\n    }\n\n    this.onRecordingStarted = new EventSink(events.RecordingStarted + id, dispatchRecordingStarted);\n    this.onRecordingStopped = new EventSink(events.RecordingStopped + id);\n  }\n\n  /**\n   * @constructor\n   */\n  function InspectedWindow(): void {\n    function dispatchResourceEvent(this: EventSinkImpl, message: any): void {\n      this._fire(new Resource(message.arguments[0]));\n    }\n\n    function dispatchResourceContentEvent(this: EventSinkImpl, message: any): void {\n      this._fire(new Resource(message.arguments[0]), message.arguments[1]);\n    }\n\n    this.onResourceAdded = new EventSink(events.ResourceAdded, dispatchResourceEvent);\n    this.onResourceContentCommitted = new EventSink(events.ResourceContentCommitted, dispatchResourceContentEvent);\n  }\n\n  InspectedWindow.prototype = {\n    reload: function(optionsOrUserAgent: any): void {\n      let options: {\n        userAgent: string,\n      }|null = null;\n      if (typeof optionsOrUserAgent === 'object') {\n        options = optionsOrUserAgent;\n      } else if (typeof optionsOrUserAgent === 'string') {\n        options = {userAgent: optionsOrUserAgent};\n        console.warn(\n            'Passing userAgent as string parameter to inspectedWindow.reload() is deprecated. ' +\n            'Use inspectedWindow.reload({ userAgent: value}) instead.');\n      }\n      extensionServer.sendRequest({command: commands.Reload, options: options});\n    },\n\n    eval: function(expression: any, evaluateOptions: any): Object |\n        null {\n          const callback = extractCallbackArgument(arguments);\n          function callbackWrapper(result: any): void {\n            if (result.isError || result.isException) {\n              callback(undefined, result);\n            } else {\n              callback(result.value);\n            }\n          }\n          const request = {command: commands.EvaluateOnInspectedPage, expression: expression};\n          if (typeof evaluateOptions === 'object') {\n            request.evaluateOptions = evaluateOptions;\n          }\n          extensionServer.sendRequest(request, callback && callbackWrapper);\n          return null;\n        },\n\n    getResources: function(callback: any): void {\n      function wrapResource(resourceData: any): any {\n        return new Resource(resourceData);\n      }\n      function callbackWrapper(resources: any): void {\n        callback(resources.map(wrapResource));\n      }\n      extensionServer.sendRequest({command: commands.GetPageResources}, callback && callbackWrapper);\n    },\n  };\n\n  /**\n   * @constructor\n   */\n  function ResourceImpl(resourceData: any): void {\n    this._url = resourceData.url;\n    this._type = resourceData.type;\n  }\n\n  ResourceImpl.prototype = {\n    get url(): string {\n      return this._url;\n    },\n\n    get type(): string {\n      return this._type;\n    },\n\n    getContent: function(callback: any): void {\n      function callbackWrapper(response: any): void {\n        callback(response.content, response.encoding);\n      }\n\n      extensionServer.sendRequest({command: commands.GetResourceContent, url: this._url}, callback && callbackWrapper);\n    },\n\n    setContent: function(content: any, commit: any, callback: any): void {\n      extensionServer.sendRequest(\n          {command: commands.SetResourceContent, url: this._url, content: content, commit: commit}, callback);\n    },\n  };\n\n  function getTabId(): string {\n    return inspectedTabId;\n  }\n\n  let keyboardEventRequestQueue: any[] = [];\n  let forwardTimer: number|null = null;\n  function forwardKeyboardEvent(event: any): void {\n    // Check if the event should be forwarded.\n    // This is a workaround for crbug.com/923338.\n    const focused = document.activeElement;\n    if (focused) {\n      const isInput = focused.nodeName === 'INPUT' || focused.nodeName === 'TEXTAREA';\n      if (isInput && !(event.ctrlKey || event.altKey || event.metaKey)) {\n        return;\n      }\n    }\n\n    let modifiers = 0;\n    if (event.shiftKey) {\n      modifiers |= 1;\n    }\n    if (event.ctrlKey) {\n      modifiers |= 2;\n    }\n    if (event.altKey) {\n      modifiers |= 4;\n    }\n    if (event.metaKey) {\n      modifiers |= 8;\n    }\n    const num = (event.keyCode & 255) | (modifiers << 8);\n    // We only care about global hotkeys, not about random text\n    if (!keysToForwardSet.has(num)) {\n      return;\n    }\n    event.preventDefault();\n    const requestPayload = {\n      eventType: event.type,\n      ctrlKey: event.ctrlKey,\n      altKey: event.altKey,\n      metaKey: event.metaKey,\n      shiftKey: event.shiftKey,\n      keyIdentifier: event.keyIdentifier,\n      key: event.key,\n      code: event.code,\n      location: event.location,\n      keyCode: event.keyCode,\n    };\n    keyboardEventRequestQueue.push(requestPayload);\n    if (!forwardTimer) {\n      forwardTimer = setTimeout(forwardEventQueue, 0);\n    }\n  }\n\n  function forwardEventQueue(): void {\n    forwardTimer = null;\n    const request = {command: commands.ForwardKeyboardEvent, entries: keyboardEventRequestQueue};\n    extensionServer.sendRequest(request);\n    keyboardEventRequestQueue = [];\n  }\n\n  document.addEventListener('keydown', forwardKeyboardEvent, false);\n\n  /**\n   * @constructor\n   */\n  function ExtensionServerClient(): void {\n    this._callbacks = {};\n    this._handlers = {};\n    this._lastRequestId = 0;\n    this._lastObjectId = 0;\n\n    this.registerHandler('callback', this._onCallback.bind(this));\n\n    const channel = new MessageChannel();\n    this._port = channel.port1;\n    this._port.addEventListener('message', this._onMessage.bind(this), false);\n    this._port.start();\n\n    window.parent.postMessage('registerExtension', '*', [channel.port2]);\n  }\n\n  ExtensionServerClient.prototype = {\n    sendRequest: function(message: Object, callback?: (() => any), transfers?: any[]): void {\n      if (typeof callback === 'function') {\n        message.requestId = this._registerCallback(callback);\n      }\n      this._port.postMessage(message, transfers);\n    },\n\n    hasHandler: function(command: any): boolean {\n      return Boolean(this._handlers[command]);\n    },\n\n    registerHandler: function(command: any, handler: any): void {\n      this._handlers[command] = handler;\n    },\n\n    unregisterHandler: function(command: any): void {\n      delete this._handlers[command];\n    },\n\n    nextObjectId: function(): string {\n      return injectedScriptId.toString() + '_' + ++this._lastObjectId;\n    },\n\n    _registerCallback: function(callback: any): number {\n      const id = ++this._lastRequestId;\n      this._callbacks[id] = callback;\n      return id;\n    },\n\n    _onCallback: function(request: any): void {\n      if (request.requestId in this._callbacks) {\n        const callback = this._callbacks[request.requestId];\n        delete this._callbacks[request.requestId];\n        callback(request.result);\n      }\n    },\n\n    _onMessage: function(event: any): void {\n      const request = event.data;\n      const handler = this._handlers[request.command];\n      if (handler) {\n        handler.call(this, request);\n      }\n    },\n  };\n\n  function populateInterfaceClass(interfaze: any, implementation: any): void {\n    for (const member in implementation) {\n      if (member.charAt(0) === '_') {\n        continue;\n      }\n      let descriptor: (PropertyDescriptor|undefined)|null = null;\n      // Traverse prototype chain until we find the owner.\n      for (let owner = implementation; owner && !descriptor; owner = owner.__proto__) {\n        descriptor = Object.getOwnPropertyDescriptor(owner, member);\n      }\n      if (!descriptor) {\n        continue;\n      }\n      if (typeof descriptor.value === 'function') {\n        interfaze[member] = descriptor.value.bind(implementation);\n      } else if (typeof descriptor.get === 'function') {\n        interfaze.__defineGetter__(member, descriptor.get.bind(implementation));\n      } else {\n        Object.defineProperty(interfaze, member, descriptor);\n      }\n    }\n  }\n\n  const extensionServer = new ExtensionServerClient();\n  const coreAPI = new InspectorExtensionAPI();\n\n  Object.defineProperty(chrome, 'devtools', {value: {}, enumerable: true});\n\n  // Only expose tabId on chrome.devtools.inspectedWindow, not webInspector.inspectedWindow.\n  chrome.devtools.inspectedWindow = {};\n  Object.defineProperty(chrome.devtools.inspectedWindow, 'tabId', {get: getTabId});\n  chrome.devtools.inspectedWindow.__proto__ = coreAPI.inspectedWindow;\n  chrome.devtools.network = coreAPI.network;\n  chrome.devtools.panels = coreAPI.panels;\n  chrome.devtools.panels.themeName = themeName;\n  chrome.devtools.languageServices = new LanguageServicesAPI();\n\n  // default to expose experimental APIs for now.\n  if (extensionInfo.exposeExperimentalAPIs !== false) {\n    chrome.experimental = chrome.experimental || {};\n    chrome.experimental.devtools = chrome.experimental.devtools || {};\n\n    const properties = Object.getOwnPropertyNames(coreAPI);\n    for (let i = 0; i < properties.length; ++i) {\n      const descriptor = Object.getOwnPropertyDescriptor(coreAPI, properties[i]);\n      if (descriptor) {\n        Object.defineProperty(chrome.experimental.devtools, properties[i], descriptor);\n      }\n    }\n    chrome.experimental.devtools.inspectedWindow = chrome.devtools.inspectedWindow;\n  }\n\n  if (extensionInfo.exposeWebInspectorNamespace) {\n    window.webInspector = coreAPI;\n  }\n  testHook(extensionServer, coreAPI);\n};\n\nself.buildExtensionAPIInjectedScript = function(\n    extensionInfo: {\n      startPage: string,\n      name: string,\n      exposeExperimentalAPIs: boolean,\n    },\n    inspectedTabId: string, themeName: string, keysToForward: number[],\n    testHook: ((arg0: Object, arg1: Object) => any)|undefined): string {\n  const argumentsJSON =\n      [extensionInfo, inspectedTabId || null, themeName, keysToForward].map(_ => JSON.stringify(_)).join(',');\n  if (!testHook) {\n    testHook = (): void => {};\n  }\n  return '(function(injectedScriptId){ ' + defineCommonExtensionSymbols.toString() + ';' +\n      '(' + self.injectedExtensionAPI.toString() + ')(' + argumentsJSON + ',' + testHook + ', injectedScriptId);' +\n      '})';\n};\n"]}