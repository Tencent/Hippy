{"version":3,"file":"NodeURL.js","sourceRoot":"","sources":["../../../../../../front_end/core/protocol_client/NodeURL.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAE7B,uDAAuD;AAEvD,OAAO,KAAK,MAAM,MAAM,qBAAqB,CAAC;AAC9C,OAAO,KAAK,IAAI,MAAM,iBAAiB,CAAC;AAExC,MAAM,OAAO,OAAO;IAClB,MAAM,CAAC,KAAK,CAAC,MAEZ;QACC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;QAEpB,SAAS,OAAO,CACZ,MAEC,EACD,IAAY;YACd,IAAI,MAAM,CAAC,GAAG,IAAI,OAAO,CAAC,eAAe,CAAC,MAAM,CAAC,GAAG,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,EAAE;gBAC5E,MAAM,CAAC,GAAG,GAAG,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,iBAAiB,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;aACvE;YACD,KAAK,MAAM,KAAK,IAAI,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;gBAC1C,MAAM,GAAG,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;gBACrB,MAAM,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;gBACvB,MAAM,SAAS,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,CAAC;gBACnC,IAAI,SAAS,KAAK,sBAAsB,IAAI,KAAK,KAAK,IAAI,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;oBACvF,OAAO,CACF,KAEC,EACF,SAAS,CAAC,CAAC;iBAChB;aACF;QACH,CAAC;IACH,CAAC;IAED,MAAM,CAAC,eAAe,CAAC,cAAsB,EAAE,SAAkB;QAC/D,IAAI,SAAS,EAAE;YACb,MAAM,EAAE,GAAG,uBAAuB,CAAC;YACnC,OAAO,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;SAChC;QACD,OAAO,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC;IACnE,CAAC;CACF","sourcesContent":["// Copyright 2018 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/* eslint-disable rulesdir/no_underscored_properties */\n\nimport * as Common from '../common/common.js';\nimport * as Host from '../host/host.js';\n\nexport class NodeURL {\n  static patch(object: {\n    url: string,\n  }): void {\n    process(object, '');\n\n    function process(\n        object: {\n          url: string,\n        },\n        path: string): void {\n      if (object.url && NodeURL._isPlatformPath(object.url, Host.Platform.isWin())) {\n        object.url = Common.ParsedURL.ParsedURL.platformPathToURL(object.url);\n      }\n      for (const entry of Object.entries(object)) {\n        const key = entry[0];\n        const value = entry[1];\n        const entryPath = path + '.' + key;\n        if (entryPath !== '.result.result.value' && value !== null && typeof value === 'object') {\n          process(\n              (value as {\n                url: string,\n              }),\n              entryPath);\n        }\n      }\n    }\n  }\n\n  static _isPlatformPath(fileSystemPath: string, isWindows: boolean): boolean {\n    if (isWindows) {\n      const re = /^([a-z]:[\\/\\\\]|\\\\\\\\)/i;\n      return re.test(fileSystemPath);\n    }\n    return fileSystemPath.length ? fileSystemPath[0] === '/' : false;\n  }\n}\n"]}