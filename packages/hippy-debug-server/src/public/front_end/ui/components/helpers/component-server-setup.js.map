{"version":3,"file":"component-server-setup.js","sourceRoot":"","sources":["../../../../../../../front_end/ui/components/helpers/component-server-setup.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAG7B,OAAO,KAAK,IAAI,MAAM,4BAA4B,CAAC;AACnD,OAAO,KAAK,YAAY,MAAM,6CAA6C,CAAC;AAE5E,OAAO,EAAC,kCAAkC,EAAC,MAAM,qBAAqB,CAAC;AAEvE;;;GAGG;AACH,MAAM,CAAC,KAAK,UAAU,KAAK;IACzB,MAAM,OAAO,GAAG;QACd,GAAG;YACD,OAAO,SAAS,CAAC;QACnB,CAAC;KACiC,CAAC;IACrC,YAAY,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAC,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAC,CAAC,CAAC;IAE9D,MAAM,WAAW,GAAG,kCAAkC,CAAC,GAAG,CAAC,YAAY,CAAC,EAAE;QACxE,OAAO,KAAK,CAAC,aAAa,GAAG,YAAY,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;YAC1F,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,GAAG,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,MAAM,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;AACjC,CAAC","sourcesContent":["// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport type * as Common from '../../../core/common/common.js';\nimport * as Root from '../../../core/root/root.js';\nimport * as ThemeSupport from '../../legacy/theme_support/theme_support.js';\n\nimport {CSS_RESOURCES_TO_LOAD_INTO_RUNTIME} from './get-stylesheet.js';\n\n/**\n * Houses any setup required to run the component docs server. Currently this is\n * only populating the runtime CSS cache but may be extended in the future.\n */\nexport async function setup(): Promise<void> {\n  const setting = {\n    get() {\n      return 'default';\n    },\n  } as Common.Settings.Setting<string>;\n  ThemeSupport.ThemeSupport.instance({forceNew: true, setting});\n\n  const allPromises = CSS_RESOURCES_TO_LOAD_INTO_RUNTIME.map(resourcePath => {\n    return fetch('/front_end/' + resourcePath).then(response => response.text()).then(cssText => {\n      Root.Runtime.cachedResources.set(resourcePath, cssText);\n    });\n  });\n\n  await Promise.all(allPromises);\n}\n"]}