{"version":3,"file":"IconButton.js","sourceRoot":"","sources":["../../../../../../../front_end/ui/components/icon_button/IconButton.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as ComponentHelpers from '../../components/helpers/helpers.js';\nimport * as LitHtml from '../../lit-html/lit-html.js';\nimport {Icon} from './Icon.js';\n\nimport type {IconData} from './Icon.js';\n\nexport interface IconWithTextData {\n  iconName: string;\n  iconColor?: string;\n  iconWidth?: string;\n  iconHeight?: string;\n  text?: string;\n}\n\nexport interface IconButtonData {\n  clickHandler?: () => void;\n  groups: IconWithTextData[];\n  leadingText?: string;\n  trailingText?: string;\n}\n\nexport class IconButton extends HTMLElement {\n  private readonly shadow = this.attachShadow({mode: 'open'});\n  private clickHandler: undefined|(() => void) = undefined;\n  private groups: IconWithTextData[] = [];\n  private leadingText: string = '';\n  private trailingText: string = '';\n\n  set data(data: IconButtonData) {\n    this.groups = data.groups.map(group => ({...group}));  // Ensure we make a deep copy.\n    this.clickHandler = data.clickHandler;\n    this.trailingText = data.trailingText ?? '';\n    this.leadingText = data.leadingText ?? '';\n    this.render();\n  }\n\n  setTexts(texts: (string|undefined)[]): void {\n    if (texts.length !== this.groups.length) {\n      throw new Error(`Wrong number of texts, expected ${this.groups.length} but got ${texts.length}`);\n    }\n    for (let i = 0; i < texts.length; ++i) {\n      this.groups[i].text = texts[i];\n    }\n    this.render();\n  }\n\n  private onClickHandler(event: Event): void {\n    if (this.clickHandler) {\n      event.preventDefault();\n      this.clickHandler();\n    }\n  }\n\n  private render(): void {\n    const buttonClasses = LitHtml.Directives.classMap({\n      'icon-button': true,\n      'with-click-handler': Boolean(this.clickHandler),\n    });\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    LitHtml.render(LitHtml.html`\n      <style>\n        :host {\n          white-space: normal;\n          display: inline-block;\n        }\n\n        .icon-button {\n          border: none;\n          margin-right: 2px;\n          display: inline-flex;\n          align-items: center;\n          color: inherit;\n          font-size: inherit;\n          font-family: inherit;\n          background-color: var(--color-background-elevation-1);\n        }\n\n        .icon-button.with-click-handler {\n          cursor: pointer;\n          border: 1px solid var(--color-details-hairline);\n          border-radius: 2px;\n        }\n\n        .icon-button.with-click-handler:hover {\n          background-color: var(--legacy-toolbar-hover-bg-color);\n        }\n\n        .icon-button:focus-visible {\n          background-color: var(--legacy-toolbar-hover-bg-color);\n          border: 1px solid var(--color-details-hairline);\n        }\n\n        .icon-button-title {\n          margin-left: 0.5ex;\n        }\n\n        .status-icon {\n          margin-left: 1ex;\n        }\n\n        .status-icon:first-child {\n          margin-left: inherit;\n        }\n\n        @media (forced-colors: active) {\n          .icon-button {\n            forced-color-adjust: none;\n            background-color: ButtonFace;\n          }\n\n          .icon-button.with-click-handler:hover {\n            background-color: Highlight;\n            color: HighlightText;\n          }\n        }\n      </style>\n      <button class=\"${buttonClasses}\" @click=${this.onClickHandler}>\n      ${this.leadingText ? LitHtml.html`<span class=\"icon-button-title\">${this.leadingText}</span>` : LitHtml.nothing}\n      ${this.groups.filter(counter => counter.text !== undefined).map(counter =>\n      LitHtml.html`\n      <${Icon.litTagName} class=\"status-icon\"\n      .data=${{iconName: counter.iconName, color: counter.iconColor || '', width: counter.iconWidth || '1.5ex', height: counter.iconHeight || '1.5ex'} as IconData}>\n      </${Icon.litTagName}>\n      <span class=\"icon-button-title\">${counter.text}</span>\n      </button>`)}\n      ${this.trailingText ? LitHtml.html`<span class=\"icon-button-title\">${this.trailingText}</span>` : LitHtml.nothing}\n    `, this.shadow, { host: this});\n    // clang-format on\n  }\n}\n\nComponentHelpers.CustomElements.defineComponent('icon-button', IconButton);\n\ndeclare global {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  interface HTMLElementTagNameMap {\n    'icon-button': IconButton;\n  }\n}\n"]}