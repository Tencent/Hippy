{"version":3,"file":"SplitWidget.js","sourceRoot":"","sources":["../../../../../../front_end/ui/legacy/SplitWidget.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright (C) 2012 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/* eslint-disable rulesdir/no_underscored_properties */\n\nimport * as Common from '../../core/common/common.js';\nimport * as Platform from '../../core/platform/platform.js';\n\nimport {Constraints} from './Geometry.js';\nimport {Events as ResizerWidgetEvents, SimpleResizerWidget} from './ResizerWidget.js';\nimport {ToolbarButton} from './Toolbar.js';\nimport {Widget} from './Widget.js';\nimport {Events as ZoomManagerEvents, ZoomManager} from './ZoomManager.js';\n\nexport class SplitWidget extends Widget {\n  _sidebarElement: HTMLElement;\n  _mainElement: HTMLElement;\n  _resizerElement: HTMLElement;\n  _resizerElementSize: number|null;\n  _resizerWidget: SimpleResizerWidget;\n  _defaultSidebarWidth: number;\n  _defaultSidebarHeight: number;\n  _constraintsInDip: boolean;\n  _resizeStartSizeDIP: number;\n  // TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  _setting: Common.Settings.Setting<any>|null;\n  _totalSizeCSS: number;\n  _totalSizeOtherDimensionCSS: number;\n  _mainWidget: Widget|null;\n  _sidebarWidget: Widget|null;\n  _animationFrameHandle: number;\n  _animationCallback: (() => void)|null;\n  _showSidebarButtonTitle: Common.UIString.LocalizedString;\n  _hideSidebarButtonTitle: Common.UIString.LocalizedString;\n  _showHideSidebarButton: ToolbarButton|null;\n  _isVertical: boolean;\n  _sidebarMinimized: boolean;\n  _detaching: boolean;\n  _sidebarSizeDIP: number;\n  _savedSidebarSizeDIP: number;\n  _secondIsSidebar: boolean;\n  _shouldSaveShowMode: boolean;\n  _savedVerticalMainSize: number|null;\n  _savedHorizontalMainSize: number|null;\n  _showMode: string;\n  _savedShowMode: string;\n\n  constructor(\n      isVertical: boolean, secondIsSidebar: boolean, settingName?: string, defaultSidebarWidth?: number,\n      defaultSidebarHeight?: number, constraintsInDip?: boolean) {\n    super(true);\n    this.element.classList.add('split-widget');\n    this.registerRequiredCSS('ui/legacy/splitWidget.css', {enableLegacyPatching: false});\n\n    this.contentElement.classList.add('shadow-split-widget');\n    this._sidebarElement =\n        this.contentElement.createChild('div', 'shadow-split-widget-contents shadow-split-widget-sidebar vbox');\n    this._mainElement =\n        this.contentElement.createChild('div', 'shadow-split-widget-contents shadow-split-widget-main vbox');\n    (this._mainElement.createChild('slot') as HTMLSlotElement).name = 'insertion-point-main';\n    (this._sidebarElement.createChild('slot') as HTMLSlotElement).name = 'insertion-point-sidebar';\n    this._resizerElement = this.contentElement.createChild('div', 'shadow-split-widget-resizer');\n    this._resizerElementSize = null;\n\n    this._resizerWidget = new SimpleResizerWidget();\n    this._resizerWidget.setEnabled(true);\n    this._resizerWidget.addEventListener(ResizerWidgetEvents.ResizeStart, this._onResizeStart, this);\n    this._resizerWidget.addEventListener(ResizerWidgetEvents.ResizeUpdate, this._onResizeUpdate, this);\n    this._resizerWidget.addEventListener(ResizerWidgetEvents.ResizeEnd, this._onResizeEnd, this);\n\n    this._defaultSidebarWidth = defaultSidebarWidth || 200;\n    this._defaultSidebarHeight = defaultSidebarHeight || this._defaultSidebarWidth;\n    this._constraintsInDip = Boolean(constraintsInDip);\n    this._resizeStartSizeDIP = 0;\n    this._setting =\n        settingName ? Common.Settings.Settings.instance().createSetting(settingName, /** @type {*} */ ({})) : null;\n\n    this._totalSizeCSS = 0;\n    this._totalSizeOtherDimensionCSS = 0;\n    this._mainWidget = null;\n    this._sidebarWidget = null;\n    this._animationFrameHandle = 0;\n    this._animationCallback = null;\n    this._showSidebarButtonTitle = Common.UIString.LocalizedEmptyString;\n    this._hideSidebarButtonTitle = Common.UIString.LocalizedEmptyString;\n    this._showHideSidebarButton = null;\n    this._isVertical = false;\n    this._sidebarMinimized = false;\n    this._detaching = false;\n    this._sidebarSizeDIP = -1;\n    this._savedSidebarSizeDIP = this._sidebarSizeDIP;\n    this._secondIsSidebar = false;\n    this._shouldSaveShowMode = false;\n    this._savedVerticalMainSize = null;\n    this._savedHorizontalMainSize = null;\n\n    this.setSecondIsSidebar(secondIsSidebar);\n\n    this._innerSetVertical(isVertical);\n    this._showMode = ShowMode.Both;\n    this._savedShowMode = this._showMode;\n\n    // Should be called after isVertical has the right value.\n    this.installResizer(this._resizerElement);\n  }\n\n  isVertical(): boolean {\n    return this._isVertical;\n  }\n\n  setVertical(isVertical: boolean): void {\n    if (this._isVertical === isVertical) {\n      return;\n    }\n\n    this._innerSetVertical(isVertical);\n\n    if (this.isShowing()) {\n      this._updateLayout();\n    }\n  }\n\n  _innerSetVertical(isVertical: boolean): void {\n    this.contentElement.classList.toggle('vbox', !isVertical);\n    this.contentElement.classList.toggle('hbox', isVertical);\n    this._isVertical = isVertical;\n\n    this._resizerElementSize = null;\n    this._sidebarSizeDIP = -1;\n    this._restoreSidebarSizeFromSettings();\n    if (this._shouldSaveShowMode) {\n      this._restoreAndApplyShowModeFromSettings();\n    }\n    this._updateShowHideSidebarButton();\n    // FIXME: reverse SplitWidget.isVertical meaning.\n    this._resizerWidget.setVertical(!isVertical);\n    this.invalidateConstraints();\n  }\n\n  _updateLayout(animate?: boolean): void {\n    this._totalSizeCSS = 0;  // Lazy update.\n    this._totalSizeOtherDimensionCSS = 0;\n\n    // Remove properties that might affect total size calculation.\n    this._mainElement.style.removeProperty('width');\n    this._mainElement.style.removeProperty('height');\n    this._sidebarElement.style.removeProperty('width');\n    this._sidebarElement.style.removeProperty('height');\n\n    this._innerSetSidebarSizeDIP(this._preferredSidebarSizeDIP(), Boolean(animate));\n  }\n\n  setMainWidget(widget: Widget): void {\n    if (this._mainWidget === widget) {\n      return;\n    }\n    this.suspendInvalidations();\n    if (this._mainWidget) {\n      this._mainWidget.detach();\n    }\n    this._mainWidget = widget;\n    if (widget) {\n      widget.element.slot = 'insertion-point-main';\n      if (this._showMode === ShowMode.OnlyMain || this._showMode === ShowMode.Both) {\n        widget.show(this.element);\n      }\n    }\n    this.resumeInvalidations();\n  }\n\n  setSidebarWidget(widget: Widget): void {\n    if (this._sidebarWidget === widget) {\n      return;\n    }\n    this.suspendInvalidations();\n    if (this._sidebarWidget) {\n      this._sidebarWidget.detach();\n    }\n    this._sidebarWidget = widget;\n    if (widget) {\n      widget.element.slot = 'insertion-point-sidebar';\n      if (this._showMode === ShowMode.OnlySidebar || this._showMode === ShowMode.Both) {\n        widget.show(this.element);\n      }\n    }\n    this.resumeInvalidations();\n  }\n\n  mainWidget(): Widget|null {\n    return this._mainWidget;\n  }\n\n  sidebarWidget(): Widget|null {\n    return this._sidebarWidget;\n  }\n\n  sidebarElement(): HTMLElement {\n    return /** @type {!HTMLElement} */ this._sidebarElement as HTMLElement;\n  }\n\n  childWasDetached(widget: Widget): void {\n    if (this._detaching) {\n      return;\n    }\n    if (this._mainWidget === widget) {\n      this._mainWidget = null;\n    }\n    if (this._sidebarWidget === widget) {\n      this._sidebarWidget = null;\n    }\n    this.invalidateConstraints();\n  }\n\n  isSidebarSecond(): boolean {\n    return this._secondIsSidebar;\n  }\n\n  enableShowModeSaving(): void {\n    this._shouldSaveShowMode = true;\n    this._restoreAndApplyShowModeFromSettings();\n  }\n\n  showMode(): string {\n    return this._showMode;\n  }\n\n  setSecondIsSidebar(secondIsSidebar: boolean): void {\n    if (secondIsSidebar === this._secondIsSidebar) {\n      return;\n    }\n    this._secondIsSidebar = secondIsSidebar;\n    if (!this._mainWidget || !this._mainWidget.shouldHideOnDetach()) {\n      if (secondIsSidebar) {\n        this.contentElement.insertBefore(this._mainElement, this._sidebarElement);\n      } else {\n        this.contentElement.insertBefore(this._mainElement, this._resizerElement);\n      }\n    } else if (!this._sidebarWidget || !this._sidebarWidget.shouldHideOnDetach()) {\n      if (secondIsSidebar) {\n        this.contentElement.insertBefore(this._sidebarElement, this._resizerElement);\n      } else {\n        this.contentElement.insertBefore(this._sidebarElement, this._mainElement);\n      }\n    } else {\n      console.error('Could not swap split widget side. Both children widgets contain iframes.');\n      this._secondIsSidebar = !secondIsSidebar;\n    }\n  }\n\n  sidebarSide(): string|null {\n    if (this._showMode !== ShowMode.Both) {\n      return null;\n    }\n    return this._isVertical ? (this._secondIsSidebar ? 'right' : 'left') : (this._secondIsSidebar ? 'bottom' : 'top');\n  }\n\n  resizerElement(): Element {\n    return this._resizerElement;\n  }\n\n  hideMain(animate?: boolean): void {\n    this._showOnly(this._sidebarWidget, this._mainWidget, this._sidebarElement, this._mainElement, animate);\n    this._updateShowMode(ShowMode.OnlySidebar);\n  }\n\n  hideSidebar(animate?: boolean): void {\n    this._showOnly(this._mainWidget, this._sidebarWidget, this._mainElement, this._sidebarElement, animate);\n    this._updateShowMode(ShowMode.OnlyMain);\n  }\n\n  setSidebarMinimized(minimized: boolean): void {\n    this._sidebarMinimized = minimized;\n    this.invalidateConstraints();\n  }\n\n  isSidebarMinimized(): boolean {\n    return this._sidebarMinimized;\n  }\n\n  _showOnly(\n      sideToShow: Widget|null, sideToHide: Widget|null, shadowToShow: Element, shadowToHide: Element,\n      animate?: boolean): void {\n    this._cancelAnimation();\n\n    function callback(this: SplitWidget): void {\n      if (sideToShow) {\n        // Make sure main is first in the children list.\n        if (sideToShow === this._mainWidget) {\n          this._mainWidget.show(this.element, this._sidebarWidget ? this._sidebarWidget.element : null);\n        } else if (this._sidebarWidget) {\n          this._sidebarWidget.show(this.element);\n        }\n      }\n      if (sideToHide) {\n        this._detaching = true;\n        sideToHide.detach();\n        this._detaching = false;\n      }\n\n      this._resizerElement.classList.add('hidden');\n      shadowToShow.classList.remove('hidden');\n      shadowToShow.classList.add('maximized');\n      shadowToHide.classList.add('hidden');\n      shadowToHide.classList.remove('maximized');\n      this._removeAllLayoutProperties();\n      this.doResize();\n      this._showFinishedForTest();\n    }\n\n    if (animate) {\n      this._animate(true, callback.bind(this));\n    } else {\n      callback.call(this);\n    }\n\n    this._sidebarSizeDIP = -1;\n    this.setResizable(false);\n  }\n\n  _showFinishedForTest(): void {\n    // This method is sniffed in tests.\n  }\n\n  _removeAllLayoutProperties(): void {\n    this._sidebarElement.style.removeProperty('flexBasis');\n\n    this._mainElement.style.removeProperty('width');\n    this._mainElement.style.removeProperty('height');\n    this._sidebarElement.style.removeProperty('width');\n    this._sidebarElement.style.removeProperty('height');\n\n    this._resizerElement.style.removeProperty('left');\n    this._resizerElement.style.removeProperty('right');\n    this._resizerElement.style.removeProperty('top');\n    this._resizerElement.style.removeProperty('bottom');\n\n    this._resizerElement.style.removeProperty('margin-left');\n    this._resizerElement.style.removeProperty('margin-right');\n    this._resizerElement.style.removeProperty('margin-top');\n    this._resizerElement.style.removeProperty('margin-bottom');\n  }\n\n  showBoth(animate?: boolean): void {\n    if (this._showMode === ShowMode.Both) {\n      animate = false;\n    }\n\n    this._cancelAnimation();\n    this._mainElement.classList.remove('maximized', 'hidden');\n    this._sidebarElement.classList.remove('maximized', 'hidden');\n    this._resizerElement.classList.remove('hidden');\n    this.setResizable(true);\n\n    // Make sure main is the first in the children list.\n    this.suspendInvalidations();\n    if (this._sidebarWidget) {\n      this._sidebarWidget.show(this.element);\n    }\n    if (this._mainWidget) {\n      this._mainWidget.show(this.element, this._sidebarWidget ? this._sidebarWidget.element : null);\n    }\n    this.resumeInvalidations();\n    // Order widgets in DOM properly.\n    this.setSecondIsSidebar(this._secondIsSidebar);\n\n    this._sidebarSizeDIP = -1;\n    this._updateShowMode(ShowMode.Both);\n    this._updateLayout(animate);\n  }\n\n  setResizable(resizable: boolean): void {\n    this._resizerWidget.setEnabled(resizable);\n  }\n\n  isResizable(): boolean {\n    return this._resizerWidget.isEnabled();\n  }\n\n  setSidebarSize(size: number): void {\n    const sizeDIP = ZoomManager.instance().cssToDIP(size);\n    this._savedSidebarSizeDIP = sizeDIP;\n    this._saveSetting();\n    this._innerSetSidebarSizeDIP(sizeDIP, false, true);\n  }\n\n  sidebarSize(): number {\n    const sizeDIP = Math.max(0, this._sidebarSizeDIP);\n    return ZoomManager.instance().dipToCSS(sizeDIP);\n  }\n\n  /**\n   * Returns total size in DIP.\n   */\n  _totalSizeDIP(): number {\n    if (!this._totalSizeCSS) {\n      this._totalSizeCSS = this._isVertical ? this.contentElement.offsetWidth : this.contentElement.offsetHeight;\n      this._totalSizeOtherDimensionCSS =\n          this._isVertical ? this.contentElement.offsetHeight : this.contentElement.offsetWidth;\n    }\n    return ZoomManager.instance().cssToDIP(this._totalSizeCSS);\n  }\n\n  _updateShowMode(showMode: string): void {\n    this._showMode = showMode;\n    this._saveShowModeToSettings();\n    this._updateShowHideSidebarButton();\n    this.dispatchEventToListeners(Events.ShowModeChanged, showMode);\n    this.invalidateConstraints();\n  }\n\n  _innerSetSidebarSizeDIP(sizeDIP: number, animate: boolean, userAction?: boolean): void {\n    if (this._showMode !== ShowMode.Both || !this.isShowing()) {\n      return;\n    }\n\n    sizeDIP = this._applyConstraints(sizeDIP, userAction);\n    if (this._sidebarSizeDIP === sizeDIP) {\n      return;\n    }\n\n    if (!this._resizerElementSize) {\n      this._resizerElementSize =\n          this._isVertical ? this._resizerElement.offsetWidth : this._resizerElement.offsetHeight;\n    }\n\n    // Invalidate layout below.\n\n    this._removeAllLayoutProperties();\n\n    // this._totalSizeDIP is available below since we successfully applied constraints.\n    const roundSizeCSS = Math.round(ZoomManager.instance().dipToCSS(sizeDIP));\n    const sidebarSizeValue = roundSizeCSS + 'px';\n    const mainSizeValue = (this._totalSizeCSS - roundSizeCSS) + 'px';\n    this._sidebarElement.style.flexBasis = sidebarSizeValue;\n\n    // Make both sides relayout boundaries.\n    if (this._isVertical) {\n      this._sidebarElement.style.width = sidebarSizeValue;\n      this._mainElement.style.width = mainSizeValue;\n      this._sidebarElement.style.height = this._totalSizeOtherDimensionCSS + 'px';\n      this._mainElement.style.height = this._totalSizeOtherDimensionCSS + 'px';\n    } else {\n      this._sidebarElement.style.height = sidebarSizeValue;\n      this._mainElement.style.height = mainSizeValue;\n      this._sidebarElement.style.width = this._totalSizeOtherDimensionCSS + 'px';\n      this._mainElement.style.width = this._totalSizeOtherDimensionCSS + 'px';\n    }\n\n    // Position resizer.\n    if (this._isVertical) {\n      if (this._secondIsSidebar) {\n        this._resizerElement.style.right = sidebarSizeValue;\n        this._resizerElement.style.marginRight = -this._resizerElementSize / 2 + 'px';\n      } else {\n        this._resizerElement.style.left = sidebarSizeValue;\n        this._resizerElement.style.marginLeft = -this._resizerElementSize / 2 + 'px';\n      }\n    } else {\n      if (this._secondIsSidebar) {\n        this._resizerElement.style.bottom = sidebarSizeValue;\n        this._resizerElement.style.marginBottom = -this._resizerElementSize / 2 + 'px';\n      } else {\n        this._resizerElement.style.top = sidebarSizeValue;\n        this._resizerElement.style.marginTop = -this._resizerElementSize / 2 + 'px';\n      }\n    }\n\n    this._sidebarSizeDIP = sizeDIP;\n\n    // Force layout.\n\n    if (animate) {\n      this._animate(false);\n    } else {\n      // No need to recalculate this._sidebarSizeDIP and this._totalSizeDIP again.\n      this.doResize();\n      this.dispatchEventToListeners(Events.SidebarSizeChanged, this.sidebarSize());\n    }\n  }\n\n  _animate(reverse: boolean, callback?: (() => void)): void {\n    const animationTime = 50;\n    this._animationCallback = callback || null;\n\n    let animatedMarginPropertyName: string;\n    if (this._isVertical) {\n      animatedMarginPropertyName = this._secondIsSidebar ? 'margin-right' : 'margin-left';\n    } else {\n      animatedMarginPropertyName = this._secondIsSidebar ? 'margin-bottom' : 'margin-top';\n    }\n\n    const marginFrom = reverse ? '0' : '-' + ZoomManager.instance().dipToCSS(this._sidebarSizeDIP) + 'px';\n    const marginTo = reverse ? '-' + ZoomManager.instance().dipToCSS(this._sidebarSizeDIP) + 'px' : '0';\n\n    // This order of things is important.\n    // 1. Resize main element early and force layout.\n    this.contentElement.style.setProperty(animatedMarginPropertyName, marginFrom);\n    if (!reverse) {\n      suppressUnused(this._mainElement.offsetWidth);\n      suppressUnused(this._sidebarElement.offsetWidth);\n    }\n\n    // 2. Issue onresize to the sidebar element, its size won't change.\n    if (!reverse && this._sidebarWidget) {\n      this._sidebarWidget.doResize();\n    }\n\n    // 3. Configure and run animation\n    this.contentElement.style.setProperty('transition', animatedMarginPropertyName + ' ' + animationTime + 'ms linear');\n\n    const boundAnimationFrame = animationFrame.bind(this);\n    let startTime: number|null = null;\n    function animationFrame(this: SplitWidget): void {\n      this._animationFrameHandle = 0;\n\n      if (!startTime) {\n        // Kick animation on first frame.\n        this.contentElement.style.setProperty(animatedMarginPropertyName, marginTo);\n        startTime = window.performance.now();\n      } else if (window.performance.now() < startTime + animationTime) {\n        // Process regular animation frame.\n        if (this._mainWidget) {\n          this._mainWidget.doResize();\n        }\n      } else {\n        // Complete animation.\n        this._cancelAnimation();\n        if (this._mainWidget) {\n          this._mainWidget.doResize();\n        }\n        this.dispatchEventToListeners(Events.SidebarSizeChanged, this.sidebarSize());\n        return;\n      }\n      this._animationFrameHandle = this.contentElement.window().requestAnimationFrame(boundAnimationFrame);\n    }\n    this._animationFrameHandle = this.contentElement.window().requestAnimationFrame(boundAnimationFrame);\n  }\n\n  _cancelAnimation(): void {\n    this.contentElement.style.removeProperty('margin-top');\n    this.contentElement.style.removeProperty('margin-right');\n    this.contentElement.style.removeProperty('margin-bottom');\n    this.contentElement.style.removeProperty('margin-left');\n    this.contentElement.style.removeProperty('transition');\n\n    if (this._animationFrameHandle) {\n      this.contentElement.window().cancelAnimationFrame(this._animationFrameHandle);\n      this._animationFrameHandle = 0;\n    }\n    if (this._animationCallback) {\n      this._animationCallback();\n      this._animationCallback = null;\n    }\n  }\n\n  _applyConstraints(sidebarSize: number, userAction?: boolean): number {\n    const totalSize = this._totalSizeDIP();\n    const zoomFactor = this._constraintsInDip ? 1 : ZoomManager.instance().zoomFactor();\n\n    let constraints: Constraints = this._sidebarWidget ? this._sidebarWidget.constraints() : new Constraints();\n    let minSidebarSize: 20|number = this.isVertical() ? constraints.minimum.width : constraints.minimum.height;\n    if (!minSidebarSize) {\n      minSidebarSize = MinPadding;\n    }\n    minSidebarSize *= zoomFactor;\n    if (this._sidebarMinimized) {\n      sidebarSize = minSidebarSize;\n    }\n\n    let preferredSidebarSize: 20|number =\n        this.isVertical() ? constraints.preferred.width : constraints.preferred.height;\n    if (!preferredSidebarSize) {\n      preferredSidebarSize = MinPadding;\n    }\n    preferredSidebarSize *= zoomFactor;\n    // Allow sidebar to be less than preferred by explicit user action.\n    if (sidebarSize < preferredSidebarSize) {\n      preferredSidebarSize = Math.max(sidebarSize, minSidebarSize);\n    }\n    preferredSidebarSize += zoomFactor;  // 1 css pixel for splitter border.\n\n    constraints = this._mainWidget ? this._mainWidget.constraints() : new Constraints();\n    let minMainSize: 20|number = this.isVertical() ? constraints.minimum.width : constraints.minimum.height;\n    if (!minMainSize) {\n      minMainSize = MinPadding;\n    }\n    minMainSize *= zoomFactor;\n\n    let preferredMainSize: 20|number = this.isVertical() ? constraints.preferred.width : constraints.preferred.height;\n    if (!preferredMainSize) {\n      preferredMainSize = MinPadding;\n    }\n    preferredMainSize *= zoomFactor;\n    const savedMainSize = this.isVertical() ? this._savedVerticalMainSize : this._savedHorizontalMainSize;\n    if (savedMainSize !== null) {\n      preferredMainSize = Math.min(preferredMainSize, savedMainSize * zoomFactor);\n    }\n    if (userAction) {\n      preferredMainSize = minMainSize;\n    }\n\n    // Enough space for preferred.\n    const totalPreferred = preferredMainSize + preferredSidebarSize;\n    if (totalPreferred <= totalSize) {\n      return Platform.NumberUtilities.clamp(sidebarSize, preferredSidebarSize, totalSize - preferredMainSize);\n    }\n\n    // Enough space for minimum.\n    if (minMainSize + minSidebarSize <= totalSize) {\n      const delta = totalPreferred - totalSize;\n      const sidebarDelta = delta * preferredSidebarSize / totalPreferred;\n      sidebarSize = preferredSidebarSize - sidebarDelta;\n      return Platform.NumberUtilities.clamp(sidebarSize, minSidebarSize, totalSize - minMainSize);\n    }\n\n    // Not enough space even for minimum sizes.\n    return Math.max(0, totalSize - minMainSize);\n  }\n\n  wasShown(): void {\n    this._forceUpdateLayout();\n    ZoomManager.instance().addEventListener(ZoomManagerEvents.ZoomChanged, this._onZoomChanged, this);\n  }\n\n  willHide(): void {\n    ZoomManager.instance().removeEventListener(ZoomManagerEvents.ZoomChanged, this._onZoomChanged, this);\n  }\n\n  onResize(): void {\n    this._updateLayout();\n  }\n\n  onLayout(): void {\n    this._updateLayout();\n  }\n\n  calculateConstraints(): Constraints {\n    if (this._showMode === ShowMode.OnlyMain) {\n      return this._mainWidget ? this._mainWidget.constraints() : new Constraints();\n    }\n    if (this._showMode === ShowMode.OnlySidebar) {\n      return this._sidebarWidget ? this._sidebarWidget.constraints() : new Constraints();\n    }\n\n    let mainConstraints: Constraints = this._mainWidget ? this._mainWidget.constraints() : new Constraints();\n    let sidebarConstraints: Constraints = this._sidebarWidget ? this._sidebarWidget.constraints() : new Constraints();\n    const min = MinPadding;\n    if (this._isVertical) {\n      mainConstraints = mainConstraints.widthToMax(min).addWidth(1);  // 1 for splitter\n      sidebarConstraints = sidebarConstraints.widthToMax(min);\n      return mainConstraints.addWidth(sidebarConstraints).heightToMax(sidebarConstraints);\n    }\n    mainConstraints = mainConstraints.heightToMax(min).addHeight(1);  // 1 for splitter\n    sidebarConstraints = sidebarConstraints.heightToMax(min);\n    return mainConstraints.widthToMax(sidebarConstraints).addHeight(sidebarConstraints);\n  }\n\n  _onResizeStart(_event: Common.EventTarget.EventTargetEvent): void {\n    this._resizeStartSizeDIP = this._sidebarSizeDIP;\n  }\n\n  _onResizeUpdate(event: Common.EventTarget.EventTargetEvent): void {\n    const offset = event.data.currentPosition - event.data.startPosition;\n    const offsetDIP = ZoomManager.instance().cssToDIP(offset);\n    const newSizeDIP =\n        this._secondIsSidebar ? this._resizeStartSizeDIP - offsetDIP : this._resizeStartSizeDIP + offsetDIP;\n    const constrainedSizeDIP = this._applyConstraints(newSizeDIP, true);\n    this._savedSidebarSizeDIP = constrainedSizeDIP;\n    this._saveSetting();\n    this._innerSetSidebarSizeDIP(constrainedSizeDIP, false, true);\n    if (this.isVertical()) {\n      this._savedVerticalMainSize = this._totalSizeDIP() - this._sidebarSizeDIP;\n    } else {\n      this._savedHorizontalMainSize = this._totalSizeDIP() - this._sidebarSizeDIP;\n    }\n  }\n\n  _onResizeEnd(_event: Common.EventTarget.EventTargetEvent): void {\n    this._resizeStartSizeDIP = 0;\n  }\n\n  hideDefaultResizer(noSplitter?: boolean): void {\n    this.uninstallResizer(this._resizerElement);\n    this._sidebarElement.classList.toggle('no-default-splitter', Boolean(noSplitter));\n  }\n\n  installResizer(resizerElement: Element): void {\n    this._resizerWidget.addElement((resizerElement as HTMLElement));\n  }\n\n  uninstallResizer(resizerElement: Element): void {\n    this._resizerWidget.removeElement((resizerElement as HTMLElement));\n  }\n\n  hasCustomResizer(): boolean {\n    const elements = this._resizerWidget.elements();\n    return elements.length > 1 || (elements.length === 1 && elements[0] !== this._resizerElement);\n  }\n\n  toggleResizer(resizer: Element, on: boolean): void {\n    if (on) {\n      this.installResizer(resizer);\n    } else {\n      this.uninstallResizer(resizer);\n    }\n  }\n\n  _settingForOrientation(): SettingForOrientation|null {\n    const state = this._setting ? this._setting.get() : {};\n    return this._isVertical ? state.vertical : state.horizontal;\n  }\n\n  _preferredSidebarSizeDIP(): number {\n    let size: number = this._savedSidebarSizeDIP;\n    if (!size) {\n      size = this._isVertical ? this._defaultSidebarWidth : this._defaultSidebarHeight;\n      // If we have default value in percents, calculate it on first use.\n      if (0 < size && size < 1) {\n        size *= this._totalSizeDIP();\n      }\n    }\n    return size;\n  }\n\n  _restoreSidebarSizeFromSettings(): void {\n    const settingForOrientation = this._settingForOrientation();\n    this._savedSidebarSizeDIP = settingForOrientation ? settingForOrientation.size : 0;\n  }\n\n  _restoreAndApplyShowModeFromSettings(): void {\n    const orientationState = this._settingForOrientation();\n    this._savedShowMode = orientationState && orientationState.showMode ? orientationState.showMode : this._showMode;\n    this._showMode = this._savedShowMode;\n\n    switch (this._savedShowMode) {\n      case ShowMode.Both:\n        this.showBoth();\n        break;\n      case ShowMode.OnlyMain:\n        this.hideSidebar();\n        break;\n      case ShowMode.OnlySidebar:\n        this.hideMain();\n        break;\n    }\n  }\n\n  _saveShowModeToSettings(): void {\n    this._savedShowMode = this._showMode;\n    this._saveSetting();\n  }\n\n  _saveSetting(): void {\n    if (!this._setting) {\n      return;\n    }\n    const state = this._setting.get();\n    const orientationState = (this._isVertical ? state.vertical : state.horizontal) || {};\n\n    orientationState.size = this._savedSidebarSizeDIP;\n    if (this._shouldSaveShowMode) {\n      orientationState.showMode = this._savedShowMode;\n    }\n\n    if (this._isVertical) {\n      state.vertical = orientationState;\n    } else {\n      state.horizontal = orientationState;\n    }\n    this._setting.set(state);\n  }\n\n  _forceUpdateLayout(): void {\n    // Force layout even if sidebar size does not change.\n    this._sidebarSizeDIP = -1;\n    this._updateLayout();\n  }\n\n  _onZoomChanged(_event: Common.EventTarget.EventTargetEvent): void {\n    this._forceUpdateLayout();\n  }\n\n  createShowHideSidebarButton(showTitle: Common.UIString.LocalizedString, hideTitle: Common.UIString.LocalizedString):\n      ToolbarButton {\n    this._showSidebarButtonTitle = showTitle;\n    this._hideSidebarButtonTitle = hideTitle;\n    this._showHideSidebarButton = new ToolbarButton('', '');\n    this._showHideSidebarButton.addEventListener(ToolbarButton.Events.Click, buttonClicked, this);\n    this._updateShowHideSidebarButton();\n\n    function buttonClicked(this: SplitWidget, _event: Common.EventTarget.EventTargetEvent): void {\n      if (this._showMode !== ShowMode.Both) {\n        this.showBoth(true);\n      } else {\n        this.hideSidebar(true);\n      }\n    }\n\n    return this._showHideSidebarButton;\n  }\n\n  _updateShowHideSidebarButton(): void {\n    if (!this._showHideSidebarButton) {\n      return;\n    }\n    const sidebarHidden = this._showMode === ShowMode.OnlyMain;\n    let glyph = '';\n    if (sidebarHidden) {\n      glyph = this.isVertical() ?\n          (this.isSidebarSecond() ? 'largeicon-show-right-sidebar' : 'largeicon-show-left-sidebar') :\n          (this.isSidebarSecond() ? 'largeicon-show-bottom-sidebar' : 'largeicon-show-top-sidebar');\n    } else {\n      glyph = this.isVertical() ?\n          (this.isSidebarSecond() ? 'largeicon-hide-right-sidebar' : 'largeicon-hide-left-sidebar') :\n          (this.isSidebarSecond() ? 'largeicon-hide-bottom-sidebar' : 'largeicon-hide-top-sidebar');\n    }\n    this._showHideSidebarButton.setGlyph(glyph);\n    this._showHideSidebarButton.setTitle(sidebarHidden ? this._showSidebarButtonTitle : this._hideSidebarButtonTitle);\n  }\n}\n\n// TODO(crbug.com/1167717): Make this a const enum again\n// eslint-disable-next-line rulesdir/const_enum\nexport enum ShowMode {\n  Both = 'Both',\n  OnlyMain = 'OnlyMain',\n  OnlySidebar = 'OnlySidebar',\n}\n\n// TODO(crbug.com/1167717): Make this a const enum again\n// eslint-disable-next-line rulesdir/const_enum\nexport enum Events {\n  SidebarSizeChanged = 'SidebarSizeChanged',\n  ShowModeChanged = 'ShowModeChanged',\n}\n\n\nconst MinPadding = 20;\nexport interface SettingForOrientation {\n  showMode: string;\n  size: number;\n}\n\nconst suppressUnused = function(_value: unknown): void {};\n"]}