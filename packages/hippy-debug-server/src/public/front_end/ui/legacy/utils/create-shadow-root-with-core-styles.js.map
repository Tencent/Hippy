{"version":3,"file":"create-shadow-root-with-core-styles.js","sourceRoot":"","sources":["../../../../../../../front_end/ui/legacy/utils/create-shadow-root-with-core-styles.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,EAAC,WAAW,EAAC,MAAM,mBAAmB,CAAC;AAC9C,OAAO,EAAC,YAAY,EAAC,MAAM,oBAAoB,CAAC;AAChD,OAAO,EAAC,gBAAgB,EAAC,MAAM,yBAAyB,CAAC;AAQzD,MAAM,UAAU,8BAA8B,CAAC,OAAgB,EAAE,UAAmB;IAClF,cAAc,EAAE,SAAS;IACzB,OAAO,EAAE,SAAS;IAClB,oBAAoB,EAAE,KAAK;CAC5B;IACC,MAAM,EACJ,OAAO,EACP,cAAc,EACd,oBAAoB,GACrB,GAAG,OAAO,CAAC;IAEZ,MAAM,UAAU,GAAG,OAAO,CAAC,YAAY,CAAC,EAAC,IAAI,EAAE,MAAM,EAAE,cAAc,EAAC,CAAC,CAAC;IACxE,gBAAgB,CAAC,UAAU,CAAC,CAAC;IAC7B,IAAI,OAAO,EAAE;QACX,WAAW,CAAC,UAAU,EAAE,OAAO,EAAE,EAAC,oBAAoB,EAAC,CAAC,CAAC;KAC1D;IACD,UAAU,CAAC,gBAAgB,CAAC,OAAO,EAAE,YAAY,EAAE,IAAI,CAAC,CAAC;IACzD,OAAO,UAAU,CAAC;AACpB,CAAC","sourcesContent":["// Copyright 2019 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport {appendStyle} from './append-style.js';\nimport {focusChanged} from './focus-changed.js';\nimport {injectCoreStyles} from './inject-core-styles.js';\n\ninterface Options {\n  cssFile?: string;\n  delegatesFocus?: boolean;\n  enableLegacyPatching: false;\n}\n\nexport function createShadowRootWithCoreStyles(element: Element, options: Options = {\n  delegatesFocus: undefined,\n  cssFile: undefined,\n  enableLegacyPatching: false,\n}): ShadowRoot {\n  const {\n    cssFile,\n    delegatesFocus,\n    enableLegacyPatching,\n  } = options;\n\n  const shadowRoot = element.attachShadow({mode: 'open', delegatesFocus});\n  injectCoreStyles(shadowRoot);\n  if (cssFile) {\n    appendStyle(shadowRoot, cssFile, {enableLegacyPatching});\n  }\n  shadowRoot.addEventListener('focus', focusChanged, true);\n  return shadowRoot;\n}\n"]}