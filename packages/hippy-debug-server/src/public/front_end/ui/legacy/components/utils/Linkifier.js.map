{"version":3,"file":"Linkifier.js","sourceRoot":"","sources":["../../../../../../../../front_end/ui/legacy/components/utils/Linkifier.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright (C) 2012 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/* eslint-disable rulesdir/no_underscored_properties */\n\nimport * as Common from '../../../../core/common/common.js';\nimport * as Host from '../../../../core/host/host.js';\nimport * as i18n from '../../../../core/i18n/i18n.js';\nimport * as SDK from '../../../../core/sdk/sdk.js';\nimport * as Bindings from '../../../../models/bindings/bindings.js';\nimport * as TextUtils from '../../../../models/text_utils/text_utils.js';\nimport * as Workspace from '../../../../models/workspace/workspace.js';  // eslint-disable-line no-unused-vars\nimport type * as Protocol from '../../../../generated/protocol.js';\nimport * as UI from '../../legacy.js';\n\nconst UIStrings = {\n  /**\n  *@description Text in Linkifier\n  */\n  unknown: '(unknown)',\n  /**\n  *@description Text short for automatic\n  */\n  auto: 'auto',\n  /**\n  *@description Text in Linkifier\n  *@example {Sources panel} PH1\n  */\n  revealInS: 'Reveal in {PH1}',\n  /**\n  *@description Text for revealing an item in its destination\n  */\n  reveal: 'Reveal',\n  /**\n  *@description A context menu item in the Linkifier\n  *@example {Extension} PH1\n  */\n  openUsingS: 'Open using {PH1}',\n  /**\n  * @description The name of a setting which controls how links are handled in the UI. 'Handling'\n  * refers to the ability of extensions to DevTools to be able to intercept link clicks so that they\n  * can react to them.\n  */\n  linkHandling: 'Link handling:',\n};\nconst str_ = i18n.i18n.registerUIStrings('ui/legacy/components/utils/Linkifier.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nconst instances = new Set<Linkifier>();\n\nlet decorator: LinkDecorator|null = null;\n\nconst anchorsByUISourceCode = new WeakMap<Workspace.UISourceCode.UISourceCode, Set<Element>>();\n\nconst infoByAnchor = new WeakMap<Node, _LinkInfo>();\n\nconst textByAnchor = new WeakMap<Node, string>();\n\nconst linkHandlers = new Map<string, LinkHandler>();\n\nlet linkHandlerSettingInstance: Common.Settings.Setting<string>;\n\nexport class Linkifier implements SDK.TargetManager.Observer {\n  _maxLength: number;\n  _anchorsByTarget: Map<SDK.Target.Target, Element[]>;\n  _locationPoolByTarget: Map<SDK.Target.Target, Bindings.LiveLocation.LiveLocationPool>;\n  _onLiveLocationUpdate: (() => void)|undefined;\n  _useLinkDecorator: boolean;\n\n  constructor(\n      maxLengthForDisplayedURLs?: number, useLinkDecorator?: boolean,\n      onLiveLocationUpdate: (() => void) = (): void => {}) {\n    this._maxLength = maxLengthForDisplayedURLs || UI.UIUtils.MaxLengthForDisplayedURLs;\n    this._anchorsByTarget = new Map();\n    this._locationPoolByTarget = new Map();\n    this._onLiveLocationUpdate = onLiveLocationUpdate;\n    this._useLinkDecorator = Boolean(useLinkDecorator);\n    instances.add(this);\n    SDK.TargetManager.TargetManager.instance().observeTargets(this);\n  }\n\n  static setLinkDecorator(linkDecorator: LinkDecorator): void {\n    console.assert(!decorator, 'Cannot re-register link decorator.');\n    decorator = linkDecorator;\n    linkDecorator.addEventListener(LinkDecorator.Events.LinkIconChanged, onLinkIconChanged);\n    for (const linkifier of instances) {\n      linkifier._updateAllAnchorDecorations();\n    }\n\n    function onLinkIconChanged(event: Common.EventTarget.EventTargetEvent<Workspace.UISourceCode.UISourceCode>): void {\n      const uiSourceCode = event.data;\n      const links = anchorsByUISourceCode.get(uiSourceCode) || [];\n      for (const link of links) {\n        Linkifier._updateLinkDecorations(link);\n      }\n    }\n  }\n\n  _updateAllAnchorDecorations(): void {\n    for (const anchors of this._anchorsByTarget.values()) {\n      for (const anchor of anchors) {\n        Linkifier._updateLinkDecorations(anchor);\n      }\n    }\n  }\n\n  static _bindUILocation(anchor: Element, uiLocation: Workspace.UISourceCode.UILocation): void {\n    const linkInfo = Linkifier.linkInfo(anchor);\n    if (!linkInfo) {\n      return;\n    }\n    linkInfo.uiLocation = uiLocation;\n    if (!uiLocation) {\n      return;\n    }\n    const uiSourceCode = uiLocation.uiSourceCode;\n    let sourceCodeAnchors = anchorsByUISourceCode.get(uiSourceCode);\n    if (!sourceCodeAnchors) {\n      sourceCodeAnchors = new Set();\n      anchorsByUISourceCode.set(uiSourceCode, sourceCodeAnchors);\n    }\n    sourceCodeAnchors.add(anchor);\n  }\n\n  static _unbindUILocation(anchor: Element): void {\n    const info = Linkifier.linkInfo(anchor);\n    if (!info || !info.uiLocation) {\n      return;\n    }\n\n    const uiSourceCode = info.uiLocation.uiSourceCode;\n    info.uiLocation = null;\n    const sourceCodeAnchors = anchorsByUISourceCode.get(uiSourceCode);\n    if (sourceCodeAnchors) {\n      sourceCodeAnchors.delete(anchor);\n    }\n  }\n\n  targetAdded(target: SDK.Target.Target): void {\n    this._anchorsByTarget.set(target, []);\n    this._locationPoolByTarget.set(target, new Bindings.LiveLocation.LiveLocationPool());\n  }\n\n  targetRemoved(target: SDK.Target.Target): void {\n    const locationPool = this._locationPoolByTarget.get(target);\n    this._locationPoolByTarget.delete(target);\n    if (!locationPool) {\n      return;\n    }\n    locationPool.disposeAll();\n    const anchors = (this._anchorsByTarget.get(target) as HTMLElement[] | null);\n    if (!anchors) {\n      return;\n    }\n    this._anchorsByTarget.delete(target);\n    for (const anchor of anchors) {\n      const info = Linkifier.linkInfo(anchor);\n      if (!info) {\n        continue;\n      }\n      info.liveLocation = null;\n      Linkifier._unbindUILocation(anchor);\n      const fallback = (info.fallback as HTMLElement | null);\n      if (fallback) {\n        // @ts-ignore\n        anchor.href = fallback.href;\n        UI.Tooltip.Tooltip.install(anchor, UI.Tooltip.Tooltip.getContent(fallback));\n        anchor.className = fallback.className;\n        anchor.textContent = fallback.textContent;\n        const fallbackInfo = infoByAnchor.get(fallback);\n        if (fallbackInfo) {\n          infoByAnchor.set(anchor, fallbackInfo);\n        }\n      }\n    }\n  }\n\n  maybeLinkifyScriptLocation(\n      target: SDK.Target.Target|null, scriptId: string|null, sourceURL: string, lineNumber: number|undefined,\n      options?: LinkifyOptions): HTMLElement|null {\n    let fallbackAnchor: HTMLElement|null = null;\n    const linkifyURLOptions = {\n      lineNumber,\n      maxLength: this._maxLength,\n      columnNumber: options ? options.columnNumber : undefined,\n      className: options ? options.className : undefined,\n      tabStop: options ? options.tabStop : undefined,\n      inlineFrameIndex: options ? options.inlineFrameIndex : 0,\n      text: undefined,\n      preventClick: undefined,\n      bypassURLTrimming: undefined,\n    };\n    const {columnNumber, className = ''} = linkifyURLOptions;\n    if (sourceURL) {\n      fallbackAnchor = Linkifier.linkifyURL(sourceURL, linkifyURLOptions);\n    }\n    if (!target || target.isDisposed()) {\n      return fallbackAnchor;\n    }\n    const debuggerModel = target.model(SDK.DebuggerModel.DebuggerModel);\n    if (!debuggerModel) {\n      return fallbackAnchor;\n    }\n\n    let rawLocation;\n    if (scriptId) {\n      rawLocation = debuggerModel.createRawLocationByScriptId(\n          scriptId, lineNumber || 0, columnNumber, linkifyURLOptions.inlineFrameIndex);\n    }\n    // The function createRawLocationByScriptId will always return a raw location. Normally\n    // we rely on the live location that is created from it to update missing information\n    // to create the link. If we, however, already have a similar script with the same source url,\n    // use that one.\n    if (!rawLocation?.script()) {\n      rawLocation = debuggerModel.createRawLocationByURL(\n                        sourceURL, lineNumber || 0, columnNumber, linkifyURLOptions.inlineFrameIndex) ||\n          rawLocation;\n    }\n\n    if (!rawLocation) {\n      return fallbackAnchor;\n    }\n\n    const createLinkOptions = {\n      maxLength: undefined,\n      title: undefined,\n      href: undefined,\n      preventClick: undefined,\n      bypassURLTrimming: undefined,\n      tabStop: options ? options.tabStop : undefined,\n    };\n    // Not initialising the anchor element with 'zero width space' (\\u200b) causes a crash\n    // in the layout engine.\n    // TODO(szuend): Remove comment and workaround once the crash is fixed.\n    const anchor = Linkifier._createLink(\n        fallbackAnchor && fallbackAnchor.textContent ? fallbackAnchor.textContent : '\\u200b', className,\n        createLinkOptions);\n    const info = Linkifier.linkInfo(anchor);\n    if (!info) {\n      return fallbackAnchor;\n    }\n    info.enableDecorator = this._useLinkDecorator;\n    info.fallback = fallbackAnchor;\n\n    const pool = this._locationPoolByTarget.get(rawLocation.debuggerModel.target());\n    if (!pool) {\n      return fallbackAnchor;\n    }\n    const currentOnLiveLocationUpdate = this._onLiveLocationUpdate;\n    Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance()\n        .createLiveLocation(rawLocation, this._updateAnchor.bind(this, anchor), pool)\n        .then(liveLocation => {\n          if (liveLocation) {\n            info.liveLocation = liveLocation;\n            // TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration\n            // @ts-expect-error\n            currentOnLiveLocationUpdate();\n          }\n        });\n\n    const anchors = (this._anchorsByTarget.get(rawLocation.debuggerModel.target()) as Element[]);\n    anchors.push(anchor);\n    return anchor;\n  }\n\n  linkifyScriptLocation(\n      target: SDK.Target.Target|null, scriptId: string|null, sourceURL: string, lineNumber: number|undefined,\n      options?: LinkifyOptions): HTMLElement {\n    const scriptLink = this.maybeLinkifyScriptLocation(target, scriptId, sourceURL, lineNumber, options);\n    const linkifyURLOptions = {\n      lineNumber,\n      maxLength: this._maxLength,\n      className: options ? options.className : undefined,\n      columnNumber: options ? options.columnNumber : undefined,\n      inlineFrameIndex: options ? options.inlineFrameIndex : 0,\n      tabStop: options ? options.tabStop : undefined,\n      text: undefined,\n      preventClick: undefined,\n      bypassURLTrimming: undefined,\n    };\n\n    return scriptLink || Linkifier.linkifyURL(sourceURL, linkifyURLOptions);\n  }\n\n  linkifyRawLocation(rawLocation: SDK.DebuggerModel.Location, fallbackUrl: string, className?: string): Element {\n    return this.linkifyScriptLocation(\n        rawLocation.debuggerModel.target(), rawLocation.scriptId, fallbackUrl, rawLocation.lineNumber, {\n          columnNumber: rawLocation.columnNumber,\n          className,\n          tabStop: undefined,\n          inlineFrameIndex: rawLocation.inlineFrameIndex,\n        });\n  }\n\n  maybeLinkifyConsoleCallFrame(\n      target: SDK.Target.Target|null, callFrame: Protocol.Runtime.CallFrame, options?: LinkifyOptions): HTMLElement\n      |null {\n    const linkifyOptions = {\n      columnNumber: callFrame.columnNumber,\n      inlineFrameIndex: options ? options.inlineFrameIndex : 0,\n      tabStop: options ? options.tabStop : undefined,\n      className: options ? options.className : undefined,\n    };\n    return this.maybeLinkifyScriptLocation(\n        target, callFrame.scriptId, callFrame.url, callFrame.lineNumber, linkifyOptions);\n  }\n\n  linkifyStackTraceTopFrame(target: SDK.Target.Target, stackTrace: Protocol.Runtime.StackTrace, classes?: string):\n      HTMLElement {\n    console.assert(Boolean(stackTrace.callFrames) && Boolean(stackTrace.callFrames.length));\n\n    const topFrame = stackTrace.callFrames[0];\n    const fallbackAnchor = Linkifier.linkifyURL(topFrame.url, {\n      className: classes,\n      lineNumber: topFrame.lineNumber,\n      columnNumber: topFrame.columnNumber,\n      inlineFrameIndex: 0,\n      maxLength: this._maxLength,\n      text: undefined,\n      preventClick: undefined,\n      tabStop: undefined,\n      bypassURLTrimming: undefined,\n    });\n    if (target.isDisposed()) {\n      return fallbackAnchor;\n    }\n\n    const debuggerModel = target.model(SDK.DebuggerModel.DebuggerModel);\n    if (!debuggerModel) {\n      return fallbackAnchor;\n    }\n    const rawLocations = debuggerModel.createRawLocationsByStackTrace(stackTrace);\n    if (rawLocations.length === 0) {\n      return fallbackAnchor;\n    }\n\n    // Not initialising the anchor element with 'zero width space' (\\u200b) causes a crash\n    // in the layout engine.\n    // TODO(szuend): Remove comment and workaround once the crash is fixed.\n    const anchor = Linkifier._createLink('\\u200b', classes || '');\n    const info = Linkifier.linkInfo(anchor);\n    if (!info) {\n      return fallbackAnchor;\n    }\n    info.enableDecorator = this._useLinkDecorator;\n    info.fallback = fallbackAnchor;\n\n    const pool = this._locationPoolByTarget.get(target);\n    if (!pool) {\n      return fallbackAnchor;\n    }\n    const currentOnLiveLocationUpdate = this._onLiveLocationUpdate;\n    Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance()\n        .createStackTraceTopFrameLiveLocation(rawLocations, this._updateAnchor.bind(this, anchor), pool)\n        .then(liveLocation => {\n          info.liveLocation = liveLocation;\n          // TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration\n          // @ts-expect-error\n          currentOnLiveLocationUpdate();\n        });\n\n    const anchors = (this._anchorsByTarget.get(target) as Element[]);\n    anchors.push(anchor);\n    return anchor;\n  }\n\n  linkifyCSSLocation(rawLocation: SDK.CSSModel.CSSLocation, classes?: string): Element {\n    const createLinkOptions = {\n      maxLength: undefined,\n      title: undefined,\n      href: undefined,\n      preventClick: undefined,\n      bypassURLTrimming: undefined,\n      tabStop: true,\n    };\n    // Not initialising the anchor element with 'zero width space' (\\u200b) causes a crash\n    // in the layout engine.\n    // TODO(szuend): Remove comment and workaround once the crash is fixed.\n    const anchor = (Linkifier._createLink('\\u200b', classes || '', createLinkOptions) as HTMLElement);\n    const info = Linkifier.linkInfo(anchor);\n    if (!info) {\n      return anchor;\n    }\n    info.enableDecorator = this._useLinkDecorator;\n\n    const pool = this._locationPoolByTarget.get(rawLocation.cssModel().target());\n    if (!pool) {\n      return anchor;\n    }\n    const currentOnLiveLocationUpdate = this._onLiveLocationUpdate;\n    Bindings.CSSWorkspaceBinding.CSSWorkspaceBinding.instance()\n        .createLiveLocation(rawLocation, this._updateAnchor.bind(this, anchor), pool)\n        .then(liveLocation => {\n          info.liveLocation = liveLocation;\n          // TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration\n          // @ts-expect-error\n          currentOnLiveLocationUpdate();\n        });\n\n    const anchors = (this._anchorsByTarget.get(rawLocation.cssModel().target()) as Element[]);\n    anchors.push(anchor);\n    return anchor;\n  }\n\n  reset(): void {\n    // Create a copy of {keys} so {targetRemoved} can safely modify the map.\n    for (const target of [...this._anchorsByTarget.keys()]) {\n      this.targetRemoved(target);\n      this.targetAdded(target);\n    }\n  }\n\n  dispose(): void {\n    // Create a copy of {keys} so {targetRemoved} can safely modify the map.\n    for (const target of [...this._anchorsByTarget.keys()]) {\n      this.targetRemoved(target);\n    }\n    SDK.TargetManager.TargetManager.instance().unobserveTargets(this);\n    instances.delete(this);\n  }\n\n  async _updateAnchor(anchor: HTMLElement, liveLocation: Bindings.LiveLocation.LiveLocation): Promise<void> {\n    Linkifier._unbindUILocation(anchor);\n    const uiLocation = await liveLocation.uiLocation();\n    if (!uiLocation) {\n      if (liveLocation instanceof Bindings.CSSWorkspaceBinding.LiveLocation) {\n        const header = (liveLocation as Bindings.CSSWorkspaceBinding.LiveLocation).header();\n        if (header && header.ownerNode) {\n          anchor.addEventListener('click', event => {\n            event.consume(true);\n            Common.Revealer.reveal(header.ownerNode || null);\n          }, false);\n          // TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration\n          // This workaround is needed to make stylelint happy\n          Linkifier._setTrimmedText(\n              anchor,\n              '<' +\n                  'style>');\n        }\n      }\n      return;\n    }\n\n    Linkifier._bindUILocation(anchor, uiLocation);\n    const text = uiLocation.linkText(true /* skipTrim */);\n    Linkifier._setTrimmedText(anchor, text, this._maxLength);\n\n    let titleText = uiLocation.uiSourceCode.url();\n    if (uiLocation.uiSourceCode.mimeType() === 'application/wasm') {\n      // For WebAssembly locations, we follow the conventions described in\n      // github.com/WebAssembly/design/blob/master/Web.md#developer-facing-display-conventions\n      if (typeof uiLocation.columnNumber === 'number') {\n        titleText += `:0x${uiLocation.columnNumber.toString(16)}`;\n      }\n    } else if (typeof uiLocation.lineNumber === 'number') {\n      titleText += ':' + (uiLocation.lineNumber + 1);\n    }\n    UI.Tooltip.Tooltip.install(anchor, titleText);\n    anchor.classList.toggle('ignore-list-link', await liveLocation.isIgnoreListed());\n    Linkifier._updateLinkDecorations(anchor);\n  }\n\n  setLiveLocationUpdateCallback(callback: () => void): void {\n    this._onLiveLocationUpdate = callback;\n  }\n\n  static _updateLinkDecorations(anchor: Element): void {\n    const info = Linkifier.linkInfo(anchor);\n    if (!info || !info.enableDecorator) {\n      return;\n    }\n    if (!decorator || !info.uiLocation) {\n      return;\n    }\n    if (info.icon && info.icon.parentElement) {\n      anchor.removeChild(info.icon);\n    }\n    const icon = decorator.linkIcon(info.uiLocation.uiSourceCode);\n    if (icon) {\n      icon.style.setProperty('margin-right', '2px');\n      anchor.insertBefore(icon, anchor.firstChild);\n    }\n    info.icon = icon;\n  }\n\n  static linkifyURL(url: string, options?: LinkifyURLOptions): HTMLElement {\n    options = options || {\n      text: undefined,\n      className: undefined,\n      lineNumber: undefined,\n      columnNumber: undefined,\n      inlineFrameIndex: 0,\n      preventClick: undefined,\n      maxLength: undefined,\n      tabStop: undefined,\n      bypassURLTrimming: undefined,\n    };\n    const text = options.text;\n    const className = options.className || '';\n    const lineNumber = options.lineNumber;\n    const columnNumber = options.columnNumber;\n    const preventClick = options.preventClick;\n    const maxLength = options.maxLength || UI.UIUtils.MaxLengthForDisplayedURLs;\n    const bypassURLTrimming = options.bypassURLTrimming;\n    if (!url || url.trim().toLowerCase().startsWith('javascript:')) {\n      const element = (document.createElement('span') as HTMLElement);\n      if (className) {\n        element.className = className;\n      }\n      element.textContent = text || url || i18nString(UIStrings.unknown);\n      return element;\n    }\n\n    let linkText = text || Bindings.ResourceUtils.displayNameForURL(url);\n    if (typeof lineNumber === 'number' && !text) {\n      linkText += ':' + (lineNumber + 1);\n    }\n    const title = linkText !== url ? url : '';\n    const linkOptions = {maxLength, title, href: url, preventClick, tabStop: options.tabStop, bypassURLTrimming};\n    const link = Linkifier._createLink(linkText, className, linkOptions);\n    const info = Linkifier.linkInfo(link);\n    if (!info) {\n      return link;\n    }\n    if (lineNumber) {\n      info.lineNumber = lineNumber;\n    }\n    if (columnNumber) {\n      info.columnNumber = columnNumber;\n    }\n    return link;\n  }\n\n  static linkifyRevealable(\n      revealable: Object, text: string|HTMLElement, fallbackHref?: string, title?: string,\n      className?: string): HTMLElement {\n    const createLinkOptions = {\n      maxLength: UI.UIUtils.MaxLengthForDisplayedURLs,\n      href: fallbackHref,\n      title,\n      preventClick: undefined,\n      tabStop: undefined,\n      bypassURLTrimming: undefined,\n    };\n    const link = Linkifier._createLink(text, className || '', createLinkOptions);\n    const linkInfo = Linkifier.linkInfo(link);\n    if (!linkInfo) {\n      return link;\n    }\n    linkInfo.revealable = revealable;\n    return link;\n  }\n\n  static _createLink(text: string|HTMLElement, className: string, options?: _CreateLinkOptions): HTMLElement {\n    options = options || {\n      maxLength: undefined,\n      title: undefined,\n      href: undefined,\n      preventClick: undefined,\n      tabStop: undefined,\n      bypassURLTrimming: undefined,\n    };\n    const {maxLength, title, href, preventClick, tabStop, bypassURLTrimming} = options;\n    const link = (document.createElement('span') as HTMLElement);\n    if (className) {\n      link.className = className;\n    }\n    link.classList.add('devtools-link');\n    if (title) {\n      UI.Tooltip.Tooltip.install(link, title);\n    }\n    if (href) {\n      // @ts-ignore\n      link.href = href;\n    }\n\n    if (text instanceof HTMLElement) {\n      link.appendChild(text);\n    } else {\n      if (bypassURLTrimming) {\n        link.classList.add('devtools-link-styled-trim');\n        Linkifier._appendTextWithoutHashes(link, text);\n      } else {\n        Linkifier._setTrimmedText(link, text, maxLength);\n      }\n    }\n\n    const linkInfo = {\n      icon: null,\n      enableDecorator: false,\n      uiLocation: null,\n      liveLocation: null,\n      url: href || null,\n      lineNumber: null,\n      columnNumber: null,\n      inlineFrameIndex: 0,\n      revealable: null,\n      fallback: null,\n    };\n    infoByAnchor.set(link, linkInfo);\n    if (!preventClick) {\n      link.addEventListener('click', event => {\n        if (Linkifier._handleClick(event)) {\n          event.consume(true);\n        }\n      }, false);\n      link.addEventListener('keydown', event => {\n        if (event.key === 'Enter' && Linkifier._handleClick(event)) {\n          event.consume(true);\n        }\n      }, false);\n    } else {\n      link.classList.add('devtools-link-prevent-click');\n    }\n    UI.ARIAUtils.markAsLink(link);\n    link.tabIndex = tabStop ? 0 : -1;\n    return link;\n  }\n\n  static _setTrimmedText(link: Element, text: string, maxLength?: number): void {\n    link.removeChildren();\n    if (maxLength && text.length > maxLength) {\n      const middleSplit = splitMiddle(text, maxLength);\n      Linkifier._appendTextWithoutHashes(link, middleSplit[0]);\n      Linkifier._appendHiddenText(link, middleSplit[1]);\n      Linkifier._appendTextWithoutHashes(link, middleSplit[2]);\n    } else {\n      Linkifier._appendTextWithoutHashes(link, text);\n    }\n\n    function splitMiddle(string: string, maxLength: number): string[] {\n      let leftIndex = Math.floor(maxLength / 2);\n      let rightIndex = string.length - Math.ceil(maxLength / 2) + 1;\n\n      const codePointAtRightIndex = string.codePointAt(rightIndex - 1);\n      // Do not truncate between characters that use multiple code points (emojis).\n      if (typeof codePointAtRightIndex !== 'undefined' && codePointAtRightIndex >= 0x10000) {\n        rightIndex++;\n        leftIndex++;\n      }\n      const codePointAtLeftIndex = string.codePointAt(leftIndex - 1);\n      if (typeof codePointAtLeftIndex !== 'undefined' && leftIndex > 0 && codePointAtLeftIndex >= 0x10000) {\n        leftIndex--;\n      }\n      return [string.substring(0, leftIndex), string.substring(leftIndex, rightIndex), string.substring(rightIndex)];\n    }\n  }\n\n  static _appendTextWithoutHashes(link: Element, string: string): void {\n    const hashSplit = TextUtils.TextUtils.Utils.splitStringByRegexes(string, [/[a-f0-9]{20,}/g]);\n    for (const match of hashSplit) {\n      if (match.regexIndex === -1) {\n        UI.UIUtils.createTextChild(link, match.value);\n      } else {\n        UI.UIUtils.createTextChild(link, match.value.substring(0, 7));\n        Linkifier._appendHiddenText(link, match.value.substring(7));\n      }\n    }\n  }\n\n  static _appendHiddenText(link: Element, string: string): void {\n    const ellipsisNode = UI.UIUtils.createTextChild(link.createChild('span', 'devtools-link-ellipsis'), '');\n    textByAnchor.set(ellipsisNode, string);\n  }\n\n  static untruncatedNodeText(node: Node): string {\n    return textByAnchor.get(node) || node.textContent || '';\n  }\n\n  static linkInfo(link: Element|null): _LinkInfo|null {\n    return /** @type {?_LinkInfo} */ link ? infoByAnchor.get(link) || null : null as _LinkInfo | null;\n  }\n\n  static _handleClick(event: Event): boolean {\n    const link = (event.currentTarget as Element);\n    if (UI.UIUtils.isBeingEdited((event.target as Node)) || link.hasSelection()) {\n      return false;\n    }\n    const linkInfo = Linkifier.linkInfo(link);\n    if (!linkInfo) {\n      return false;\n    }\n    return Linkifier.invokeFirstAction(linkInfo);\n  }\n\n  static _handleClickFromNewComponentLand(linkInfo: _LinkInfo): void {\n    Linkifier.invokeFirstAction(linkInfo);\n  }\n\n  static invokeFirstAction(linkInfo: _LinkInfo): boolean {\n    const actions = Linkifier._linkActions(linkInfo);\n    if (actions.length) {\n      actions[0].handler.call(null);\n      return true;\n    }\n    return false;\n  }\n\n  static _linkHandlerSetting(): Common.Settings.Setting<string> {\n    if (!linkHandlerSettingInstance) {\n      linkHandlerSettingInstance =\n          Common.Settings.Settings.instance().createSetting('openLinkHandler', i18nString(UIStrings.auto));\n    }\n    return linkHandlerSettingInstance;\n  }\n\n  static registerLinkHandler(title: string, handler: LinkHandler): void {\n    linkHandlers.set(title, handler);\n    LinkHandlerSettingUI.instance()._update();\n  }\n\n  static unregisterLinkHandler(title: string): void {\n    linkHandlers.delete(title);\n    LinkHandlerSettingUI.instance()._update();\n  }\n\n  static uiLocation(link: Element): Workspace.UISourceCode.UILocation|null {\n    const info = Linkifier.linkInfo(link);\n    return info ? info.uiLocation : null;\n  }\n\n  static _linkActions(info: _LinkInfo): {\n    section: string,\n    title: string,\n    handler: () => Promise<void>| void,\n  }[] {\n    const result: {\n      section: string,\n      title: string,\n      handler: () => Promise<void>| void,\n    }[] = [];\n\n    if (!info) {\n      return result;\n    }\n\n    let url = '';\n    let uiLocation: Workspace.UISourceCode.UILocation|(Workspace.UISourceCode.UILocation | null)|null = null;\n    if (info.uiLocation) {\n      uiLocation = info.uiLocation;\n      url = uiLocation.uiSourceCode.contentURL();\n    } else if (info.url) {\n      url = info.url;\n      const uiSourceCode = Workspace.Workspace.WorkspaceImpl.instance().uiSourceCodeForURL(url) ||\n          Workspace.Workspace.WorkspaceImpl.instance().uiSourceCodeForURL(\n              Common.ParsedURL.ParsedURL.urlWithoutHash(url));\n      uiLocation = uiSourceCode ? uiSourceCode.uiLocation(info.lineNumber || 0, info.columnNumber || 0) : null;\n    }\n    const resource = url ? Bindings.ResourceUtils.resourceForURL(url) : null;\n    const contentProvider = uiLocation ? uiLocation.uiSourceCode : resource;\n\n    const revealable = info.revealable || uiLocation || resource;\n    if (revealable) {\n      const destination = Common.Revealer.revealDestination(revealable);\n      result.push({\n        section: 'reveal',\n        title: destination ? i18nString(UIStrings.revealInS, {PH1: destination}) : i18nString(UIStrings.reveal),\n        handler: (): Promise<void> => Common.Revealer.reveal(revealable),\n      });\n    }\n    if (contentProvider) {\n      const lineNumber = uiLocation ? uiLocation.lineNumber : info.lineNumber || 0;\n      for (const title of linkHandlers.keys()) {\n        const handler = linkHandlers.get(title);\n        if (!handler) {\n          continue;\n        }\n        const action = {\n          section: 'reveal',\n          title: i18nString(UIStrings.openUsingS, {PH1: title}),\n          handler: handler.bind(null, contentProvider, lineNumber),\n        };\n        if (title === Linkifier._linkHandlerSetting().get()) {\n          result.unshift(action);\n        } else {\n          result.push(action);\n        }\n      }\n    }\n    if (resource || info.url) {\n      result.push({\n        section: 'reveal',\n        title: UI.UIUtils.openLinkExternallyLabel(),\n        handler: (): void => Host.InspectorFrontendHost.InspectorFrontendHostInstance.openInNewTab(url),\n      });\n      result.push({\n        section: 'clipboard',\n        title: UI.UIUtils.copyLinkAddressLabel(),\n        handler: (): void => Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(url),\n      });\n    }\n\n    if (uiLocation && uiLocation.uiSourceCode) {\n      const contentProvider = /** @type {!Workspace.UISourceCode.UISourceCode} */ uiLocation.uiSourceCode;\n      result.push({\n        section: 'clipboard',\n        title: UI.UIUtils.copyFileNameLabel(),\n        handler: (): void =>\n            Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(contentProvider.displayName()),\n      });\n    }\n\n    return result;\n  }\n}\n\nexport interface LinkDecorator extends Common.EventTarget.EventTarget {\n  linkIcon(uiSourceCode: Workspace.UISourceCode.UISourceCode): UI.Icon.Icon|null;\n}\n\nexport namespace LinkDecorator {\n  // TODO(crbug.com/1167717): Make this a const enum again\n  // eslint-disable-next-line rulesdir/const_enum\n  export enum Events {\n    LinkIconChanged = 'LinkIconChanged',\n  }\n}\n\nlet linkContextMenuProviderInstance: LinkContextMenuProvider;\n\nexport class LinkContextMenuProvider implements UI.ContextMenu.Provider {\n  static instance(opts: {\n    forceNew: boolean|null,\n  } = {forceNew: null}): LinkContextMenuProvider {\n    const {forceNew} = opts;\n    if (!linkContextMenuProviderInstance || forceNew) {\n      linkContextMenuProviderInstance = new LinkContextMenuProvider();\n    }\n\n    return linkContextMenuProviderInstance;\n  }\n  appendApplicableItems(event: Event, contextMenu: UI.ContextMenu.ContextMenu, target: Object): void {\n    let targetNode: (Node|null) = (target as Node | null);\n    while (targetNode && !infoByAnchor.get(targetNode)) {\n      targetNode = targetNode.parentNodeOrShadowHost();\n    }\n    const link = (targetNode as Element | null);\n    const linkInfo = Linkifier.linkInfo(link);\n    if (!linkInfo) {\n      return;\n    }\n\n    const actions = Linkifier._linkActions(linkInfo);\n    for (const action of actions) {\n      contextMenu.section(action.section).appendItem(action.title, action.handler);\n    }\n  }\n}\n\nlet linkHandlerSettingUIInstance: LinkHandlerSettingUI;\n\nexport class LinkHandlerSettingUI implements UI.SettingsUI.SettingUI {\n  _element: HTMLSelectElement;\n\n  private constructor() {\n    this._element = document.createElement('select');\n    this._element.classList.add('chrome-select');\n    this._element.addEventListener('change', this._onChange.bind(this), false);\n    this._update();\n  }\n\n  static instance(opts: {\n    forceNew: boolean|null,\n  } = {forceNew: null}): LinkHandlerSettingUI {\n    const {forceNew} = opts;\n    if (!linkHandlerSettingUIInstance || forceNew) {\n      linkHandlerSettingUIInstance = new LinkHandlerSettingUI();\n    }\n\n    return linkHandlerSettingUIInstance;\n  }\n\n  _update(): void {\n    this._element.removeChildren();\n    const names = [...linkHandlers.keys()];\n    names.unshift(i18nString(UIStrings.auto));\n    for (const name of names) {\n      const option = document.createElement('option');\n      option.textContent = name;\n      option.selected = name === Linkifier._linkHandlerSetting().get();\n      this._element.appendChild(option);\n    }\n    this._element.disabled = names.length <= 1;\n  }\n\n  _onChange(event: Event): void {\n    if (!event.target) {\n      return;\n    }\n    const value = (event.target as HTMLSelectElement).value;\n    Linkifier._linkHandlerSetting().set(value);\n  }\n\n  settingElement(): Element|null {\n    return UI.SettingsUI.createCustomSetting(i18nString(UIStrings.linkHandling), this._element);\n  }\n}\n\nlet listeningToNewEvents = false;\nfunction listenForNewComponentLinkifierEvents(): void {\n  if (listeningToNewEvents) {\n    return;\n  }\n\n  listeningToNewEvents = true;\n\n  window.addEventListener('linkifieractivated', function(event: Event) {\n    // TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const unknownEvent = (event as any);\n    const eventWithData = (unknownEvent as {\n      data: _LinkInfo,\n    });\n    Linkifier._handleClickFromNewComponentLand(eventWithData.data);\n  });\n}\n\nlistenForNewComponentLinkifierEvents();\n\nlet contentProviderContextMenuProviderInstance: ContentProviderContextMenuProvider;\n\nexport class ContentProviderContextMenuProvider implements UI.ContextMenu.Provider {\n  static instance(opts: {\n    forceNew: boolean|null,\n  } = {forceNew: null}): ContentProviderContextMenuProvider {\n    const {forceNew} = opts;\n    if (!contentProviderContextMenuProviderInstance || forceNew) {\n      contentProviderContextMenuProviderInstance = new ContentProviderContextMenuProvider();\n    }\n\n    return contentProviderContextMenuProviderInstance;\n  }\n\n  appendApplicableItems(event: Event, contextMenu: UI.ContextMenu.ContextMenu, target: Object): void {\n    const contentProvider = (target as Workspace.UISourceCode.UISourceCode);\n    const contentUrl = contentProvider.contentURL();\n    if (!contentUrl) {\n      return;\n    }\n\n    contextMenu.revealSection().appendItem(\n        UI.UIUtils.openLinkExternallyLabel(),\n        () => Host.InspectorFrontendHost.InspectorFrontendHostInstance.openInNewTab(\n            contentUrl.endsWith(':formatted') ? contentUrl.slice(0, contentUrl.lastIndexOf(':')) : contentUrl));\n    for (const title of linkHandlers.keys()) {\n      const handler = linkHandlers.get(title);\n      if (!handler) {\n        continue;\n      }\n      contextMenu.revealSection().appendItem(\n          i18nString(UIStrings.openUsingS, {PH1: title}), handler.bind(null, contentProvider, 0));\n    }\n    if (contentProvider instanceof SDK.NetworkRequest.NetworkRequest) {\n      return;\n    }\n\n    contextMenu.clipboardSection().appendItem(\n        UI.UIUtils.copyLinkAddressLabel(),\n        () => Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(contentUrl));\n\n    contextMenu.clipboardSection().appendItem(\n        UI.UIUtils.copyFileNameLabel(),\n        () => Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(contentProvider.displayName()));\n  }\n}\n\n// TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport interface _LinkInfo {\n  icon: UI.Icon.Icon|null;\n  enableDecorator: boolean;\n  uiLocation: Workspace.UISourceCode.UILocation|null;\n  liveLocation: Bindings.LiveLocation.LiveLocation|null;\n  url: string|null;\n  lineNumber: number|null;\n  columnNumber: number|null;\n  inlineFrameIndex: number;\n  revealable: Object|null;\n  fallback: Element|null;\n}\n\nexport interface LinkifyURLOptions {\n  text?: string;\n  className?: string;\n  lineNumber?: number;\n  columnNumber?: number;\n  inlineFrameIndex: number;\n  preventClick?: boolean;\n  maxLength?: number;\n  tabStop?: boolean;\n  bypassURLTrimming?: boolean;\n}\n\nexport interface LinkifyOptions {\n  className?: string;\n  columnNumber?: number;\n  inlineFrameIndex: number;\n  tabStop?: boolean;\n}\n\n// TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport interface _CreateLinkOptions {\n  maxLength?: number;\n  title?: string;\n  href?: string;\n  preventClick?: boolean;\n  tabStop?: boolean;\n  bypassURLTrimming?: boolean;\n}\n\nexport type LinkHandler = (arg0: TextUtils.ContentProvider.ContentProvider, arg1: number) => void;\n"]}