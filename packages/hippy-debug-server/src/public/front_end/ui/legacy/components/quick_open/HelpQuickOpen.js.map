{"version":3,"file":"HelpQuickOpen.js","sourceRoot":"","sources":["../../../../../../../../front_end/ui/legacy/components/quick_open/HelpQuickOpen.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAE7B,uDAAuD;AAEvD,OAAO,KAAK,EAAE,MAAM,iBAAiB,CAAC;AAEtC,OAAO,EAAC,sBAAsB,EAAE,QAAQ,EAAE,gBAAgB,EAAC,MAAM,yBAAyB,CAAC;AAC3F,OAAO,EAAC,aAAa,EAAC,MAAM,gBAAgB,CAAC;AAE7C,IAAI,qBAAoC,CAAC;AAEzC,MAAM,OAAO,aAAc,SAAQ,QAAQ;IACzC,UAAU,CAGN;IAEJ;QACE,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,sBAAsB,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IACjE,CAAC;IAED,MAAM,CAAC,QAAQ,CAAC,OAEZ,EAAC,QAAQ,EAAE,IAAI,EAAC;QAClB,MAAM,EAAC,QAAQ,EAAC,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,qBAAqB,IAAI,QAAQ,EAAE;YACtC,qBAAqB,GAAG,IAAI,aAAa,EAAE,CAAC;SAC7C;QACD,OAAO,qBAAqB,CAAC;IAC/B,CAAC;IAED,YAAY,CAAC,SAGZ;QACC,IAAI,SAAS,CAAC,KAAK,EAAE;YACnB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAC,MAAM,EAAE,SAAS,CAAC,MAAM,IAAI,EAAE,EAAE,KAAK,EAAE,SAAS,CAAC,KAAK,EAAE,EAAC,CAAC,CAAC;SAClF;IACH,CAAC;IAED,SAAS;QACP,OAAO,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;IAChC,CAAC;IAED,SAAS,CAAC,SAAiB;QACzB,OAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC;IAC3C,CAAC;IAED,WAAW,CAAC,SAAiB,EAAE,MAAc;QAC3C,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;IACnD,CAAC;IAED,UAAU,CAAC,SAAiB,EAAE,MAAc,EAAE,YAAqB,EAAE,gBAAyB;QAC5F,MAAM,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;QAC5C,MAAM,aAAa,GAAG,YAAY,CAAC,WAAW,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC;QACpE,aAAa,CAAC,WAAW,GAAG,CAAC,QAAQ,CAAC,MAAM,IAAI,GAAG,CAAC,GAAG,GAAG,CAAC;QAC3D,EAAE,CAAC,OAAO,CAAC,eAAe,CAAC,YAAY,EAAE,QAAQ,CAAC,KAAK,CAAC,CAAC;IAC3D,CAAC;IAED,UAAU,CAAC,SAAsB,EAAE,YAAoB;QACrD,IAAI,SAAS,KAAK,IAAI,EAAE;YACtB,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,CAAC;SACvD;IACH,CAAC;IAED,eAAe;QACb,OAAO,KAAK,CAAC;IACf,CAAC;CACF;AAED,gBAAgB,CAAC;IACf,MAAM,EAAE,GAAG;IACX,KAAK,EAAE,SAAS;IAChB,QAAQ,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;CAC1D,CAAC,CAAC","sourcesContent":["// Copyright 2017 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/* eslint-disable rulesdir/no_underscored_properties */\n\nimport * as UI from '../../legacy.js';\n\nimport {getRegisteredProviders, Provider, registerProvider} from './FilteredListWidget.js';\nimport {QuickOpenImpl} from './QuickOpen.js';\n\nlet helpQuickOpenInstance: HelpQuickOpen;\n\nexport class HelpQuickOpen extends Provider {\n  _providers: {\n    prefix: string,\n    title: string,\n  }[];\n\n  private constructor() {\n    super();\n    this._providers = [];\n    getRegisteredProviders().forEach(this._addProvider.bind(this));\n  }\n\n  static instance(opts: {\n    forceNew: boolean|null,\n  } = {forceNew: null}): HelpQuickOpen {\n    const {forceNew} = opts;\n    if (!helpQuickOpenInstance || forceNew) {\n      helpQuickOpenInstance = new HelpQuickOpen();\n    }\n    return helpQuickOpenInstance;\n  }\n\n  _addProvider(extension: {\n    prefix: string,\n    title?: () => string,\n  }): void {\n    if (extension.title) {\n      this._providers.push({prefix: extension.prefix || '', title: extension.title()});\n    }\n  }\n\n  itemCount(): number {\n    return this._providers.length;\n  }\n\n  itemKeyAt(itemIndex: number): string {\n    return this._providers[itemIndex].prefix;\n  }\n\n  itemScoreAt(itemIndex: number, _query: string): number {\n    return -this._providers[itemIndex].prefix.length;\n  }\n\n  renderItem(itemIndex: number, _query: string, titleElement: Element, _subtitleElement: Element): void {\n    const provider = this._providers[itemIndex];\n    const prefixElement = titleElement.createChild('span', 'monospace');\n    prefixElement.textContent = (provider.prefix || 'â€¦') + ' ';\n    UI.UIUtils.createTextChild(titleElement, provider.title);\n  }\n\n  selectItem(itemIndex: number|null, _promptValue: string): void {\n    if (itemIndex !== null) {\n      QuickOpenImpl.show(this._providers[itemIndex].prefix);\n    }\n  }\n\n  renderAsTwoRows(): boolean {\n    return false;\n  }\n}\n\nregisterProvider({\n  prefix: '?',\n  title: undefined,\n  provider: () => Promise.resolve(HelpQuickOpen.instance()),\n});\n"]}