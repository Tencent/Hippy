{"version":3,"file":"CSSShadowModel.js","sourceRoot":"","sources":["../../../../../../../../front_end/ui/legacy/components/inline_editor/CSSShadowModel.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAE7B,uDAAuD;AAEvD,OAAO,KAAK,MAAM,MAAM,mCAAmC,CAAC;AAC5D,OAAO,KAAK,SAAS,MAAM,6CAA6C,CAAC;AAEzE,MAAM,OAAO,cAAc;IACzB,YAAY,CAAU;IACtB,MAAM,CAAU;IAChB,QAAQ,CAAY;IACpB,QAAQ,CAAY;IACpB,WAAW,CAAY;IACvB,aAAa,CAAY;IACzB,MAAM,CAAqB;IAC3B,OAAO,CAAS;IAChB,UAAU,CAAU;IAEpB,YAAY,WAAoB;QAC9B,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC;QAChC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,IAAI,EAAE,CAAC;QACjC,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,IAAI,EAAE,CAAC;QACjC,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC,IAAI,EAAE,CAAC;QACpC,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC,IAAI,EAAE,CAAC;QACtC,IAAI,CAAC,MAAM,GAAI,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAwB,CAAC;QACxE,IAAI,CAAC,OAAO,GAAG,sCAA4B,CAAC;QAC5C,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;IAC1B,CAAC;IAED,MAAM,CAAC,eAAe,CAAC,IAAY;QACjC,OAAO,cAAc,CAAC,YAAY,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IAClD,CAAC;IAED,MAAM,CAAC,cAAc,CAAC,IAAY;QAChC,OAAO,cAAc,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IACjD,CAAC;IAED,MAAM,CAAC,YAAY,CAAC,IAAY,EAAE,WAAoB;QACpD,MAAM,WAAW,GAAG,EAAE,CAAC;QACvB,0FAA0F;QAC1F,MAAM,MAAM,GAAG,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,oBAAoB,CAAC,IAAI,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;QAChG,IAAI,YAAY,GAAG,CAAC,CAAC;QACrB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACtC,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,UAAU,KAAK,CAAC,EAAE;gBAC9B,MAAM,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;gBACxB,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAC/D,YAAY,GAAG,KAAK,CAAC,QAAQ,GAAG,CAAC,CAAC;aACnC;SACF;QACD,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;QAE5D,MAAM,OAAO,GAAG,EAAE,CAAC;QACnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC3C,MAAM,MAAM,GAAG,IAAI,cAAc,CAAC,WAAW,CAAC,CAAC;YAC/C,MAAM,CAAC,OAAO,GAAG,EAAE,CAAC;YACpB,IAAI,eAAe,GAAG,IAAI,CAAC;YAC3B,MAAM,OAAO,GAAG,CAAC,cAAc,EAAE,SAAS,EAAE,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,SAAS,CAAC,KAAK,CAAC,CAAC;YACjF,MAAM,OAAO,GAAG,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,oBAAoB,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;YACxF,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACvC,MAAM,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;gBAC1B,IAAI,MAAM,CAAC,UAAU,KAAK,CAAC,CAAC,EAAE;oBAC5B,+EAA+E;oBAC/E,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE;wBAC3B,OAAO,EAAE,CAAC;qBACX;oBACD,6CAA6C;oBAC7C,eAAe,GAAG,IAAI,CAAC;iBACxB;qBAAM;oBACL,IAAI,CAAC,eAAe,EAAE;wBACpB,OAAO,EAAE,CAAC;qBACX;oBACD,eAAe,GAAG,KAAK,CAAC;oBACxB,IAAI,MAAM,CAAC,UAAU,KAAK,CAAC,EAAE;wBAC3B,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC;wBACzB,MAAM,CAAC,OAAO,CAAC,IAAI,qBAAgB,CAAC;qBACrC;yBAAM,IAAI,MAAM,CAAC,UAAU,KAAK,CAAC,EAAE;wBAClC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC;wBACrB,MAAM,CAAC,OAAO,CAAC,IAAI,iBAAY,CAAC;qBACjC;yBAAM,IAAI,MAAM,CAAC,UAAU,KAAK,CAAC,EAAE;wBAClC,MAAM,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;wBACrD,IAAI,CAAC,KAAK,EAAE;4BACV,OAAO,EAAE,CAAC;yBACX;wBACD,MAAM,CAAC,MAAM,GAAG,KAAK,CAAC;wBACtB,MAAM,CAAC,OAAO,CAAC,IAAI,iBAAY,CAAC;qBACjC;yBAAM,IAAI,MAAM,CAAC,UAAU,KAAK,CAAC,EAAE;wBAClC,MAAM,MAAM,GAAG,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;wBAC7C,IAAI,CAAC,MAAM,EAAE;4BACX,OAAO,EAAE,CAAC;yBACX;wBACD,MAAM,YAAY,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;wBAChG,IAAI,YAAY,sBAAiB,EAAE;4BACjC,MAAM,CAAC,QAAQ,GAAG,MAAM,CAAC;4BACzB,MAAM,CAAC,OAAO,CAAC,IAAI,mBAAc,CAAC;yBACnC;6BAAM,IAAI,YAAY,sBAAiB,EAAE;4BACxC,MAAM,CAAC,WAAW,GAAG,MAAM,CAAC;4BAC5B,MAAM,CAAC,OAAO,CAAC,IAAI,sBAAiB,CAAC;yBACtC;6BAAM,IAAI,YAAY,yBAAoB,EAAE;4BAC3C,MAAM,CAAC,aAAa,GAAG,MAAM,CAAC;4BAC9B,MAAM,CAAC,OAAO,CAAC,IAAI,wBAAmB,CAAC;yBACxC;6BAAM;4BACL,MAAM,CAAC,QAAQ,GAAG,MAAM,CAAC;4BACzB,MAAM,CAAC,OAAO,CAAC,IAAI,mBAAc,CAAC;yBACnC;qBACF;iBACF;aACF;YACD,IAAI,YAAY,CAAC,MAAM,qBAAgB,CAAC,EAAE,CAAC,CAAC,IAAI,YAAY,CAAC,MAAM,qBAAgB,CAAC,EAAE,CAAC,CAAC;gBACpF,YAAY,CAAC,MAAM,mBAAc,CAAC,EAAE,CAAC,CAAC,IAAI,YAAY,CAAC,MAAM,wBAAmB,CAAC,EAAE,CAAC,CAAC;gBACrF,YAAY,CAAC,MAAM,mBAAc,CAAC,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACxD,YAAY,CAAC,MAAM,0BAAqB,CAAC,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC/D,YAAY,CAAC,MAAM,uBAAkB,CAAC,EAAE,CAAC,CAAC,EAAE;gBAC9C,OAAO,EAAE,CAAC;aACX;YACD,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SACtB;QACD,OAAO,OAAO,CAAC;QAEf,SAAS,YAAY,CAAC,MAAsB,EAAE,IAAY,EAAE,GAAW,EAAE,GAAW;YAClF,IAAI,KAAK,GAAG,CAAC,CAAC;YACd,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBAC9C,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,IAAI,EAAE;oBAC9B,KAAK,EAAE,CAAC;iBACT;aACF;YACD,OAAO,KAAK,GAAG,GAAG,IAAI,KAAK,GAAG,GAAG,CAAC;QACpC,CAAC;IACH,CAAC;IAED,QAAQ,CAAC,KAAc;QACrB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,iBAAY,KAAK,CAAC,CAAC,EAAE;YAC3C,IAAI,CAAC,OAAO,CAAC,OAAO,iBAAY,CAAC;SAClC;IACH,CAAC;IAED,UAAU,CAAC,OAAkB;QAC3B,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;IAC1B,CAAC;IAED,UAAU,CAAC,OAAkB;QAC3B,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;IAC1B,CAAC;IAED,aAAa,CAAC,UAAqB;QACjC,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC;QAC9B,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,sBAAiB,KAAK,CAAC,CAAC,EAAE;YAChD,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,mBAAc,CAAC;YAClD,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,uBAAkB,CAAC;SACrD;IACH,CAAC;IAED,eAAe,CAAC,YAAuB;QACrC,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;QAClC,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,wBAAmB,KAAK,CAAC,CAAC,EAAE;YAClD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YACrC,MAAM,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,sBAAiB,CAAC;YACxD,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,SAAS,GAAG,CAAC,EAAE,CAAC,yBAAoB,CAAC;SAC1D;IACH,CAAC;IAED,QAAQ,CAAC,KAAyB;QAChC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,iBAAY,KAAK,CAAC,CAAC,EAAE;YAC3C,IAAI,CAAC,OAAO,CAAC,IAAI,iBAAY,CAAC;SAC/B;IACH,CAAC;IAED,WAAW;QACT,OAAO,IAAI,CAAC,YAAY,CAAC;IAC3B,CAAC;IAED,KAAK;QACH,OAAO,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;IAED,OAAO;QACL,OAAO,IAAI,CAAC,QAAQ,CAAC;IACvB,CAAC;IAED,OAAO;QACL,OAAO,IAAI,CAAC,QAAQ,CAAC;IACvB,CAAC;IAED,UAAU;QACR,OAAO,IAAI,CAAC,WAAW,CAAC;IAC1B,CAAC;IAED,YAAY;QACV,OAAO,IAAI,CAAC,aAAa,CAAC;IAC5B,CAAC;IAED,KAAK;QACH,OAAO,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;IAED,SAAS;QACP,MAAM,KAAK,GAAG,EAAE,CAAC;QACjB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC5C,MAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YAC7B,IAAI,IAAI,oBAAe,IAAI,IAAI,CAAC,MAAM,EAAE;gBACtC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aACrB;iBAAM,IAAI,IAAI,sBAAiB,EAAE;gBAChC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC,CAAC;aACvC;iBAAM,IAAI,IAAI,sBAAiB,EAAE;gBAChC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC,CAAC;aACvC;iBAAM,IAAI,IAAI,yBAAoB,EAAE;gBACnC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC,CAAC;aAC1C;iBAAM,IAAI,IAAI,2BAAsB,EAAE;gBACrC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE,CAAC,CAAC;aAC5C;iBAAM,IAAI,IAAI,oBAAe,EAAE;gBAC9B,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;aACxD;iBAAM,IAAI,IAAI,wBAAmB,IAAI,IAAI,CAAC,UAAU,EAAE;gBACrD,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aAC1B;SACF;QACD,OAAO,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACzB,CAAC;CACF;AAaD,MAAM,OAAO,SAAS;IACpB,MAAM,CAAS;IACf,IAAI,CAAS;IACb,YAAY,MAAc,EAAE,IAAY;QACtC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACnB,CAAC;IAED,MAAM,CAAC,KAAK,CAAC,IAAY;QACvB,MAAM,WAAW,GAAG,IAAI,MAAM,CAAC,MAAM,GAAG,SAAS,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,EAAE,GAAG,CAAC,CAAC;QAC5E,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;QACtC,IAAI,CAAC,KAAK,EAAE;YACV,OAAO,IAAI,CAAC;SACb;QACD,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,EAAE;YAChC,OAAO,IAAI,SAAS,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;SACtD;QACD,OAAO,SAAS,CAAC,IAAI,EAAE,CAAC;IAC1B,CAAC;IAED,MAAM,CAAC,IAAI;QACT,OAAO,IAAI,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;IAC9B,CAAC;IAED,SAAS;QACP,OAAO,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC;IACjC,CAAC;IAED,gEAAgE;IAChE,MAAM,CAAC,KAAK,GAAG,CAAC;QACd,MAAM,MAAM,GAAG,iDAAiD,CAAC;QACjE,MAAM,IAAI,GAAG,kDAAkD,CAAC;QAChE,MAAM,IAAI,GAAG,uCAAuC,CAAC;QACrD,OAAO,IAAI,MAAM,CAAC,MAAM,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,EAAE,IAAI,CAAC,CAAC;IACtD,CAAC,CAAC,EAAE,CAAC","sourcesContent":["// Copyright 2016 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/* eslint-disable rulesdir/no_underscored_properties */\n\nimport * as Common from '../../../../core/common/common.js';\nimport * as TextUtils from '../../../../models/text_utils/text_utils.js';\n\nexport class CSSShadowModel {\n  _isBoxShadow: boolean;\n  _inset: boolean;\n  _offsetX: CSSLength;\n  _offsetY: CSSLength;\n  _blurRadius: CSSLength;\n  _spreadRadius: CSSLength;\n  _color: Common.Color.Color;\n  _format: Part[];\n  _important: boolean;\n\n  constructor(isBoxShadow: boolean) {\n    this._isBoxShadow = isBoxShadow;\n    this._inset = false;\n    this._offsetX = CSSLength.zero();\n    this._offsetY = CSSLength.zero();\n    this._blurRadius = CSSLength.zero();\n    this._spreadRadius = CSSLength.zero();\n    this._color = (Common.Color.Color.parse('black') as Common.Color.Color);\n    this._format = [Part.OffsetX, Part.OffsetY];\n    this._important = false;\n  }\n\n  static parseTextShadow(text: string): CSSShadowModel[] {\n    return CSSShadowModel._parseShadow(text, false);\n  }\n\n  static parseBoxShadow(text: string): CSSShadowModel[] {\n    return CSSShadowModel._parseShadow(text, true);\n  }\n\n  static _parseShadow(text: string, isBoxShadow: boolean): CSSShadowModel[] {\n    const shadowTexts = [];\n    // Split by commas that aren't inside of color values to get the individual shadow values.\n    const splits = TextUtils.TextUtils.Utils.splitStringByRegexes(text, [Common.Color.Regex, /,/g]);\n    let currentIndex = 0;\n    for (let i = 0; i < splits.length; i++) {\n      if (splits[i].regexIndex === 1) {\n        const comma = splits[i];\n        shadowTexts.push(text.substring(currentIndex, comma.position));\n        currentIndex = comma.position + 1;\n      }\n    }\n    shadowTexts.push(text.substring(currentIndex, text.length));\n\n    const shadows = [];\n    for (let i = 0; i < shadowTexts.length; i++) {\n      const shadow = new CSSShadowModel(isBoxShadow);\n      shadow._format = [];\n      let nextPartAllowed = true;\n      const regexes = [/!important/gi, /inset/gi, Common.Color.Regex, CSSLength.Regex];\n      const results = TextUtils.TextUtils.Utils.splitStringByRegexes(shadowTexts[i], regexes);\n      for (let j = 0; j < results.length; j++) {\n        const result = results[j];\n        if (result.regexIndex === -1) {\n          // Don't allow anything other than inset, color, length values, and whitespace.\n          if (/\\S/.test(result.value)) {\n            return [];\n          }\n          // All parts must be separated by whitespace.\n          nextPartAllowed = true;\n        } else {\n          if (!nextPartAllowed) {\n            return [];\n          }\n          nextPartAllowed = false;\n          if (result.regexIndex === 0) {\n            shadow._important = true;\n            shadow._format.push(Part.Important);\n          } else if (result.regexIndex === 1) {\n            shadow._inset = true;\n            shadow._format.push(Part.Inset);\n          } else if (result.regexIndex === 2) {\n            const color = Common.Color.Color.parse(result.value);\n            if (!color) {\n              return [];\n            }\n            shadow._color = color;\n            shadow._format.push(Part.Color);\n          } else if (result.regexIndex === 3) {\n            const length = CSSLength.parse(result.value);\n            if (!length) {\n              return [];\n            }\n            const previousPart = shadow._format.length > 0 ? shadow._format[shadow._format.length - 1] : '';\n            if (previousPart === Part.OffsetX) {\n              shadow._offsetY = length;\n              shadow._format.push(Part.OffsetY);\n            } else if (previousPart === Part.OffsetY) {\n              shadow._blurRadius = length;\n              shadow._format.push(Part.BlurRadius);\n            } else if (previousPart === Part.BlurRadius) {\n              shadow._spreadRadius = length;\n              shadow._format.push(Part.SpreadRadius);\n            } else {\n              shadow._offsetX = length;\n              shadow._format.push(Part.OffsetX);\n            }\n          }\n        }\n      }\n      if (invalidCount(shadow, Part.OffsetX, 1, 1) || invalidCount(shadow, Part.OffsetY, 1, 1) ||\n          invalidCount(shadow, Part.Color, 0, 1) || invalidCount(shadow, Part.BlurRadius, 0, 1) ||\n          invalidCount(shadow, Part.Inset, 0, isBoxShadow ? 1 : 0) ||\n          invalidCount(shadow, Part.SpreadRadius, 0, isBoxShadow ? 1 : 0) ||\n          invalidCount(shadow, Part.Important, 0, 1)) {\n        return [];\n      }\n      shadows.push(shadow);\n    }\n    return shadows;\n\n    function invalidCount(shadow: CSSShadowModel, part: string, min: number, max: number): boolean {\n      let count = 0;\n      for (let i = 0; i < shadow._format.length; i++) {\n        if (shadow._format[i] === part) {\n          count++;\n        }\n      }\n      return count < min || count > max;\n    }\n  }\n\n  setInset(inset: boolean): void {\n    this._inset = inset;\n    if (this._format.indexOf(Part.Inset) === -1) {\n      this._format.unshift(Part.Inset);\n    }\n  }\n\n  setOffsetX(offsetX: CSSLength): void {\n    this._offsetX = offsetX;\n  }\n\n  setOffsetY(offsetY: CSSLength): void {\n    this._offsetY = offsetY;\n  }\n\n  setBlurRadius(blurRadius: CSSLength): void {\n    this._blurRadius = blurRadius;\n    if (this._format.indexOf(Part.BlurRadius) === -1) {\n      const yIndex = this._format.indexOf(Part.OffsetY);\n      this._format.splice(yIndex + 1, 0, Part.BlurRadius);\n    }\n  }\n\n  setSpreadRadius(spreadRadius: CSSLength): void {\n    this._spreadRadius = spreadRadius;\n    if (this._format.indexOf(Part.SpreadRadius) === -1) {\n      this.setBlurRadius(this._blurRadius);\n      const blurIndex = this._format.indexOf(Part.BlurRadius);\n      this._format.splice(blurIndex + 1, 0, Part.SpreadRadius);\n    }\n  }\n\n  setColor(color: Common.Color.Color): void {\n    this._color = color;\n    if (this._format.indexOf(Part.Color) === -1) {\n      this._format.push(Part.Color);\n    }\n  }\n\n  isBoxShadow(): boolean {\n    return this._isBoxShadow;\n  }\n\n  inset(): boolean {\n    return this._inset;\n  }\n\n  offsetX(): CSSLength {\n    return this._offsetX;\n  }\n\n  offsetY(): CSSLength {\n    return this._offsetY;\n  }\n\n  blurRadius(): CSSLength {\n    return this._blurRadius;\n  }\n\n  spreadRadius(): CSSLength {\n    return this._spreadRadius;\n  }\n\n  color(): Common.Color.Color {\n    return this._color;\n  }\n\n  asCSSText(): string {\n    const parts = [];\n    for (let i = 0; i < this._format.length; i++) {\n      const part = this._format[i];\n      if (part === Part.Inset && this._inset) {\n        parts.push('inset');\n      } else if (part === Part.OffsetX) {\n        parts.push(this._offsetX.asCSSText());\n      } else if (part === Part.OffsetY) {\n        parts.push(this._offsetY.asCSSText());\n      } else if (part === Part.BlurRadius) {\n        parts.push(this._blurRadius.asCSSText());\n      } else if (part === Part.SpreadRadius) {\n        parts.push(this._spreadRadius.asCSSText());\n      } else if (part === Part.Color) {\n        parts.push(this._color.asString(this._color.format()));\n      } else if (part === Part.Important && this._important) {\n        parts.push('!important');\n      }\n    }\n    return parts.join(' ');\n  }\n}\n\nconst enum Part {\n  Inset = 'I',\n  OffsetX = 'X',\n  OffsetY = 'Y',\n  BlurRadius = 'B',\n  SpreadRadius = 'S',\n  Color = 'C',\n  Important = 'M',\n}\n\n\nexport class CSSLength {\n  amount: number;\n  unit: string;\n  constructor(amount: number, unit: string) {\n    this.amount = amount;\n    this.unit = unit;\n  }\n\n  static parse(text: string): CSSLength|null {\n    const lengthRegex = new RegExp('^(?:' + CSSLength.Regex.source + ')$', 'i');\n    const match = text.match(lengthRegex);\n    if (!match) {\n      return null;\n    }\n    if (match.length > 2 && match[2]) {\n      return new CSSLength(parseFloat(match[1]), match[2]);\n    }\n    return CSSLength.zero();\n  }\n\n  static zero(): CSSLength {\n    return new CSSLength(0, '');\n  }\n\n  asCSSText(): string {\n    return this.amount + this.unit;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  static Regex = (function(): RegExp {\n    const number = '([+-]?(?:[0-9]*[.])?[0-9]+(?:[eE][+-]?[0-9]+)?)';\n    const unit = '(ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmax|vmin|vw)';\n    const zero = '[+-]?(?:0*[.])?0+(?:[eE][+-]?[0-9]+)?';\n    return new RegExp(number + unit + '|' + zero, 'gi');\n  })();\n}\n"]}