{"version":3,"file":"OverviewGrid.js","sourceRoot":"","sources":["../../../../../../../../front_end/ui/legacy/components/perf_ui/OverviewGrid.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright (C) 2013 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/* eslint-disable rulesdir/no_underscored_properties */\n\nimport * as Common from '../../../../core/common/common.js';\nimport * as i18n from '../../../../core/i18n/i18n.js';\nimport * as Platform from '../../../../core/platform/platform.js';\nimport * as UI from '../../legacy.js';\n\nimport type {Calculator} from './TimelineGrid.js';\nimport {TimelineGrid} from './TimelineGrid.js';  // eslint-disable-line no-unused-vars\n\nconst UIStrings = {\n  /**\n  *@description Label for the window for Overview grids\n  */\n  overviewGridWindow: 'Overview grid window',\n  /**\n  *@description Label for left window resizer for Overview grids\n  */\n  leftResizer: 'Left Resizer',\n  /**\n  *@description Label for right window resizer for Overview grids\n  */\n  rightResizer: 'Right Resizer',\n};\nconst str_ = i18n.i18n.registerUIStrings('ui/legacy/components/perf_ui/OverviewGrid.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class OverviewGrid {\n  element: HTMLDivElement;\n  _grid: TimelineGrid;\n  _window: Window;\n  constructor(prefix: string, calculator?: Calculator) {\n    this.element = document.createElement('div');\n    this.element.id = prefix + '-overview-container';\n\n    this._grid = new TimelineGrid();\n    this._grid.element.id = prefix + '-overview-grid';\n    this._grid.setScrollTop(0);\n\n    this.element.appendChild(this._grid.element);\n\n    this._window = new Window(this.element, this._grid.dividersLabelBarElement, calculator);\n  }\n\n  clientWidth(): number {\n    return this.element.clientWidth;\n  }\n\n  updateDividers(calculator: Calculator): void {\n    this._grid.updateDividers(calculator);\n  }\n\n  addEventDividers(dividers: Element[]): void {\n    this._grid.addEventDividers(dividers);\n  }\n\n  removeEventDividers(): void {\n    this._grid.removeEventDividers();\n  }\n\n  reset(): void {\n    this._window.reset();\n  }\n\n  windowLeft(): number {\n    return this._window.windowLeft || 0;\n  }\n\n  windowRight(): number {\n    return this._window.windowRight || 0;\n  }\n\n  setWindow(left: number, right: number): void {\n    this._window._setWindow(left, right);\n  }\n\n  addEventListener(\n      eventType: string|symbol, listener: (arg0: Common.EventTarget.EventTargetEvent) => void,\n      thisObject?: Object): Common.EventTarget.EventDescriptor {\n    return this._window.addEventListener(eventType, listener, thisObject);\n  }\n\n  setClickHandler(clickHandler: ((arg0: Event) => boolean)|null): void {\n    this._window.setClickHandler(clickHandler);\n  }\n\n  zoom(zoomFactor: number, referencePoint: number): void {\n    this._window._zoom(zoomFactor, referencePoint);\n  }\n\n  setResizeEnabled(enabled: boolean): void {\n    this._window.setEnabled(enabled);\n  }\n}\n\nexport const MinSelectableSize = 14;\nexport const WindowScrollSpeedFactor = .3;\nexport const ResizerOffset = 3.5;  // half pixel because offset values are not rounded but ceiled\nexport const OffsetFromWindowEnds = 10;\n\nexport class Window extends Common.ObjectWrapper.ObjectWrapper {\n  _parentElement: Element;\n  _calculator: Calculator|undefined;\n  _leftResizeElement: HTMLElement;\n  _rightResizeElement: HTMLElement;\n  _leftCurtainElement: HTMLElement;\n  _rightCurtainElement: HTMLElement;\n  _overviewWindowSelector!: WindowSelector|undefined;\n  _offsetLeft!: number;\n  _dragStartPoint!: number;\n  _dragStartLeft!: number;\n  _dragStartRight!: number;\n  windowLeft?: number;\n  windowRight?: number;\n  _enabled?: boolean;\n  _clickHandler?: ((arg0: Event) => boolean)|null;\n  _resizerParentOffsetLeft?: number;\n  constructor(parentElement: Element, dividersLabelBarElement?: Element, calculator?: Calculator) {\n    super();\n    this._parentElement = parentElement;\n    UI.ARIAUtils.markAsGroup(this._parentElement);\n    this._calculator = calculator;\n\n    UI.ARIAUtils.setAccessibleName(this._parentElement, i18nString(UIStrings.overviewGridWindow));\n\n    UI.UIUtils.installDragHandle(\n        this._parentElement, this._startWindowSelectorDragging.bind(this), this._windowSelectorDragging.bind(this),\n        this._endWindowSelectorDragging.bind(this), 'text', null);\n    if (dividersLabelBarElement) {\n      UI.UIUtils.installDragHandle(\n          dividersLabelBarElement, this._startWindowDragging.bind(this), this._windowDragging.bind(this), null,\n          '-webkit-grabbing', '-webkit-grab');\n    }\n\n    this._parentElement.addEventListener('wheel', this._onMouseWheel.bind(this), true);\n    this._parentElement.addEventListener('dblclick', this._resizeWindowMaximum.bind(this), true);\n    UI.Utils.appendStyle(\n        this._parentElement, 'ui/legacy/components/perf_ui/overviewGrid.css', {enableLegacyPatching: false});\n\n    this._leftResizeElement = parentElement.createChild('div', 'overview-grid-window-resizer') as HTMLElement;\n    UI.UIUtils.installDragHandle(\n        this._leftResizeElement, this._resizerElementStartDragging.bind(this),\n        this._leftResizeElementDragging.bind(this), null, 'ew-resize');\n    this._rightResizeElement = (parentElement.createChild('div', 'overview-grid-window-resizer') as HTMLElement);\n    UI.UIUtils.installDragHandle(\n        this._rightResizeElement, this._resizerElementStartDragging.bind(this),\n        this._rightResizeElementDragging.bind(this), null, 'ew-resize');\n\n    UI.ARIAUtils.setAccessibleName(this._leftResizeElement, i18nString(UIStrings.leftResizer));\n    UI.ARIAUtils.markAsSlider(this._leftResizeElement);\n    const leftKeyDown = (event: Event): void => this._handleKeyboardResizing(event, false);\n    this._leftResizeElement.addEventListener('keydown', leftKeyDown);\n\n    UI.ARIAUtils.setAccessibleName(this._rightResizeElement, i18nString(UIStrings.rightResizer));\n    UI.ARIAUtils.markAsSlider(this._rightResizeElement);\n\n    const rightKeyDown = (event: Event): void => this._handleKeyboardResizing(event, true);\n    this._rightResizeElement.addEventListener('keydown', rightKeyDown);\n    this._rightResizeElement.addEventListener('focus', this._onRightResizeElementFocused.bind(this));\n    this._leftCurtainElement = (parentElement.createChild('div', 'window-curtain-left') as HTMLElement);\n    this._rightCurtainElement = (parentElement.createChild('div', 'window-curtain-right') as HTMLElement);\n    this.reset();\n  }\n\n  _onRightResizeElementFocused(): void {\n    // To prevent browser focus from scrolling the element into view and shifting the contents of the strip\n    this._parentElement.scrollLeft = 0;\n  }\n\n  reset(): void {\n    this.windowLeft = 0.0;\n    this.windowRight = 1.0;\n    this.setEnabled(true);\n    this._updateCurtains();\n  }\n\n  setEnabled(enabled: boolean): void {\n    this._enabled = enabled;\n    this._rightResizeElement.tabIndex = enabled ? 0 : -1;\n    this._leftResizeElement.tabIndex = enabled ? 0 : -1;\n  }\n\n  setClickHandler(clickHandler: ((arg0: Event) => boolean)|null): void {\n    this._clickHandler = clickHandler;\n  }\n\n  _resizerElementStartDragging(event: Event): boolean {\n    const mouseEvent = (event as MouseEvent);\n    const target = (event.target as HTMLElement);\n    if (!this._enabled) {\n      return false;\n    }\n    this._resizerParentOffsetLeft = mouseEvent.pageX - mouseEvent.offsetX - target.offsetLeft;\n    event.stopPropagation();\n    return true;\n  }\n\n  _leftResizeElementDragging(event: Event): void {\n    const mouseEvent = (event as MouseEvent);\n    this._resizeWindowLeft(mouseEvent.pageX - (this._resizerParentOffsetLeft || 0));\n    event.preventDefault();\n  }\n\n  _rightResizeElementDragging(event: Event): void {\n    const mouseEvent = (event as MouseEvent);\n    this._resizeWindowRight(mouseEvent.pageX - (this._resizerParentOffsetLeft || 0));\n    event.preventDefault();\n  }\n\n  _handleKeyboardResizing(event: Event, moveRightResizer?: boolean): void {\n    const keyboardEvent = (event as KeyboardEvent);\n    const target = (event.target as HTMLElement);\n    let increment = false;\n    if (keyboardEvent.key === 'ArrowLeft' || keyboardEvent.key === 'ArrowRight') {\n      if (keyboardEvent.key === 'ArrowRight') {\n        increment = true;\n      }\n      const newPos = this._getNewResizerPosition(target.offsetLeft, increment, keyboardEvent.ctrlKey);\n      if (moveRightResizer) {\n        this._resizeWindowRight(newPos);\n      } else {\n        this._resizeWindowLeft(newPos);\n      }\n      event.consume(true);\n    }\n  }\n\n  _getNewResizerPosition(offset: number, increment?: boolean, ctrlPressed?: boolean): number {\n    let newPos;\n    // We shift by 10px if the ctrlKey is pressed and 2 otherwise.  1px shifts result in noOp due to rounding in _updateCurtains\n    let pixelsToShift: number|(2 | 10) = ctrlPressed ? 10 : 2;\n    pixelsToShift = increment ? pixelsToShift : -Math.abs(pixelsToShift);\n    const offsetLeft = offset + ResizerOffset;\n    newPos = offsetLeft + pixelsToShift;\n    if (increment && newPos < OffsetFromWindowEnds) {\n      // When incrementing, snap to the window offset value (10px) if the new position is between 0px and 10px\n      newPos = OffsetFromWindowEnds;\n    } else if (!increment && newPos > this._parentElement.clientWidth - OffsetFromWindowEnds) {\n      // When decrementing, snap to the window offset value (10px) from the rightmost side if the new position is within 10px from the end.\n      newPos = this._parentElement.clientWidth - OffsetFromWindowEnds;\n    }\n\n    return newPos;\n  }\n\n  _startWindowSelectorDragging(event: Event): boolean {\n    if (!this._enabled) {\n      return false;\n    }\n    const mouseEvent = (event as MouseEvent);\n    this._offsetLeft = this._parentElement.totalOffsetLeft();\n    const position = mouseEvent.x - this._offsetLeft;\n    this._overviewWindowSelector = new WindowSelector(this._parentElement, position);\n    return true;\n  }\n\n  _windowSelectorDragging(event: Event): void {\n    if (!this._overviewWindowSelector) {\n      return;\n    }\n    const mouseEvent = (event as MouseEvent);\n    this._overviewWindowSelector._updatePosition(mouseEvent.x - this._offsetLeft);\n    event.preventDefault();\n  }\n\n  _endWindowSelectorDragging(event: Event): void {\n    if (!this._overviewWindowSelector) {\n      return;\n    }\n    const mouseEvent = (event as MouseEvent);\n    const window = this._overviewWindowSelector._close(mouseEvent.x - this._offsetLeft);\n    delete this._overviewWindowSelector;\n    const clickThreshold = 3;\n    if (window.end - window.start < clickThreshold) {\n      if (this._clickHandler && this._clickHandler.call(null, event)) {\n        return;\n      }\n      const middle = window.end;\n      window.start = Math.max(0, middle - MinSelectableSize / 2);\n      window.end = Math.min(this._parentElement.clientWidth, middle + MinSelectableSize / 2);\n    } else if (window.end - window.start < MinSelectableSize) {\n      if (this._parentElement.clientWidth - window.end > MinSelectableSize) {\n        window.end = window.start + MinSelectableSize;\n      } else {\n        window.start = window.end - MinSelectableSize;\n      }\n    }\n    this._setWindowPosition(window.start, window.end);\n  }\n\n  _startWindowDragging(event: Event): boolean {\n    const mouseEvent = (event as MouseEvent);\n    this._dragStartPoint = mouseEvent.pageX;\n    this._dragStartLeft = this.windowLeft || 0;\n    this._dragStartRight = this.windowRight || 0;\n    event.stopPropagation();\n    return true;\n  }\n\n  _windowDragging(event: Event): void {\n    const mouseEvent = (event as MouseEvent);\n    mouseEvent.preventDefault();\n    let delta: number = (mouseEvent.pageX - this._dragStartPoint) / this._parentElement.clientWidth;\n    if (this._dragStartLeft + delta < 0) {\n      delta = -this._dragStartLeft;\n    }\n\n    if (this._dragStartRight + delta > 1) {\n      delta = 1 - this._dragStartRight;\n    }\n\n    this._setWindow(this._dragStartLeft + delta, this._dragStartRight + delta);\n  }\n\n  _resizeWindowLeft(start: number): void {\n    // Glue to edge.\n    if (start < OffsetFromWindowEnds) {\n      start = 0;\n    } else if (start > this._rightResizeElement.offsetLeft - 4) {\n      start = this._rightResizeElement.offsetLeft - 4;\n    }\n    this._setWindowPosition(start, null);\n  }\n\n  _resizeWindowRight(end: number): void {\n    // Glue to edge.\n    if (end > this._parentElement.clientWidth - OffsetFromWindowEnds) {\n      end = this._parentElement.clientWidth;\n    } else if (end < this._leftResizeElement.offsetLeft + MinSelectableSize) {\n      end = this._leftResizeElement.offsetLeft + MinSelectableSize;\n    }\n    this._setWindowPosition(null, end);\n  }\n\n  _resizeWindowMaximum(): void {\n    this._setWindowPosition(0, this._parentElement.clientWidth);\n  }\n\n  _getRawSliderValue(leftSlider?: boolean): number {\n    if (!this._calculator) {\n      throw new Error('No calculator to calculate boundaries');\n    }\n\n    const minimumValue = this._calculator.minimumBoundary();\n    const valueSpan = this._calculator.maximumBoundary() - minimumValue;\n    if (leftSlider) {\n      return minimumValue + valueSpan * (this.windowLeft || 0);\n    }\n    return minimumValue + valueSpan * (this.windowRight || 0);\n  }\n\n  _updateResizeElementPositionValue(leftValue: number, rightValue: number): void {\n    const roundedLeftValue = leftValue.toFixed(2);\n    const roundedRightValue = rightValue.toFixed(2);\n    UI.ARIAUtils.setAriaValueNow(this._leftResizeElement, roundedLeftValue);\n    UI.ARIAUtils.setAriaValueNow(this._rightResizeElement, roundedRightValue);\n\n    // Left and right sliders cannot be within 0.5% of each other (Range of AriaValueMin/Max/Now is from 0-100).\n    const leftResizeCeiling = Number(roundedRightValue) - 0.5;\n    const rightResizeFloor = Number(roundedLeftValue) + 0.5;\n    UI.ARIAUtils.setAriaValueMinMax(this._leftResizeElement, '0', leftResizeCeiling.toString());\n    UI.ARIAUtils.setAriaValueMinMax(this._rightResizeElement, rightResizeFloor.toString(), '100');\n  }\n\n  _updateResizeElementPositionLabels(): void {\n    if (!this._calculator) {\n      return;\n    }\n    const startValue = this._calculator.formatValue(this._getRawSliderValue(/* leftSlider */ true));\n    const endValue = this._calculator.formatValue(this._getRawSliderValue(/* leftSlider */ false));\n    UI.ARIAUtils.setAriaValueText(this._leftResizeElement, String(startValue));\n    UI.ARIAUtils.setAriaValueText(this._rightResizeElement, String(endValue));\n  }\n\n  _updateResizeElementPercentageLabels(leftValue: string, rightValue: string): void {\n    UI.ARIAUtils.setAriaValueText(this._leftResizeElement, leftValue);\n    UI.ARIAUtils.setAriaValueText(this._rightResizeElement, rightValue);\n  }\n\n  _calculateWindowPosition(): {\n    rawStartValue: number,\n    rawEndValue: number,\n  } {\n    return {\n      rawStartValue: Number(this._getRawSliderValue(/* leftSlider */ true)),\n      rawEndValue: Number(this._getRawSliderValue(/* leftSlider */ false)),\n    };\n  }\n\n  _setWindow(windowLeft: number, windowRight: number): void {\n    this.windowLeft = windowLeft;\n    this.windowRight = windowRight;\n    this._updateCurtains();\n    let windowPosition;\n    if (this._calculator) {\n      windowPosition = this._calculateWindowPosition();\n    }\n    this.dispatchEventToListeners(Events.WindowChanged, windowPosition);\n  }\n\n  _updateCurtains(): void {\n    const windowLeft = this.windowLeft || 0;\n    const windowRight = this.windowRight || 0;\n    let left = windowLeft;\n    let right = windowRight;\n    const width = right - left;\n\n    // OverviewGrids that are instantiated before the parentElement is shown will have a parent element client width of 0 which throws off the 'factor' calculation\n    if (this._parentElement.clientWidth !== 0) {\n      // We allow actual time window to be arbitrarily small but don't want the UI window to be too small.\n      const widthInPixels = width * this._parentElement.clientWidth;\n      const minWidthInPixels = MinSelectableSize / 2;\n      if (widthInPixels < minWidthInPixels) {\n        const factor = minWidthInPixels / widthInPixels;\n        left = ((windowRight + windowLeft) - width * factor) / 2;\n        right = ((windowRight + windowLeft) + width * factor) / 2;\n      }\n    }\n    const leftResizerPercLeftOffset = (100 * left);\n    const rightResizerPercLeftOffset = (100 * right);\n    const rightResizerPercRightOffset = (100 - (100 * right));\n\n    const leftResizerPercLeftOffsetString = leftResizerPercLeftOffset + '%';\n    const rightResizerPercLeftOffsetString = rightResizerPercLeftOffset + '%';\n\n    this._leftResizeElement.style.left = leftResizerPercLeftOffsetString;\n    this._rightResizeElement.style.left = rightResizerPercLeftOffsetString;\n\n    this._leftCurtainElement.style.width = leftResizerPercLeftOffsetString;\n    this._rightCurtainElement.style.width = rightResizerPercRightOffset + '%';\n\n    this._updateResizeElementPositionValue(leftResizerPercLeftOffset, rightResizerPercLeftOffset);\n    if (this._calculator) {\n      this._updateResizeElementPositionLabels();\n    } else {\n      this._updateResizeElementPercentageLabels(leftResizerPercLeftOffsetString, rightResizerPercLeftOffsetString);\n    }\n  }\n\n  _setWindowPosition(start: number|null, end: number|null): void {\n    const clientWidth = this._parentElement.clientWidth;\n    const windowLeft = typeof start === 'number' ? start / clientWidth : this.windowLeft;\n    const windowRight = typeof end === 'number' ? end / clientWidth : this.windowRight;\n    this._setWindow(windowLeft || 0, windowRight || 0);\n  }\n\n  _onMouseWheel(event: Event): void {\n    const wheelEvent = (event as WheelEvent);\n    if (!this._enabled) {\n      return;\n    }\n    if (wheelEvent.deltaY) {\n      const zoomFactor = 1.1;\n      const wheelZoomSpeed = 1 / 53;\n\n      const reference = wheelEvent.offsetX / this._parentElement.clientWidth;\n      this._zoom(Math.pow(zoomFactor, wheelEvent.deltaY * wheelZoomSpeed), reference);\n    }\n    if (wheelEvent.deltaX) {\n      let offset = Math.round(wheelEvent.deltaX * WindowScrollSpeedFactor);\n      const windowLeft = this._leftResizeElement.offsetLeft + ResizerOffset;\n      const windowRight = this._rightResizeElement.offsetLeft + ResizerOffset;\n\n      if (windowLeft - offset < 0) {\n        offset = windowLeft;\n      }\n\n      if (windowRight - offset > this._parentElement.clientWidth) {\n        offset = windowRight - this._parentElement.clientWidth;\n      }\n\n      this._setWindowPosition(windowLeft - offset, windowRight - offset);\n\n      wheelEvent.preventDefault();\n    }\n  }\n\n  _zoom(factor: number, reference: number): void {\n    let left: number = this.windowLeft || 0;\n    let right: number = this.windowRight || 0;\n    const windowSize = right - left;\n    let newWindowSize: 1|number = factor * windowSize;\n    if (newWindowSize > 1) {\n      newWindowSize = 1;\n      factor = newWindowSize / windowSize;\n    }\n    left = reference + (left - reference) * factor;\n    left = Platform.NumberUtilities.clamp(left, 0, 1 - newWindowSize);\n\n    right = reference + (right - reference) * factor;\n    right = Platform.NumberUtilities.clamp(right, newWindowSize, 1);\n    this._setWindow(left, right);\n  }\n}\n\n// TODO(crbug.com/1167717): Make this a const enum again\n// eslint-disable-next-line rulesdir/const_enum\nexport enum Events {\n  WindowChanged = 'WindowChanged',\n}\n\nexport class WindowSelector {\n  _startPosition: number;\n  _width: number;\n  _windowSelector: HTMLDivElement;\n\n  constructor(parent: Element, position: number) {\n    this._startPosition = position;\n    this._width = (parent as HTMLElement).offsetWidth;\n    this._windowSelector = document.createElement('div');\n    this._windowSelector.className = 'overview-grid-window-selector';\n    this._windowSelector.style.left = this._startPosition + 'px';\n    this._windowSelector.style.right = this._width - this._startPosition + 'px';\n    parent.appendChild(this._windowSelector);\n  }\n\n  _close(position: number): {\n    start: number,\n    end: number,\n  } {\n    position = Math.max(0, Math.min(position, this._width));\n    this._windowSelector.remove();\n    return this._startPosition < position ? {start: this._startPosition, end: position} :\n                                            {start: position, end: this._startPosition};\n  }\n\n  _updatePosition(position: number): void {\n    position = Math.max(0, Math.min(position, this._width));\n    if (position < this._startPosition) {\n      this._windowSelector.style.left = position + 'px';\n      this._windowSelector.style.right = this._width - this._startPosition + 'px';\n    } else {\n      this._windowSelector.style.left = this._startPosition + 'px';\n      this._windowSelector.style.right = this._width - position + 'px';\n    }\n  }\n}\n"]}