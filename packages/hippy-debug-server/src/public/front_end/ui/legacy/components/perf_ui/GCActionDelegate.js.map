{"version":3,"file":"GCActionDelegate.js","sourceRoot":"","sources":["../../../../../../../../front_end/ui/legacy/components/perf_ui/GCActionDelegate.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAE7B,uDAAuD;AAEvD,OAAO,KAAK,GAAG,MAAM,6BAA6B,CAAC;AAGnD,IAAI,wBAA0C,CAAC;AAE/C,MAAM,OAAO,gBAAgB;IAC3B,MAAM,CAAC,QAAQ,CAAC,OAEZ,EAAC,QAAQ,EAAE,IAAI,EAAC;QAClB,MAAM,EAAC,QAAQ,EAAC,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,wBAAwB,IAAI,QAAQ,EAAE;YACzC,wBAAwB,GAAG,IAAI,gBAAgB,EAAE,CAAC;SACnD;QAED,OAAO,wBAAwB,CAAC;IAClC,CAAC;IAED,YAAY,CAAC,QAA4B,EAAE,SAAiB;QAC1D,KAAK,MAAM,iBAAiB,IAAI,GAAG,CAAC,aAAa,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC,MAAM,CACxE,GAAG,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,EAAE;YACjD,iBAAiB,CAAC,cAAc,EAAE,CAAC;SACpC;QACD,OAAO,IAAI,CAAC;IACd,CAAC;CACF","sourcesContent":["// Copyright 2016 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/* eslint-disable rulesdir/no_underscored_properties */\n\nimport * as SDK from '../../../../core/sdk/sdk.js';\nimport type * as UI from '../../legacy.js'; // eslint-disable-line no-unused-vars\n\nlet gCActionDelegateInstance: GCActionDelegate;\n\nexport class GCActionDelegate implements UI.ActionRegistration.ActionDelegate {\n  static instance(opts: {\n    forceNew: boolean|null,\n  } = {forceNew: null}): GCActionDelegate {\n    const {forceNew} = opts;\n    if (!gCActionDelegateInstance || forceNew) {\n      gCActionDelegateInstance = new GCActionDelegate();\n    }\n\n    return gCActionDelegateInstance;\n  }\n\n  handleAction(_context: UI.Context.Context, _actionId: string): boolean {\n    for (const heapProfilerModel of SDK.TargetManager.TargetManager.instance().models(\n             SDK.HeapProfilerModel.HeapProfilerModel)) {\n      heapProfilerModel.collectGarbage();\n    }\n    return true;\n  }\n}\n"]}