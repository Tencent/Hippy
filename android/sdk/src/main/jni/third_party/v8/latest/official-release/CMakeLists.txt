cmake_minimum_required(VERSION 3.4.1)

project(v8)

set(V8_LIBRARY_PATH ${CMAKE_CURRENT_SOURCE_DIR}/libs/${ANDROID_ABI} PARENT_SCOPE)
set(V8_LIBRARY_NAME libv8_monolith.a PARENT_SCOPE)

set(V8_DEFINITIONS)
list(APPEND V8_DEFINITIONS "-DV8_IMMINENT_DEPRECATION_WARNINGS;")
list(APPEND V8_DEFINITIONS "-DV8_DEPRECATION_WARNINGS;")
if ((${ANDROID_ABI} STREQUAL "arm64-v8a") OR (${ANDROID_ABI} STREQUAL "x86_64"))
  list(APPEND V8_DEFINITIONS "-DV8_COMPRESS_POINTERS;")
endif()
set(V8_DEFINITIONS ${V8_DEFINITIONS} PARENT_SCOPE)

set(V8_INCLUDE_DIRECTORIES)
string(APPEND V8_INCLUDE_DIRECTORIES "${CMAKE_CURRENT_SOURCE_DIR}/include;")
string(APPEND V8_INCLUDE_DIRECTORIES "${CMAKE_CURRENT_SOURCE_DIR}/include/v8;")
set(V8_INCLUDE_DIRECTORIES ${V8_INCLUDE_DIRECTORIES} PARENT_SCOPE)

set(V8_LINKING_MODE static PARENT_SCOPE)
